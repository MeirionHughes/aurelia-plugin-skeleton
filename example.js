var _Stringprototype=String.prototype,_NumberisFinite=Number.isFinite,_NumberisNaN=Number.isNaN,_StringfromCharCode=String.fromCharCode,_Mathmin=Math.min,_Mathfloor=Math.floor;(function(u){function h(w){if(y[w])return y[w].exports;var N=y[w]={i:w,l:!1,exports:{}};return u[w].call(N.exports,N,N.exports,h),N.l=!0,N.exports}var y={};return h.m=u,h.c=y,h.i=function(w){return w},h.d=function(w,N,A){h.o(w,N)||Object.defineProperty(w,N,{configurable:!1,enumerable:!0,get:A})},h.n=function(w){var N=w&&w.__esModule?function(){return w['default']}:function(){return w};return h.d(N,'a',N),N},h.o=function(w,N){return Object.prototype.hasOwnProperty.call(w,N)},h.p='',h(h.s=42)})({0:function(u,h,y){'use strict';(function(w){h.e=function(V,q,F){if(q){if(q.innerError&&F)return q;const z='\n------------------------------------------------\n';V+=`${z}Inner Error:\n`,'string'==typeof q?V+=`Message: ${q}`:(V+=q.message?`Message: ${q.message}`:`Unknown Inner Error Type. Displaying Inner Error as JSON:\n ${JSON.stringify(q,null,'  ')}`,q.stack&&(V+=`\nInner Error Stack:\n${q.stack}`,V+='\nEnd Inner Error Stack')),V+=z}let B=new Error(V);return q&&(B.innerError=q),B},y.d(h,'b',function(){return T}),h.f=function(V){T||(T=!0,'function'!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(q,F){let B=Object.getOwnPropertyDescriptor(q,F),z=Object.getPrototypeOf(q);for(;'undefined'==typeof B&&null!==z;)B=Object.getOwnPropertyDescriptor(z,F),z=Object.getPrototypeOf(z);return B}),V(R,I,L))};const I={};h.d=I;const R={noop(){},eachModule(){},moduleName(V){return V}};h.a=R,R.global=function(){return'undefined'==typeof self?'undefined'==typeof w?new Function('return this')():w:self}();const L={};h.c=L;let T=!1}).call(h,y(26))},1:function(u,h,y){'use strict';function w(bn){return'-'+bn.toLowerCase()}function N(bn){return(bn.charAt(0).toLowerCase()+bn.slice(1)).replace(xt,w)}function A(bn){return!(bn.auInterpolationTarget||/[^\t\n\r ]/.test(bn.textContent))}function I(bn){throw new Error(`BindingLanguage must implement ${bn}().`)}function R(bn,yn,xn,wn){if(yn){let kn=bn[yn];if(kn){if(kn!==xn)throw new Error(`Attempted to register ${wn} when one with the same name already exists. Name: ${yn}.`);return}bn[yn]=xn}}function L(bn){if(bn.animatableElement!==void 0)return bn.animatableElement;let yn=bn.firstChild;for(;yn&&1!==yn.nodeType;)yn=yn.nextSibling;return yn&&1===yn.nodeType?bn.animatableElement=yn.classList.contains('au-animate')?yn:null:bn.animatableElement=null}function T(bn){if(bn===Ie.c.Element)return this.element;if(bn===Wt){if(this.boundViewFactory)return this.boundViewFactory;let yn=this.instruction.viewFactory,xn=this.partReplacements;return xn&&(yn=xn[yn.part]||yn),this.boundViewFactory=new Wt(this,yn,xn),this.boundViewFactory}return bn===Dt?(void 0===this.viewSlot&&(this.viewSlot=new Dt(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):bn===kt?this.elementEvents||(this.elementEvents=new kt(this.element)):bn===yt?this.compositionTransaction||(this.compositionTransaction=this.parent.get(bn)):bn===Bt?this.viewResources:bn===Nt?this.instruction:this.superGet(bn)}function V(bn,yn,xn,wn,kn,_n){let Cn=bn.createChild(),Sn,Nn;for(Cn.element=yn,Cn.instruction=xn,Cn.children=wn,Cn.viewResources=_n,Cn.partReplacements=kn,Sn=xn.providers,Nn=Sn.length;Nn--;)Cn._resolvers.set(Sn[Nn],Ut);return Cn.superGet=Cn.get,Cn.get=T,Cn}function q(bn){return this._element.hasAttribute(bn)}function F(bn){return this._element.getAttribute(bn)}function B(bn,yn){this._element.setAttribute(bn,yn)}function z(bn,yn){let xn=Ie.c.createComment('anchor');if(yn){let wn=bn.firstChild;wn&&'AU-CONTENT'===wn.tagName&&(xn.contentElement=wn),xn._element=bn,xn.hasAttribute=q,xn.getAttribute=F,xn.setAttribute=B}return Ie.c.replaceNode(xn,bn),xn}function D(bn,yn,xn,wn,kn,_n,Cn,Sn,Nn){let An=xn.behaviorInstructions,Mn=xn.expressions,Pn,In,En,On,Rn;if(xn.contentExpression)return kn.push(xn.contentExpression.createBinding(yn.nextSibling)),yn.nextSibling.auInterpolationTarget=!0,void yn.parentNode.removeChild(yn);if(xn.shadowSlot){let Ln=Ie.c.createComment('slot'),Tn;return Tn=xn.slotDestination?new jt(Ln,xn.slotName,xn.slotDestination,xn.slotFallbackFactory):new qt(Ln,xn.slotName,xn.slotFallbackFactory),Ie.c.replaceNode(Ln,yn),Cn[xn.slotName]=Tn,void wn.push(Tn)}if(An.length)for(xn.anchorIsContainer||(yn=z(yn,xn.elementInstruction)),bn[xn.injectorId]=Pn=V(bn[xn.parentInjectorId],yn,xn,_n,Sn,Nn),(In=0,En=An.length);In<En;++In)On=An[In],Rn=On.type.create(Pn,On,yn,kn),wn.push(Rn);for(In=0,En=Mn.length;In<En;++In)kn.push(Mn[In].createBinding(yn))}function H(bn,yn){let xn=bn.split(';'),wn,kn,_n,Cn,Sn;for(yn=yn||{},kn=0;kn<xn.length;kn++)_n=xn[kn],wn=_n.indexOf(':'),Cn=_n.substring(0,wn).trim(),Sn=_n.substring(wn+1).trim(),yn[Cn]=Sn;return yn}function U(bn){let yn='';for(let xn in bn)yn+=xn+':'+bn[xn]+';';return yn}function W(bn,yn,xn,wn,kn,_n){let Cn=xn.behaviorInstructions,Sn=xn.expressions,Nn=xn.providers,An=xn.values,Mn,Pn,In,En,On;for(Mn=Nn.length;Mn--;)bn._resolvers.set(Nn[Mn],Ut);for(let Rn in An)if(On=yn.getAttribute(Rn),!On)yn.setAttribute(Rn,An[Rn]);else if('class'==Rn)yn.setAttribute('class',On+' '+An[Rn]);else if('style'==Rn){let Ln=H(An[Rn]);H(On,Ln),yn.setAttribute('style',U(Ln))}if(Cn.length)for(Mn=0,Pn=Cn.length;Mn<Pn;++Mn)In=Cn[Mn],En=In.type.create(bn,In,yn,kn),En.contentView&&_n.push(En.contentView),wn.push(En);for(Mn=0,Pn=Sn.length;Mn<Pn;++Mn)kn.push(Sn[Mn].createBinding(yn))}function Q(){return++Kt}function K(){return(++Gt).toString()}function $(bn){let yn=bn.getAttribute('class'),xn=K();return bn.setAttribute('class',yn?yn+' au-target':'au-target'),bn.setAttribute('au-target-id',xn),xn}function Y(bn,yn,xn,wn,kn){let _n=Ie.c.createElement('au-shadow-slot');Ie.c.replaceNode(_n,xn);let Cn=$(_n),Sn=Nt.shadowSlot(kn);if(Sn.slotName=xn.getAttribute('name')||Ft.defaultSlotKey,Sn.slotDestination=xn.getAttribute('slot'),xn.innerHTML.trim()){let Nn=Ie.c.createDocumentFragment(),An;for(;An=xn.firstChild;)Nn.appendChild(An);Sn.slotFallbackFactory=bn.compile(Nn,yn)}return wn[Cn]=Sn,_n}function X(bn,yn){return yn instanceof Oe.b?Promise.resolve(yn):bn.loadTemplate(yn)}function J(bn,yn,xn){let wn=yn.__observers__;return void 0===wn&&(!bn.isInitialized&&bn.initialize(Re.a.instance||new Re.a,yn.constructor),wn=bn.observerLocator.getOrCreateObserversLookup(yn),bn._ensurePropertiesDefined(yn,wn)),wn[xn]}function Z(){return++sn}function ee(){return!0}function te(){}function ae(bn,yn,xn){let wn=bn.get(yn);wn||(wn=[],bn.set(yn,wn)),wn.push(xn)}function oe(bn,yn){let xn=yn.binders,wn=xn.length,kn=new Map;for(let _n=0,Cn=bn.length;_n<Cn;++_n){let Sn=bn[_n],Nn=Sn.addedNodes,An=Sn.removedNodes;for(let Mn=0,Pn=An.length,In;Mn<Pn;++Mn)if(In=An[Mn],1===In.nodeType)for(let En=0,On;En<wn;++En)On=xn[En],On.onRemove(In)&&ae(kn,On,Sn);for(let Mn=0,Pn=Nn.length,In;Mn<Pn;++Mn)if(In=Nn[Mn],1===In.nodeType)for(let En=0,On;En<wn;++En)On=xn[En],On.onAdd(In)&&ae(kn,On,Sn)}kn.forEach((_n,Cn)=>{null!==Cn.changeHandler&&Cn.viewModel[Cn.changeHandler](_n)})}function se(bn,yn){return Array.isArray(yn)?bn.removeMany(yn,!0):bn.remove(yn,!0)}function le(bn){return bn.skipActivation||'function'!=typeof bn.viewModel.activate?Promise.resolve():bn.viewModel.activate(bn.model)||Promise.resolve()}function de(bn,yn){if(/[A-Z]/.test(bn)){let xn=N(bn);return Me.getLogger('templating').warn(`'${bn}' is not a valid ${yn} name and has been converted to '${xn}'. Upper-case letters are not allowed because the DOM is not case-sensitive.`),xn}return bn}function ke(bn){return function(yn){Pe.a.define(Rt.viewStrategyMetadataKey,bn,yn)}}var Me=y(5),Pe=y(4),Ie=y(0),Ee=y(6),Oe=y(8),Re=y(2),Le=y(3),Te=y(9);y.d(h,'o',function(){return ft}),y.d(h,'d',function(){return yt}),y.d(h,'s',function(){return St}),y.d(h,'n',function(){return Nt}),y.d(h,'r',function(){return Rt}),y.d(h,'b',function(){return Lt}),y.d(h,'u',function(){return Ft}),y.d(h,'a',function(){return Bt}),y.d(h,'e',function(){return Dt}),y.d(h,'l',function(){return Wt}),y.d(h,'f',function(){return nn}),y.d(h,'h',function(){return mn}),h.p=function(bn){return function(yn){Pe.a.define(Pe.a.resource,bn,yn)}},h.g=function(bn){return function(yn){let xn=Pe.a.getOrCreateOwn(Pe.a.resource,ln,yn);xn.elementName=de(bn,'custom element')}},h.k=function(bn,yn){return function(xn){let wn=Pe.a.getOrCreateOwn(Pe.a.resource,ln,xn);wn.attributeName=de(bn,'custom attribute'),wn.attributeDefaultBindingMode=yn}},h.m=function(bn){let yn=function(xn){let wn=Pe.a.getOrCreateOwn(Pe.a.resource,ln,xn);wn.liftsContent=!0};return bn?yn(bn):yn},h.j=function(bn,yn,xn){let wn=function(kn,_n,Cn){let Sn=_n?kn.constructor:kn,Nn=Pe.a.getOrCreateOwn(Pe.a.resource,ln,Sn),An;return _n&&(bn=bn||{},bn.name=_n),An=new on(bn),An.registerWith(Sn,Nn,Cn)};if(!bn)return wn;if(yn){let kn=bn;return bn=null,wn(kn,yn,xn)}return wn},h.q=function(bn){return ke(new Mt(bn))},h.i=function(bn,yn){let xn,wn;'function'==typeof bn?xn=bn:(wn=bn,xn=void 0);let kn=function(_n){Pe.a.define(Rt.viewStrategyMetadataKey,new It(wn,yn),_n)};return xn?kn(xn):kn},y.d(h,'c',function(){return vn});var Ve,je,qe,Fe,Be,ze,De,He,Ue,We,Qe,Ke,Ge,Ye,Xe,Je,Ze,et,tt,nt,rt,at,ot,st,lt,dt,ut,ct,pt,mt,gt;let ft=class{enter(){return Promise.resolve(!1)}leave(){return Promise.resolve(!1)}removeClass(yn,xn){return yn.classList.remove(xn),Promise.resolve(!1)}addClass(yn,xn){return yn.classList.add(xn),Promise.resolve(!1)}animate(){return Promise.resolve(!1)}runSequence(){}registerEffect(){}unregisterEffect(){}},vt=class{constructor(yn){this.owner=yn,this.owner._compositionCount++}done(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()}},bt=class{constructor(yn){this.owner=yn,this.owner._ownershipToken=this,this.thenable=this._createThenable()}waitForCompositionComplete(){return this.owner._tryCompleteTransaction(),this.thenable}resolve(){this._resolveCallback()}_createThenable(){return new Promise((yn)=>{this._resolveCallback=yn})}},yt=class{constructor(){this._ownershipToken=null,this._compositionCount=0}tryCapture(){return null===this._ownershipToken?new bt(this):null}enlist(){return new vt(this)}_tryCompleteTransaction(){if(0>=this._compositionCount&&(this._compositionCount=0,null!==this._ownershipToken)){let yn=this._ownershipToken;this._ownershipToken=null,yn.resolve()}}};const xt=/([A-Z])/g;let wt=class bn{constructor(){}initialize(yn,xn){this.instance=yn.get(xn)}register(yn){yn.registerViewEngineHooks(this.instance)}load(){}static convention(yn){if(yn.endsWith('ViewEngineHooks'))return new bn}},kt=class{constructor(yn){this.element=yn,this.subscriptions={}}_enqueueHandler(yn){this.subscriptions[yn.eventName]=this.subscriptions[yn.eventName]||[],this.subscriptions[yn.eventName].push(yn)}_dequeueHandler(yn){let wn=this.subscriptions[yn.eventName],xn;return wn&&(xn=wn.indexOf(yn),-1<xn&&wn.splice(xn,1)),yn}publish(yn,xn={},wn=!0,kn=!0){let _n=Ie.c.createCustomEvent(yn,{cancelable:kn,bubbles:wn,detail:xn});this.element.dispatchEvent(_n)}subscribe(yn,xn,wn=!0){return xn&&'function'==typeof xn?(xn.eventName=yn,xn.handler=xn,xn.bubbles=wn,xn.dispose=()=>{this.element.removeEventListener(yn,xn,wn),this._dequeueHandler(xn)},this.element.addEventListener(yn,xn,wn),this._enqueueHandler(xn),xn):void 0}subscribeOnce(yn,xn,wn=!0){if(xn&&'function'==typeof xn){let kn=(_n)=>{xn(_n),kn.dispose()};return this.subscribe(yn,kn,wn)}}dispose(yn){if(yn&&'string'==typeof yn){let xn=this.subscriptions[yn];if(xn)for(;xn.length;){let wn=xn.pop();wn&&wn.dispose()}}else this.disposeAll()}disposeAll(){for(let yn in this.subscriptions)this.dispose(yn)}},_t=class{constructor(){this.dependencies={}}addDependency(yn){this.dependencies[yn]=!0}hasDependency(yn){return yn in this.dependencies}},Ct=class{constructor(yn=!1,xn=!1){this.targetShadowDOM=yn,this.compileSurrogate=xn,this.associatedModuleId=null}};Ct.normal=new Ct;let St=class bn{static enhance(){let yn=new bn;return yn.enhance=!0,yn}static unitTest(yn,xn){let wn=new bn;return wn.type=yn,wn.attributes=xn||{},wn}static element(yn,xn){let wn=new bn;return wn.type=xn,wn.attributes={},wn.anchorIsContainer=!(yn.hasAttribute('containerless')||xn.containerless),wn.initiatedByBehavior=!0,wn}static attribute(yn,xn){let wn=new bn;return wn.attrName=yn,wn.type=xn||null,wn.attributes={},wn}static dynamic(yn,xn,wn){let kn=new bn;return kn.host=yn,kn.viewModel=xn,kn.viewFactory=wn,kn.inheritBindingContext=!0,kn}constructor(){this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}};St.normal=new St;let Nt=(je=Ve=class bn{static shadowSlot(yn){let xn=new bn;return xn.parentInjectorId=yn,xn.shadowSlot=!0,xn}static contentExpression(yn){let xn=new bn;return xn.contentExpression=yn,xn}static lifting(yn,xn){let wn=new bn;return wn.parentInjectorId=yn,wn.expressions=bn.noExpressions,wn.behaviorInstructions=[xn],wn.viewFactory=xn.viewFactory,wn.providers=[xn.type.target],wn.lifting=!0,wn}static normal(yn,xn,wn,kn,_n,Cn){let Sn=new bn;return Sn.injectorId=yn,Sn.parentInjectorId=xn,Sn.providers=wn,Sn.behaviorInstructions=kn,Sn.expressions=_n,Sn.anchorIsContainer=!Cn||Cn.anchorIsContainer,Sn.elementInstruction=Cn,Sn}static surrogate(yn,xn,wn,kn){let _n=new bn;return _n.expressions=wn,_n.behaviorInstructions=xn,_n.providers=yn,_n.values=kn,_n}constructor(){this.injectorId=null,this.parentInjectorId=null,this.shadowSlot=!1,this.slotName=null,this.slotFallbackFactory=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}},Ve.noExpressions=Object.freeze([]),je);const At=Pe.b.create('aurelia:view-strategy',{validate(bn){return!('function'!=typeof bn.loadViewFactory)||'View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>'},compose(bn){'function'==typeof bn.makeRelativeTo||(bn.makeRelativeTo=Ie.a.noop)}});let Mt=(qe=At(),qe(Fe=class{constructor(yn){this.path=yn,this.absolutePath=null}loadViewFactory(yn,xn,wn,kn){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=y.i(Ee.a)(this.path,this.moduleId)),xn.associatedModuleId=this.moduleId,yn.loadViewFactory(this.absolutePath||this.path,xn,wn,kn)}makeRelativeTo(yn){null===this.absolutePath&&(this.absolutePath=y.i(Ee.a)(this.path,yn))}})||Fe),Pt=(Be=At(),Be(ze=class{constructor(yn,xn){this.moduleId=xn.moduleId,this.viewUrl=yn.convertOriginToViewUrl(xn)}loadViewFactory(yn,xn,wn,kn){return xn.associatedModuleId=this.moduleId,yn.loadViewFactory(this.viewUrl,xn,wn,kn)}})||ze),It=(De=At(),De(He=class{constructor(yn,xn){this.dependencies=yn||null,this.dependencyBaseUrl=xn||''}loadViewFactory(yn,xn,wn,kn){let _n=this.entry,Cn=this.dependencies;if(_n&&_n.factoryIsReady)return Promise.resolve(null);if(this.entry=_n=new Oe.b(this.moduleId||this.dependencyBaseUrl),_n.dependencies=[],_n.templateIsLoaded=!0,null!==Cn)for(let Sn=0,Nn=Cn.length,An;Sn<Nn;++Sn)An=Cn[Sn],'string'==typeof An||'function'==typeof An?_n.addDependency(An):_n.addDependency(An.from,An.as);return xn.associatedModuleId=this.moduleId,yn.loadViewFactory(_n,xn,wn,kn)}})||He),Et=(Ue=At(),Ue(We=class{constructor(yn,xn){this.moduleId=yn,this.entry=xn}loadViewFactory(yn,xn,wn,kn){let _n=this.entry;return _n.factoryIsReady?Promise.resolve(_n.factory):(xn.associatedModuleId=this.moduleId,yn.loadViewFactory(_n,xn,wn,kn))}})||We),Ot=(Qe=At(),Qe(Ke=class{constructor(yn,xn,wn){this.markup=yn,this.dependencies=xn||null,this.dependencyBaseUrl=wn||''}loadViewFactory(yn,xn,wn,kn){let _n=this.entry,Cn=this.dependencies;if(_n&&_n.factoryIsReady)return Promise.resolve(_n.factory);if(this.entry=_n=new Oe.b(this.moduleId||this.dependencyBaseUrl),_n.template=Ie.c.createTemplateFromMarkup(this.markup),null!==Cn)for(let Sn=0,Nn=Cn.length,An;Sn<Nn;++Sn)An=Cn[Sn],'string'==typeof An||'function'==typeof An?_n.addDependency(An):_n.addDependency(An.from,An.as);return xn.associatedModuleId=this.moduleId,yn.loadViewFactory(_n,xn,wn,kn)}})||Ke),Rt=(Ye=Ge=class bn{getViewStrategy(yn){if(!yn)return null;if('object'==typeof yn&&'getViewStrategy'in yn){let kn=Pe.c.get(yn.constructor);return yn=yn.getViewStrategy(),'string'==typeof yn&&(yn=new Mt(yn)),At.assert(yn),kn.moduleId&&yn.makeRelativeTo(kn.moduleId),yn}if('string'==typeof yn&&(yn=new Mt(yn)),At.validate(yn))return yn;'function'!=typeof yn&&(yn=yn.constructor);let xn=Pe.c.get(yn),wn=Pe.a.get(bn.viewStrategyMetadataKey,yn);if(!wn){if(!xn.moduleId)throw new Error('Cannot determine default view strategy for object.',yn);wn=this.createFallbackViewStrategy(xn)}else xn.moduleId&&(wn.moduleId=xn.moduleId);return wn}createFallbackViewStrategy(yn){return new Pt(this,yn)}convertOriginToViewUrl(yn){let xn=yn.moduleId,wn=xn.endsWith('.js')||xn.endsWith('.ts')?xn.substring(0,xn.length-3):xn;return wn+'.html'}},Ge.viewStrategyMetadataKey='aurelia:view-strategy',Ye),Lt=class{inspectAttribute(){I('inspectAttribute')}createAttributeInstruction(){I('createAttributeInstruction')}inspectTextContent(){I('inspectTextContent')}},Tt=Object.freeze([]),Vt=(Xe=y.i(Re.b)(Ie.c.Element),Xe(Je=class{constructor(yn){this.element=yn,this.element.auSlotAttribute=this}valueChanged(){}})||Je),jt=class bn{constructor(yn,xn,wn,kn){this.anchor=yn,this.anchor.viewSlot=this,this.name=xn,this.destinationName=wn,this.fallbackFactory=kn,this.destinationSlot=null,this.projections=0,this.contentView=null;let _n=new Vt(this.anchor);_n.value=this.destinationName}get needsFallbackRendering(){return this.fallbackFactory&&0===this.projections}renderFallbackContent(yn,xn,wn,kn){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);let _n=Object.create(null);_n[this.destinationSlot.name]=this.destinationSlot,Ft.distributeView(this.contentView,_n,wn,kn,this.destinationSlot.name)}}passThroughTo(yn){this.destinationSlot=yn}addNode(yn,xn,wn,kn){return null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),xn.viewSlot instanceof bn?void xn.viewSlot.passThroughTo(this):void(this.projections++,this.destinationSlot.addNode(yn,xn,wn,kn))}removeView(yn,xn){this.projections--,this.destinationSlot.removeView(yn,xn),this.needsFallbackRendering&&this.renderFallbackContent(null,Tt,xn)}removeAll(yn){this.projections=0,this.destinationSlot.removeAll(yn),this.needsFallbackRendering&&this.renderFallbackContent(null,Tt,yn)}projectFrom(yn,xn){this.destinationSlot.projectFrom(yn,xn)}created(yn){this.ownerView=yn}bind(yn){this.contentView&&this.contentView.bind(yn.bindingContext,yn.overrideContext)}attached(){this.contentView&&this.contentView.attached()}detached(){this.contentView&&this.contentView.detached()}unbind(){this.contentView&&this.contentView.unbind()}},qt=class{constructor(yn,xn,wn){this.anchor=yn,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=xn,this.fallbackFactory=wn,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}get needsFallbackRendering(){return this.fallbackFactory&&0===this.projections}addNode(yn,xn,wn,kn){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),xn.viewSlot instanceof jt)return void xn.viewSlot.passThroughTo(this);if(null!==this.destinationSlots)Ft.distributeNodes(yn,[xn],this.destinationSlots,this,kn);else{xn.auOwnerView=yn,xn.auProjectionSource=wn,xn.auAssignedSlot=this;let Cn=this._findAnchor(yn,xn,wn,kn),Sn=Cn.parentNode;Sn.insertBefore(xn,Cn),this.children.push(xn),this.projections++}}removeView(yn,xn){if(null!==this.destinationSlots)Ft.undistributeView(yn,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)Ft.undistributeView(yn,this.contentView.slots,xn);else{let wn=this.children.find((kn)=>kn.auSlotProjectFrom===xn);if(wn){let kn=wn.auProjectionChildren;for(let _n=0,Cn=kn.length,Sn;_n<Cn;++_n)Sn=kn[_n],Sn.auOwnerView===yn&&(kn.splice(_n,1),yn.fragment.appendChild(Sn),_n--,Cn--,this.projections--);this.needsFallbackRendering&&this.renderFallbackContent(yn,Tt,xn)}}}removeAll(yn){if(null!==this.destinationSlots)Ft.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)Ft.undistributeAll(this.contentView.slots,yn);else{let xn=this.children.find((wn)=>wn.auSlotProjectFrom===yn);if(xn){let wn=xn.auProjectionChildren;for(let kn=0,_n=wn.length,Cn;kn<_n;++kn)Cn=wn[kn],Cn.auOwnerView.fragment.appendChild(Cn),this.projections--;xn.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,Tt,yn)}}}_findAnchor(yn,xn,wn,kn){if(wn){let _n=this.children.find((Cn)=>Cn.auSlotProjectFrom===wn);if(_n){if(void 0!==kn){let Cn=_n.auProjectionChildren,Sn=-1,Nn;for(let An=0,Mn=Cn.length,Pn;An<Mn;++An)if(Pn=Cn[An],Pn.auOwnerView!==Nn&&(Sn++,Nn=Pn.auOwnerView,Sn>=kn&&Nn!==yn))return Cn.splice(An,0,xn),Pn}return _n.auProjectionChildren.push(xn),_n}}return this.anchor}projectTo(yn){this.destinationSlots=yn}projectFrom(yn,xn){let wn=Ie.c.createComment('anchor'),kn=this.anchor.parentNode;wn.auSlotProjectFrom=xn,wn.auOwnerView=yn,wn.auProjectionChildren=[],kn.insertBefore(wn,this.anchor),this.children.push(wn),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(wn)}renderFallbackContent(yn,xn,wn,kn){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){let _n=this.contentView.slots,Cn=this.projectFromAnchors;if(null!==Cn)for(let Sn in _n){let Nn=_n[Sn];for(let An=0,Mn=Cn.length,Pn;An<Mn;++An)Pn=Cn[An],Nn.projectFrom(Pn.auOwnerView,Pn.auSlotProjectFrom)}this.fallbackSlots=_n,Ft.distributeNodes(yn,xn,_n,wn,kn)}}created(yn){this.ownerView=yn}bind(yn){this.contentView&&this.contentView.bind(yn.bindingContext,yn.overrideContext)}attached(){this.contentView&&this.contentView.attached()}detached(){this.contentView&&this.contentView.detached()}unbind(){this.contentView&&this.contentView.unbind()}},Ft=(et=Ze=class bn{static getSlotName(yn){return void 0===yn.auSlotAttribute?bn.defaultSlotKey:yn.auSlotAttribute.value}static distributeView(yn,xn,wn,kn,_n){let Cn;if(null===yn)Cn=Tt;else{let Sn=yn.fragment.childNodes,Nn=Sn.length;Cn=Array(Nn);for(let An=0;An<Nn;++An)Cn[An]=Sn[An]}bn.distributeNodes(yn,Cn,xn,wn,kn,_n)}static undistributeView(yn,xn,wn){for(let kn in xn)xn[kn].removeView(yn,wn)}static undistributeAll(yn,xn){for(let wn in yn)yn[wn].removeAll(xn)}static distributeNodes(yn,xn,wn,kn,_n,Cn){for(let Sn=0,Nn=xn.length;Sn<Nn;++Sn){let An=xn[Sn],Mn=An.nodeType;if(An.isContentProjectionSource){for(let Pn in An.viewSlot.projectTo(wn),wn)wn[Pn].projectFrom(yn,An.viewSlot);xn.splice(Sn,1),Nn--,Sn--}else if(!(1===Mn||3===Mn||An.viewSlot instanceof jt))xn.splice(Sn,1),Nn--,Sn--;else if(3===Mn&&A(An))xn.splice(Sn,1),Nn--,Sn--;else{let Pn=wn[Cn||bn.getSlotName(An)];Pn&&(Pn.addNode(yn,An,kn,_n),xn.splice(Sn,1),Nn--,Sn--)}}for(let Sn in wn){let Nn=wn[Sn];Nn.needsFallbackRendering&&Nn.renderFallbackContent(yn,xn,kn,_n)}}},Ze.defaultSlotKey='__au-default-slot-key__',et),Bt=class{constructor(yn,xn){this.bindingLanguage=null,this.parent=yn||null,this.hasParent=null!==this.parent,this.viewUrl=xn||'',this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}_tryAddHook(yn,xn){if('function'==typeof yn[xn]){let wn=yn[xn].bind(yn),kn=1,_n;for(;this[_n=xn+kn.toString()]!==void 0;)kn++;this[xn]=!0,this[_n]=wn}}_invokeHook(yn,xn,wn,kn,_n){if(this.hasParent&&this.parent._invokeHook(yn,xn,wn,kn,_n),this[yn]){this[yn+'1'](xn,wn,kn,_n);let Cn=yn+'2';if(this[Cn]&&(this[Cn](xn,wn,kn,_n),Cn=yn+'3',this[Cn])){this[Cn](xn,wn,kn,_n);for(let Sn=4;void 0!==this[Cn=yn+Sn.toString()];)this[Cn](xn,wn,kn,_n),Sn++}}}registerViewEngineHooks(yn){this._tryAddHook(yn,'beforeCompile'),this._tryAddHook(yn,'afterCompile'),this._tryAddHook(yn,'beforeCreate'),this._tryAddHook(yn,'afterCreate'),this._tryAddHook(yn,'beforeBind'),this._tryAddHook(yn,'beforeUnbind')}getBindingLanguage(yn){return this.bindingLanguage||(this.bindingLanguage=yn)}patchInParent(yn){let xn=this.parent;this.parent=yn||null,this.hasParent=null!==this.parent,null===yn.parent&&(yn.parent=xn,yn.hasParent=null!==xn)}relativeToView(yn){return y.i(Ee.a)(yn,this.viewUrl)}registerElement(yn,xn){R(this.elements,yn,xn,'an Element')}getElement(yn){return this.elements[yn]||(this.hasParent?this.parent.getElement(yn):null)}mapAttribute(yn){return this.attributeMap[yn]||(this.hasParent?this.parent.mapAttribute(yn):null)}registerAttribute(yn,xn,wn){this.attributeMap[yn]=wn,R(this.attributes,yn,xn,'an Attribute')}getAttribute(yn){return this.attributes[yn]||(this.hasParent?this.parent.getAttribute(yn):null)}registerValueConverter(yn,xn){R(this.valueConverters,yn,xn,'a ValueConverter')}getValueConverter(yn){return this.valueConverters[yn]||(this.hasParent?this.parent.getValueConverter(yn):null)}registerBindingBehavior(yn,xn){R(this.bindingBehaviors,yn,xn,'a BindingBehavior')}getBindingBehavior(yn){return this.bindingBehaviors[yn]||(this.hasParent?this.parent.getBindingBehavior(yn):null)}registerValue(yn,xn){R(this.values,yn,xn,'a value')}getValue(yn){return this.values[yn]||(this.hasParent?this.parent.getValue(yn):null)}},zt=class{constructor(yn,xn,wn,kn,_n,Cn,Sn){for(let Nn in this.container=yn,this.viewFactory=xn,this.resources=xn.resources,this.fragment=wn,this.firstChild=wn.firstChild,this.lastChild=wn.lastChild,this.controllers=kn,this.bindings=_n,this.children=Cn,this.slots=Sn,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null,Sn){this.hasSlots=!0;break}}returnToCache(){this.viewFactory.returnViewToCache(this)}created(){let yn,xn,wn=this.controllers;for(yn=0,xn=wn.length;yn<xn;++yn)wn[yn].created(this)}bind(yn,xn,wn){let kn,_n,Cn,Sn,Nn;if(!(wn&&this._isUserControlled)){if(this.isBound){if(this.bindingContext===yn)return;this.unbind()}for(this.isBound=!0,this.bindingContext=yn,this.overrideContext=xn||y.i(Le.a)(yn),this.resources._invokeHook('beforeBind',this),_n=this.bindings,(Sn=0,Nn=_n.length);Sn<Nn;++Sn)_n[Sn].bind(this);for(null!==this.viewModelScope&&(yn.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),kn=this.controllers,(Sn=0,Nn=kn.length);Sn<Nn;++Sn)kn[Sn].bind(this);for(Cn=this.children,Sn=0,Nn=Cn.length;Sn<Nn;++Sn)Cn[Sn].bind(yn,xn,!0);this.hasSlots&&Ft.distributeView(this.contentView,this.slots)}}addBinding(yn){this.bindings.push(yn),this.isBound&&yn.bind(this)}unbind(){let yn,xn,wn,kn,_n;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook('beforeUnbind',this),null!==this.controller&&this.controller.unbind(),xn=this.bindings,(kn=0,_n=xn.length);kn<_n;++kn)xn[kn].unbind();for(yn=this.controllers,kn=0,_n=yn.length;kn<_n;++kn)yn[kn].unbind();for(wn=this.children,kn=0,_n=wn.length;kn<_n;++kn)wn[kn].unbind();this.bindingContext=null,this.overrideContext=null}}insertNodesBefore(yn){yn.parentNode.insertBefore(this.fragment,yn)}appendNodesTo(yn){yn.appendChild(this.fragment)}removeNodes(){for(let yn=this.fragment,xn=this.firstChild,wn=this.lastChild,kn;xn&&(kn=xn.nextSibling,yn.appendChild(xn),xn!==wn);)xn=kn}attached(){let yn,xn,wn,kn;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),yn=this.controllers,(wn=0,kn=yn.length);wn<kn;++wn)yn[wn].attached();for(xn=this.children,wn=0,kn=xn.length;wn<kn;++wn)xn[wn].attached()}}detached(){let yn,xn,wn,kn;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),yn=this.controllers,(wn=0,kn=yn.length);wn<kn;++wn)yn[wn].detached();for(xn=this.children,wn=0,kn=xn.length;wn<kn;++wn)xn[wn].detached()}}},Dt=class{constructor(yn,xn,wn=ft.instance){this.anchor=yn,this.anchorIsContainer=xn,this.bindingContext=null,this.overrideContext=null,this.animator=wn,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,yn.viewSlot=this,yn.isContentProjectionSource=!1}animateView(yn,xn='enter'){let wn=L(yn);if(null!==wn)switch(xn){case'enter':return this.animator.enter(wn);case'leave':return this.animator.leave(wn);default:throw new Error('Invalid animation direction: '+xn);}}transformChildNodesIntoView(){let yn=this.anchor;this.children.push({fragment:yn,firstChild:yn.firstChild,lastChild:yn.lastChild,returnToCache(){},removeNodes(){for(let xn;xn=yn.lastChild;)yn.removeChild(xn)},created(){},bind(){},unbind(){},attached(){},detached(){}})}bind(yn,xn){let wn,kn,_n;if(this.isBound){if(this.bindingContext===yn)return;this.unbind()}for(this.isBound=!0,this.bindingContext=yn=yn||this.bindingContext,this.overrideContext=xn=xn||this.overrideContext,_n=this.children,(wn=0,kn=_n.length);wn<kn;++wn)_n[wn].bind(yn,xn,!0)}unbind(){if(this.isBound){let yn,xn,wn=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,(yn=0,xn=wn.length);yn<xn;++yn)wn[yn].unbind()}}add(yn){if(this.anchorIsContainer?yn.appendNodesTo(this.anchor):yn.insertNodesBefore(this.anchor),this.children.push(yn),this.isAttached)return yn.attached(),this.animateView(yn,'enter')}insert(yn,xn){let wn=this.children,kn=wn.length;return 0===yn&&0===kn||yn>=kn?this.add(xn):(xn.insertNodesBefore(wn[yn].firstChild),wn.splice(yn,0,xn),this.isAttached)?(xn.attached(),this.animateView(xn,'enter')):void 0}move(yn,xn){if(yn!==xn){const wn=this.children,kn=wn[yn];kn.removeNodes(),kn.insertNodesBefore(wn[xn].firstChild),wn.splice(yn,1),wn.splice(xn,0,kn)}}remove(yn,xn,wn){return this.removeAt(this.children.indexOf(yn),xn,wn)}removeMany(yn,xn,wn){const kn=this.children;let _n=yn.length,Cn,Sn=[];yn.forEach((An)=>{if(wn)return void An.removeNodes();let Mn=this.animateView(An,'leave');Mn?Sn.push(Mn.then(()=>An.removeNodes())):An.removeNodes()});let Nn=()=>{if(this.isAttached)for(Cn=0;Cn<_n;++Cn)yn[Cn].detached();if(xn)for(Cn=0;Cn<_n;++Cn)yn[Cn].returnToCache();for(Cn=0;Cn<_n;++Cn){const An=kn.indexOf(yn[Cn]);0<=An&&kn.splice(An,1)}};return 0<Sn.length?Promise.all(Sn).then(()=>Nn()):Nn()}removeAt(yn,xn,wn){let kn=this.children[yn],_n=()=>{return yn=this.children.indexOf(kn),kn.removeNodes(),this.children.splice(yn,1),this.isAttached&&kn.detached(),xn&&kn.returnToCache(),kn};if(!wn){let Cn=this.animateView(kn,'leave');if(Cn)return Cn.then(()=>_n())}return _n()}removeAll(yn,xn){let wn=this.children,kn=wn.length,_n,Cn=[];wn.forEach((Nn)=>{if(xn)return void Nn.removeNodes();let An=this.animateView(Nn,'leave');An?Cn.push(An.then(()=>Nn.removeNodes())):Nn.removeNodes()});let Sn=()=>{if(this.isAttached)for(_n=0;_n<kn;++_n)wn[_n].detached();if(yn)for(_n=0;_n<kn;++_n){const Nn=wn[_n];Nn&&Nn.returnToCache()}this.children=[]};return 0<Cn.length?Promise.all(Cn).then(()=>Sn()):Sn()}attached(){let yn,xn,wn,kn;if(!this.isAttached)for(this.isAttached=!0,wn=this.children,(yn=0,xn=wn.length);yn<xn;++yn)kn=wn[yn],kn.attached(),this.animateView(kn,'enter')}detached(){let yn,xn,wn;if(this.isAttached)for(this.isAttached=!1,wn=this.children,(yn=0,xn=wn.length);yn<xn;++yn)wn[yn].detached()}projectTo(yn){this.projectToSlots=yn,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach((xn)=>Ft.distributeView(xn,yn,this))}_projectionAdd(yn){Ft.distributeView(yn,this.projectToSlots,this),this.children.push(yn),this.isAttached&&yn.attached()}_projectionInsert(yn,xn){0===yn&&!this.children.length||yn>=this.children.length?this.add(xn):(Ft.distributeView(xn,this.projectToSlots,this,yn),this.children.splice(yn,0,xn),this.isAttached&&xn.attached())}_projectionMove(yn,xn){if(yn!==xn){const wn=this.children,kn=wn[yn];Ft.undistributeView(kn,this.projectToSlots,this),Ft.distributeView(kn,this.projectToSlots,this,xn),wn.splice(yn,1),wn.splice(xn,0,kn)}}_projectionRemove(yn){Ft.undistributeView(yn,this.projectToSlots,this),this.children.splice(this.children.indexOf(yn),1),this.isAttached&&yn.detached()}_projectionRemoveAt(yn){let wn=this.children[yn];Ft.undistributeView(wn,this.projectToSlots,this),this.children.splice(yn,1),this.isAttached&&wn.detached()}_projectionRemoveMany(yn,xn){yn.forEach((wn)=>this.remove(wn,xn))}_projectionRemoveAll(){Ft.undistributeAll(this.projectToSlots,this);let xn=this.children;if(this.isAttached)for(let wn=0,kn=xn.length;wn<kn;++wn)xn[wn].detached();this.children=[]}},Ht=y.i(Re.c)(tt=class{get(yn,xn){let wn=xn.__providerId__;return wn in yn?yn[wn]:yn[wn]=yn.invoke(xn)}})||tt,Ut=new Ht,Wt=class{constructor(yn,xn,wn){this.parentContainer=yn,this.viewFactory=xn,this.factoryCreateInstruction={partReplacements:wn}}create(){let yn=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return yn._isUserControlled=!0,yn}get isCaching(){return this.viewFactory.isCaching}setCacheSize(yn,xn){this.viewFactory.setCacheSize(yn,xn)}getCachedView(){return this.viewFactory.getCachedView()}returnViewToCache(yn){this.viewFactory.returnViewToCache(yn)}},Qt=class{constructor(yn,xn,wn){this.isCaching=!1,this.template=yn,this.instructions=xn,this.resources=wn,this.cacheSize=-1,this.cache=null}setCacheSize(yn,xn){yn&&('*'===yn?yn=Number.MAX_VALUE:'string'==typeof yn&&(yn=parseInt(yn,10))),-1!==this.cacheSize&&xn||(this.cacheSize=yn),this.cache=0<this.cacheSize?[]:null,this.isCaching=0<this.cacheSize}getCachedView(){return null===this.cache?null:this.cache.pop()||null}returnViewToCache(yn){yn.isAttached&&yn.detached(),yn.isBound&&yn.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(yn.fromCache=!0,this.cache.push(yn))}create(yn,xn,wn){xn=xn||St.normal;let kn=this.getCachedView();if(null!==kn)return kn;let _n=xn.enhance?this.template:this.template.cloneNode(!0),Cn=_n.querySelectorAll('.au-target'),Sn=this.instructions,Nn=this.resources,An=[],Mn=[],Pn=[],In=Object.create(null),En={root:yn},On=xn.partReplacements,Rn,Ln,Tn,Vn,jn;for(this.resources._invokeHook('beforeCreate',this,yn,_n,xn),wn&&null!==this.surrogateInstruction&&W(yn,wn,this.surrogateInstruction,An,Mn,Pn),xn.enhance&&_n.hasAttribute('au-target-id')&&(Vn=_n,jn=Sn[Vn.getAttribute('au-target-id')],D(En,Vn,jn,An,Mn,Pn,In,On,Nn)),(Rn=0,Ln=Cn.length);Rn<Ln;++Rn)Vn=Cn[Rn],jn=Sn[Vn.getAttribute('au-target-id')],D(En,Vn,jn,An,Mn,Pn,In,On,Nn);return Tn=new zt(yn,this,_n,An,Mn,Pn,In),xn.initiatedByBehavior||Tn.created(),this.resources._invokeHook('afterCreate',Tn),Tn}},Kt=0,Gt=0,Yt=(nt=y.i(Re.b)(Lt,Bt),nt(rt=class{constructor(yn,xn){this.bindingLanguage=yn,this.resources=xn}compile(yn,xn,wn){xn=xn||this.resources,wn=wn||Ct.normal,yn='string'==typeof yn?Ie.c.createTemplateFromMarkup(yn):yn;let kn,_n,Cn;yn.content?(_n=yn.getAttribute('part'),Cn=yn.getAttribute('view-cache'),kn=Ie.c.adoptNode(yn.content)):kn=yn,wn.targetShadowDOM=wn.targetShadowDOM&&Ie.d.shadowDOM,xn._invokeHook('beforeCompile',kn,xn,wn);let Sn={};this._compileNode(kn,xn,Sn,yn,'root',!wn.targetShadowDOM);let Nn=kn.firstChild;if(Nn&&1===Nn.nodeType){let Mn=Nn.getAttribute('au-target-id');if(Mn){let Pn=Sn[Mn];(Pn.shadowSlot||Pn.lifting||Pn.elementInstruction&&!Pn.elementInstruction.anchorIsContainer)&&kn.insertBefore(Ie.c.createComment('view'),Nn)}}let An=new Qt(kn,Sn,xn);return An.surrogateInstruction=wn.compileSurrogate?this._compileSurrogate(yn,xn):null,An.part=_n,Cn&&An.setCacheSize(Cn),xn._invokeHook('afterCompile',An),An}_compileNode(yn,xn,wn,kn,_n,Cn){switch(yn.nodeType){case 1:return this._compileElement(yn,xn,wn,kn,_n,Cn);case 3:let Sn=xn.getBindingLanguage(this.bindingLanguage).inspectTextContent(xn,yn.wholeText);if(Sn){let An=Ie.c.createElement('au-marker'),Mn=$(An);for((yn.parentNode||kn).insertBefore(An,yn),yn.textContent=' ',wn[Mn]=Nt.contentExpression(Sn);yn.nextSibling&&3===yn.nextSibling.nodeType;)(yn.parentNode||kn).removeChild(yn.nextSibling)}else for(;yn.nextSibling&&3===yn.nextSibling.nodeType;)yn=yn.nextSibling;return yn.nextSibling;case 11:for(let Nn=yn.firstChild;Nn;)Nn=this._compileNode(Nn,xn,wn,yn,_n,Cn);break;default:}return yn.nextSibling}_compileSurrogate(yn,xn){let wn=yn.tagName.toLowerCase(),kn=yn.attributes,_n=xn.getBindingLanguage(this.bindingLanguage),Cn,Sn,Nn,An,Mn,Pn,In,En,On,Rn,Ln=[],Tn,Vn=[],jn={},qn=!1,Fn=[];for(An=0,Mn=kn.length;An<Mn;++An){if(Pn=kn[An],In=Pn.name,En=Pn.value,On=_n.inspectAttribute(xn,wn,In,En),Rn=xn.getAttribute(On.attrName),Rn&&(Cn=xn.mapAttribute(On.attrName),Cn&&(Sn=Rn.attributes[Cn],Sn&&(On.defaultBindingMode=Sn.defaultBindingMode,On.command||On.expression||(On.command=Sn.hasOptions?'options':null),On.command&&'options'!==On.command&&Rn.primaryProperty)))){const Bn=Rn.primaryProperty;In=On.attrName=Bn.name,On.defaultBindingMode=Bn.defaultBindingMode}if(Nn=_n.createAttributeInstruction(xn,yn,On,void 0,Rn),Nn){if(Nn.alteredAttr&&(Rn=xn.getAttribute(Nn.attrName)),Nn.discrete)Ln.push(Nn);else if(!Rn)Ln.push(Nn.attributes[Nn.attrName]);else if(Nn.type=Rn,this._configureProperties(Nn,xn),Rn.liftsContent)throw new Error('You cannot place a template controller on a surrogate element.');else Vn.push(Nn);}else if(!Rn)'id'!==In&&'part'!==In&&'replace-part'!==In&&(qn=!0,jn[In]=En);else if(Nn=St.attribute(In,Rn),Nn.attributes[xn.mapAttribute(In)]=En,Rn.liftsContent)throw new Error('You cannot place a template controller on a surrogate element.');else Vn.push(Nn)}if(Ln.length||Vn.length||qn){for(An=0,Mn=Vn.length;An<Mn;++An)Nn=Vn[An],Nn.type.compile(this,xn,yn,Nn),Fn.push(Nn.type.target);for(An=0,Mn=Ln.length;An<Mn;++An)Tn=Ln[An],void 0!==Tn.attrToRemove&&yn.removeAttribute(Tn.attrToRemove);return Nt.surrogate(Fn,Vn,Ln,jn)}return null}_compileElement(yn,xn,wn,kn,_n,Cn){let Sn=yn.tagName.toLowerCase(),Nn=yn.attributes,An=[],Mn,Pn=[],In=[],En=xn.getBindingLanguage(this.bindingLanguage),On,Rn,Ln,Tn,Vn,jn,qn,Fn,Bn,zn,Dn,Hn,Un,Wn,Qn,Kn;if('slot'===Sn)return Cn&&(yn=Y(this,xn,yn,wn,_n)),yn.nextSibling;for('template'===Sn?(Rn=this.compile(yn,xn),Rn.part=yn.getAttribute('part')):(Ln=xn.getElement(yn.getAttribute('as-element')||Sn),Ln&&(Tn=St.element(yn,Ln),Ln.processAttributes(this,xn,yn,Nn,Tn),Pn.push(Tn))),jn=0,qn=Nn.length;jn<qn;++jn){if(Fn=Nn[jn],Bn=Fn.name,zn=Fn.value,Hn=En.inspectAttribute(xn,Sn,Bn,zn),Cn&&'slot'===Hn.attrName&&(Hn.attrName=Bn='au-slot'),Ln=xn.getAttribute(Hn.attrName),Vn=null,!Ln)Tn&&(Vn=Tn.type.attributes[Hn.attrName],Vn&&(Hn.defaultBindingMode=Vn.defaultBindingMode));else if(Wn=xn.mapAttribute(Hn.attrName),Wn&&(Un=Ln.attributes[Wn],Un&&(Hn.defaultBindingMode=Un.defaultBindingMode,Hn.command||Hn.expression||(Hn.command=Un.hasOptions?'options':null),Hn.command&&'options'!==Hn.command&&Ln.primaryProperty))){const Gn=Ln.primaryProperty;Bn=Hn.attrName=Gn.name,Hn.defaultBindingMode=Gn.defaultBindingMode}if(Dn=Vn?En.createAttributeInstruction(xn,yn,Hn,Tn):En.createAttributeInstruction(xn,yn,Hn,void 0,Ln),Dn){if(Dn.alteredAttr&&(Ln=xn.getAttribute(Dn.attrName)),Dn.discrete)An.push(Dn);else if(!Ln)Vn?Tn.attributes[Hn.attrName].targetProperty=Vn.name:An.push(Dn.attributes[Dn.attrName]);else if(Dn.type=Ln,this._configureProperties(Dn,xn),Ln.liftsContent){Dn.originalAttrName=Bn,On=Dn;break}else Pn.push(Dn);}else if(!Ln)Vn&&(Tn.attributes[Bn]=zn);else if(Dn=St.attribute(Bn,Ln),Dn.attributes[xn.mapAttribute(Bn)]=zn,Ln.liftsContent){Dn.originalAttrName=Bn,On=Dn;break}else Pn.push(Dn)}if(On)On.viewFactory=Rn,yn=On.type.compile(this,xn,yn,On,kn),Qn=$(yn),wn[Qn]=Nt.lifting(_n,On);else{if(An.length||Pn.length){for(Kn=!!Pn.length&&Q(),jn=0,qn=Pn.length;jn<qn;++jn)Dn=Pn[jn],Dn.type.compile(this,xn,yn,Dn,kn),In.push(Dn.type.target);for(jn=0,qn=An.length;jn<qn;++jn)Mn=An[jn],void 0!==Mn.attrToRemove&&yn.removeAttribute(Mn.attrToRemove);Qn=$(yn),wn[Qn]=Nt.normal(Kn,_n,In,Pn,An,Tn)}if(Tn&&Tn.skipContentProcessing)return yn.nextSibling;for(let Gn=yn.firstChild;Gn;)Gn=this._compileNode(Gn,xn,wn,yn,Kn||_n,Cn)}return yn.nextSibling}_configureProperties(yn,xn){let wn=yn.type,kn=yn.attrName,_n=yn.attributes,An=xn.mapAttribute(kn),Cn,Sn,Nn;for(Sn in An&&kn in _n&&An!==kn&&(_n[An]=_n[kn],delete _n[kn]),_n)Nn=_n[Sn],null!==Nn&&'object'==typeof Nn&&(Cn=wn.attributes[Sn],Nn.targetProperty=void 0===Cn?Sn:Cn.name)}})||rt),Xt=class{constructor(yn){this.id=yn,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}initialize(yn){let xn=this.mainResource,wn=this.resources,kn=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==xn&&(xn.metadata.viewStrategy=kn,xn.initialize(yn));for(let _n=0,Cn=wn.length;_n<Cn;++_n)xn=wn[_n],xn.metadata.viewStrategy=kn,xn.initialize(yn)}}register(yn,xn){let wn=this.mainResource,kn=this.resources;wn!==void 0&&(wn.register(yn,xn),xn=null);for(let _n=0,Cn=kn.length;_n<Cn;++_n)kn[_n].register(yn,xn),xn=null}load(yn,xn){if(null!==this.onLoaded)return this.loadContext===xn?Promise.resolve():this.onLoaded;let wn=this.mainResource,kn=this.resources,_n;if(void 0!==wn){_n=Array(kn.length+1),_n[0]=wn.load(yn,xn);for(let Cn=0,Sn=kn.length;Cn<Sn;++Cn)_n[Cn+1]=kn[Cn].load(yn,xn)}else{_n=Array(kn.length);for(let Cn=0,Sn=kn.length;Cn<Sn;++Cn)_n[Cn]=kn[Cn].load(yn,xn)}return this.loadContext=xn,this.onLoaded=Promise.all(_n),this.onLoaded}},Jt=class{constructor(yn,xn,wn){wn||(wn=Pe.a.get(Pe.a.resource,xn),!wn&&(wn=new ln,wn.elementName=N(yn),Pe.a.define(Pe.a.resource,wn,xn))),wn instanceof ln?wn.elementName===void 0?wn.elementName=N(yn):wn.attributeName===void 0?wn.attributeName=N(yn):null===wn.attributeName&&null===wn.elementName&&ln.convention(yn,wn):!wn.name&&(wn.name=N(yn)),this.metadata=wn,this.value=xn}initialize(yn){this.metadata.initialize(yn,this.value)}register(yn,xn){this.metadata.register(yn,xn)}load(yn,xn){return this.metadata.load(yn,this.value,xn)}},Zt=class{constructor(){this.cache=Object.create(null)}getAnalysis(yn){return this.cache[yn]}analyze(yn,xn,wn){let Mn=[],kn,_n,Cn,Sn,Nn,An,Pn,In,En;if(En=this.cache[yn],En)return En;for(Nn in En=new Xt(yn),this.cache[yn]=En,'function'==typeof xn&&(xn={'default':xn}),wn&&(kn=new Jt(wn,xn[wn])),xn)(An=xn[Nn],Nn!==wn&&'function'==typeof An)&&(Sn=Pe.a.get(Pe.a.resource,An),Sn?(null===Sn.attributeName&&null===Sn.elementName&&ln.convention(Nn,Sn),null===Sn.attributeName&&null===Sn.elementName&&(Sn.elementName=N(Nn)),!kn&&Sn instanceof ln&&null!==Sn.elementName?kn=new Jt(Nn,An,Sn):Mn.push(new Jt(Nn,An,Sn))):At.decorates(An)?In=An:An instanceof Oe.b?In=new Et(yn,An):(Pn=ln.convention(Nn))?(null===Pn.elementName||kn?Mn.push(new Jt(Nn,An,Pn)):kn=new Jt(Nn,An,Pn),Pe.a.define(Pe.a.resource,Pn,An)):(Pn=Le.b.convention(Nn)||Le.c.convention(Nn)||wt.convention(Nn))?(Mn.push(new Jt(Nn,An,Pn)),Pe.a.define(Pe.a.resource,Pn,An)):!_n&&(_n=An,Cn=Nn));return!kn&&_n&&(kn=new Jt(Cn,_n)),En.moduleInstance=xn,En.mainResource=kn,En.resources=Mn,En.viewStrategy=In,En}},en=Me.getLogger('templating'),tn=class{constructor(yn){yn.then((xn)=>this.viewFactory=xn)}create(yn,xn,wn,kn){return this.viewFactory.create(yn,xn,wn,kn)}get isCaching(){return this.viewFactory.isCaching}setCacheSize(yn,xn){this.viewFactory.setCacheSize(yn,xn)}getCachedView(){return this.viewFactory.getCachedView()}returnViewToCache(yn){this.viewFactory.returnViewToCache(yn)}},nn=(at=y.i(Re.b)(Oe.a,Re.a,Yt,Zt,Bt),at(ot=(lt=st=class bn{constructor(yn,xn,wn,kn,_n){this.loader=yn,this.container=xn,this.viewCompiler=wn,this.moduleAnalyzer=kn,this.appResources=_n,this._pluginMap={};let Cn=new ln;Cn.attributeName='au-slot',Cn.initialize(xn,Vt),Cn.register(_n)}addResourcePlugin(yn,xn){let wn=yn.replace('.','')+'-resource-plugin';this._pluginMap[yn]=wn,this.loader.addPlugin(wn,xn)}loadViewFactory(yn,xn,wn,kn){return wn=wn||new _t,X(this.loader,yn).then((_n)=>{return _n.onReady?wn.hasDependency(yn)?null===_n.template?_n.onReady:Promise.resolve(new tn(_n.onReady)):(wn.addDependency(yn),_n.onReady):(wn.addDependency(yn),_n.onReady=this.loadTemplateResources(_n,xn,wn,kn).then((Cn)=>{if(_n.resources=Cn,null===_n.template)return _n.factory=null;let Sn=this.viewCompiler.compile(_n.template,Cn,xn);return _n.factory=Sn}),_n.onReady)})}loadTemplateResources(yn,xn,wn,kn){let _n=new Bt(this.appResources,yn.address),Cn=yn.dependencies,Sn,Nn;if(xn=xn||Ct.normal,0===Cn.length&&!xn.associatedModuleId)return Promise.resolve(_n);if(Sn=Cn.map((An)=>An.src),Nn=Cn.map((An)=>An.name),en.debug(`importing resources for ${yn.address}`,Sn),kn){let An=Pe.a.get(bn.viewModelRequireMetadataKey,kn);if(An){let Mn=Sn.length;for(let Pn=0,In=An.length;Pn<In;++Pn){let En=An[Pn],On='function'==typeof En?Pe.c.get(En).moduleId:y.i(Ee.a)(En.src||En,yn.address);-1===Sn.indexOf(On)&&(Sn.push(On),Nn.push(En.as))}en.debug(`importing ViewModel resources for ${xn.associatedModuleId}`,Sn.slice(Mn))}}return this.importViewResources(Sn,Nn,_n,xn,wn)}importViewModelResource(yn,xn){return this.loader.loadModule(yn).then((wn)=>{let kn=Pe.c.get(wn).moduleId,_n=this.moduleAnalyzer.analyze(kn,wn,xn);if(!_n.mainResource)throw new Error(`No view model found in module "${yn}".`);return _n.initialize(this.container),_n.mainResource})}importViewResources(yn,xn,wn,kn,_n){return _n=_n||new _t,kn=kn||Ct.normal,yn=yn.map((Cn)=>this._applyLoaderPlugin(Cn)),this.loader.loadAllModules(yn).then((Cn)=>{let En=this.container,On=this.moduleAnalyzer,Rn=Array(Cn.length),Sn,Nn,An,Mn,Pn,In;for(Sn=0,Nn=Cn.length;Sn<Nn;++Sn)Pn=Cn[Sn],Mn=Pe.c.get(Pn).moduleId,An=On.analyze(Mn,Pn),An.initialize(En),An.register(wn,xn[Sn]),Rn[Sn]=An;for(kn.associatedModuleId&&(In=On.getAnalysis(kn.associatedModuleId),In&&In.register(wn)),Sn=0,Nn=Rn.length;Sn<Nn;++Sn)Rn[Sn]=Rn[Sn].load(En,_n);return Promise.all(Rn).then(()=>wn)})}_applyLoaderPlugin(yn){let xn=yn.lastIndexOf('.');if(-1!==xn){let wn=yn.substring(xn),kn=this._pluginMap[wn];return void 0===kn?yn:this.loader.applyPluginToUrl(yn,kn)}return yn}},st.viewModelRequireMetadataKey='aurelia:view-model-require',lt))||ot),rn=class{constructor(yn,xn,wn,kn){this.behavior=yn,this.instruction=xn,this.viewModel=wn,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=kn,this.elementEvents=kn.elementEvents||null;let _n=yn.observerLocator.getOrCreateObserversLookup(wn),Cn=yn.handlesBind,Sn=xn.attributes,Nn=this.boundProperties=[],An=yn.properties,Mn,Pn;for(yn._ensurePropertiesDefined(wn,_n),Mn=0,Pn=An.length;Mn<Pn;++Mn)An[Mn]._initialize(wn,_n,Sn,Cn,Nn)}created(yn){this.behavior.handlesCreated&&this.viewModel.created(yn,this.view)}automate(yn,xn){this.view.bindingContext=this.viewModel,this.view.overrideContext=yn||y.i(Le.a)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(xn||null,this.view),this.bind(this.view)}bind(yn){let xn=this.behavior.handlesBind,wn=this.boundProperties,kn,_n,Cn,Sn,Nn;if(this.isBound){if(this.scope===yn)return;this.unbind()}for(this.isBound=!0,this.scope=yn,(kn=0,_n=wn.length);kn<_n;++kn)Cn=wn[kn],Sn=Cn.observer,Nn=Sn.selfSubscriber,Sn.publishing=!1,xn&&(Sn.selfSubscriber=null),Cn.binding.bind(yn),Sn.call(),Sn.publishing=!0,Sn.selfSubscriber=Nn;let An;null===this.view?xn&&(An=yn.overrideContext,yn.overrideContext.__parentOverrideContext!==void 0&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&(An=Object.assign({},yn.overrideContext),An.parentOverrideContext=yn.overrideContext.__parentOverrideContext),this.viewModel.bind(yn.bindingContext,An)):(xn&&(this.view.viewModelScope=yn),this.viewModel===yn.overrideContext.bindingContext?An=yn.overrideContext:this.instruction.inheritBindingContext?An=y.i(Le.a)(this.viewModel,yn.overrideContext):(An=y.i(Le.a)(this.viewModel),An.__parentOverrideContext=yn.overrideContext),this.view.bind(this.viewModel,An))}unbind(){if(this.isBound){let yn=this.boundProperties,xn,wn;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),(xn=0,wn=yn.length);xn<wn;++xn)yn[xn].binding.unbind()}}attached(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())}detached(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())}},an=(dt=y.i(Le.d)(),dt(ut=class{constructor(yn,xn,wn,kn,_n){this.taskQueue=yn,this.obj=xn,this.propertyName=wn,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=kn,this.currentValue=this.oldValue=_n}getValue(){return this.currentValue}setValue(yn){let xn=this.currentValue;xn!==yn&&(this.oldValue=xn,this.currentValue=yn,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))}call(){let yn=this.oldValue,xn=this.currentValue;this.notqueued=!0;xn===yn||(this.selfSubscriber&&this.selfSubscriber(xn,yn),this.callSubscribers(xn,yn),this.oldValue=xn)}subscribe(yn,xn){this.addSubscriber(yn,xn)}unsubscribe(yn,xn){this.removeSubscriber(yn,xn)}})||ut),on=class{constructor(yn){'string'==typeof yn?this.name=yn:Object.assign(this,yn),this.attribute=this.attribute||N(this.name),(null===this.defaultBindingMode||this.defaultBindingMode===void 0)&&(this.defaultBindingMode=Le.e.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}registerWith(yn,xn,wn){return xn.properties.push(this),xn.attributes[this.attribute]=this,this.owner=xn,wn?(this.descriptor=wn,this._configureDescriptor(xn,wn)):void 0}_configureDescriptor(yn,xn){let wn=this.name;return xn.configurable=!0,xn.enumerable=!0,'initializer'in xn&&(this.defaultValue=xn.initializer,delete xn.initializer,delete xn.writable),'value'in xn&&(this.defaultValue=xn.value,delete xn.value,delete xn.writable),xn.get=function(){return J(yn,this,wn).getValue()},xn.set=function(kn){J(yn,this,wn).setValue(kn)},xn.get.getObserver=function(kn){return J(yn,kn,wn)},xn}defineOn(yn,xn){let wn=this.name,kn;null===this.changeHandler&&(kn=wn+'Changed',kn in yn.prototype&&(this.changeHandler=kn)),null===this.descriptor&&Object.defineProperty(yn.prototype,wn,this._configureDescriptor(xn,{}))}createObserver(yn){let xn=null,wn=this.defaultValue,kn=this.changeHandler,_n=this.name,Cn;if(!this.hasOptions){if(kn in yn)xn='propertyChanged'in yn?(Sn,Nn)=>{yn[kn](Sn,Nn),yn.propertyChanged(_n,Sn,Nn)}:(Sn,Nn)=>yn[kn](Sn,Nn);else if('propertyChanged'in yn)xn=(Sn,Nn)=>yn.propertyChanged(_n,Sn,Nn);else if(null!==kn)throw new Error(`Change handler ${kn} was specified but not declared on the class.`);return void 0!==wn&&(Cn='function'==typeof wn?wn.call(yn):wn),new an(this.owner.taskQueue,yn,this.name,xn,Cn)}}_initialize(yn,xn,wn,kn,_n){let Cn,Sn,Nn,An=this.defaultValue;if(this.isDynamic)for(let Mn in wn)this._createDynamicProperty(yn,xn,kn,Mn,wn[Mn],_n);else this.hasOptions||(Sn=xn[this.name],null!==wn&&(Cn=Sn.selfSubscriber,Nn=wn[this.attribute],kn&&(Sn.selfSubscriber=null),'string'==typeof Nn?(yn[this.name]=Nn,Sn.call()):Nn?_n.push({observer:Sn,binding:Nn.createBinding(yn)}):void 0!==An&&Sn.call(),Sn.selfSubscriber=Cn),Sn.publishing=!0)}_createDynamicProperty(yn,xn,wn,kn,_n,Cn){let Sn=kn+'Changed',Nn=null,An,Mn;Sn in yn?'propertyChanged'in yn?Nn=(Pn,In)=>{yn[Sn](Pn,In),yn.propertyChanged(kn,Pn,In)}:Nn=(Pn,In)=>yn[Sn](Pn,In):'propertyChanged'in yn&&(Nn=(Pn,In)=>yn.propertyChanged(kn,Pn,In)),An=xn[kn]=new an(this.owner.taskQueue,yn,kn,Nn),Object.defineProperty(yn,kn,{configurable:!0,enumerable:!0,get:An.getValue.bind(An),set:An.setValue.bind(An)}),wn&&(An.selfSubscriber=null),'string'==typeof _n?(yn[kn]=_n,An.call()):_n&&(Mn={observer:An,binding:_n.createBinding(yn)},Cn.push(Mn)),An.publishing=!0,An.selfSubscriber=Nn}},sn=0,ln=class bn{constructor(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=te,this.processContent=ee,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}static convention(yn,xn){let wn;return yn.endsWith('CustomAttribute')&&(wn=xn||new bn,wn.attributeName=N(yn.substring(0,yn.length-15))),yn.endsWith('CustomElement')&&(wn=xn||new bn,wn.elementName=N(yn.substring(0,yn.length-13))),wn}addChildBinding(yn){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(yn)}initialize(yn,xn){let wn=xn.prototype,kn=this.properties,_n=this.attributeName,Cn=this.attributeDefaultBindingMode,Sn,Nn,An;if(!this.isInitialized)if(this.isInitialized=!0,xn.__providerId__=Z(),this.observerLocator=yn.get(Le.f),this.taskQueue=yn.get(Te.a),this.target=xn,this.usesShadowDOM=this.targetShadowDOM&&Ie.d.shadowDOM,this.handlesCreated='created'in wn,this.handlesBind='bind'in wn,this.handlesUnbind='unbind'in wn,this.handlesAttached='attached'in wn,this.handlesDetached='detached'in wn,this.htmlName=this.elementName||this.attributeName,null===_n)for(Sn=0,Nn=kn.length;Sn<Nn;++Sn)kn[Sn].defineOn(xn,this);else if(0===kn.length&&new on({name:'value',changeHandler:'valueChanged'in wn?'valueChanged':null,attribute:_n,defaultBindingMode:Cn}).registerWith(xn,this),An=kn[0],1===kn.length&&'value'===An.name)An.isDynamic=An.hasOptions=this.hasDynamicOptions,An.defineOn(xn,this);else{for(Sn=0,Nn=kn.length;Sn<Nn;++Sn)if(kn[Sn].defineOn(xn,this),kn[Sn].primaryProperty){if(this.primaryProperty)throw new Error('Only one bindable property on a custom element can be defined as the default');this.primaryProperty=kn[Sn]}An=new on({name:'value',changeHandler:'valueChanged'in wn?'valueChanged':null,attribute:_n,defaultBindingMode:Cn}),An.hasOptions=!0,An.registerWith(xn,this)}}register(yn,xn){null!==this.attributeName&&yn.registerAttribute(xn||this.attributeName,this,this.attributeName),null!==this.elementName&&yn.registerElement(xn||this.elementName,this)}load(yn,xn,wn,kn,_n){let Cn;return null===this.elementName?Promise.resolve(this):(kn=yn.get(Rt).getViewStrategy(kn||this.viewStrategy||xn),Cn=new Ct(this.targetShadowDOM,!0),kn.moduleId||(kn.moduleId=Pe.c.get(xn).moduleId),kn.loadViewFactory(yn.get(nn),Cn,wn,xn).then((Sn)=>{return _n&&this.viewFactory||(this.viewFactory=Sn),Sn}))}compile(yn,xn,wn,kn,_n){if(this.liftsContent){if(!kn.viewFactory){let Cn=Ie.c.createElement('template'),Sn=Ie.c.createDocumentFragment(),Nn=wn.getAttribute('view-cache'),An=wn.getAttribute('part');wn.removeAttribute(kn.originalAttrName),Ie.c.replaceNode(Cn,wn,_n),Sn.appendChild(wn),kn.viewFactory=yn.compile(Sn,xn),An&&(kn.viewFactory.part=An,wn.removeAttribute('part')),Nn&&(kn.viewFactory.setCacheSize(Nn),wn.removeAttribute('view-cache')),wn=Cn}}else if(null!==this.elementName){let Cn={};if(this.processContent(yn,xn,wn,kn)&&wn.hasChildNodes()){let Sn=wn.firstChild,Nn=this.usesShadowDOM?null:Ie.c.createElement('au-content'),An,Mn;for(;Sn;)An=Sn.nextSibling,'TEMPLATE'===Sn.tagName&&(Mn=Sn.getAttribute('replace-part'))?(Cn[Mn]=yn.compile(Sn,xn),Ie.c.removeNode(Sn,_n),kn.partReplacements=Cn):null!==Nn&&(3===Sn.nodeType&&A(Sn)?Ie.c.removeNode(Sn,_n):Nn.appendChild(Sn)),Sn=An;null!==Nn&&Nn.hasChildNodes()&&wn.appendChild(Nn),kn.skipContentProcessing=!1}else kn.skipContentProcessing=!0}return wn}create(yn,xn,wn,kn){let Cn=null,_n;xn=xn||St.normal,wn=wn||null,kn=kn||null,null!==this.elementName&&wn&&(this.usesShadowDOM?(_n=wn.attachShadow(this.shadowDOMOptions),yn.registerInstance(Ie.c.boundary,_n)):(_n=wn,this.targetShadowDOM&&yn.registerInstance(Ie.c.boundary,_n))),null!==wn&&(wn.au=Cn=wn.au||{});let Sn=xn.viewModel||yn.get(this.target),Nn=new rn(this,xn,Sn,yn),An=this.childBindings,Mn;if(this.liftsContent)Cn.controller=Nn;else if(null!==this.elementName){if(Mn=xn.viewFactory||this.viewFactory,yn.viewModel=Sn,Mn&&(Nn.view=Mn.create(yn,xn,wn)),null!==wn){if(Cn.controller=Nn,Nn.view){if(!this.usesShadowDOM&&(1===wn.childNodes.length||wn.contentElement)){let Pn=wn.childNodes[0]||wn.contentElement;Nn.view.contentView={fragment:Pn},Pn.parentNode&&Ie.c.removeNode(Pn)}if(xn.anchorIsContainer){if(null!==An)for(let Pn=0,In=An.length;Pn<In;++Pn)Nn.view.addBinding(An[Pn].create(wn,Sn,Nn));Nn.view.appendNodesTo(_n)}else Nn.view.insertNodesBefore(_n)}else if(null!==An)for(let Pn=0,In=An.length;Pn<In;++Pn)kn.push(An[Pn].create(wn,Sn,Nn));}else if(Nn.view){if(Nn.view.controller=Nn,null!==An)for(let Pn=0,In=An.length;Pn<In;++Pn)Nn.view.addBinding(An[Pn].create(xn.host,Sn,Nn));}else if(null!==An)for(let Pn=0,In=An.length;Pn<In;++Pn)kn.push(An[Pn].create(xn.host,Sn,Nn));}else if(null!==An)for(let Pn=0,In=An.length;Pn<In;++Pn)kn.push(An[Pn].create(wn,Sn,Nn));return null!==Cn&&(Cn[this.htmlName]=Nn),xn.initiatedByBehavior&&Mn&&Nn.view.created(),Nn}_ensurePropertiesDefined(yn,xn){let wn,kn,_n,Cn;if(!('__propertiesDefined__'in xn))for(xn.__propertiesDefined__=!0,wn=this.properties,(kn=0,_n=wn.length);kn<_n;++kn)Cn=wn[kn].createObserver(yn),void 0!==Cn&&(xn[Cn.propertyName]=Cn)}},dn=class{constructor(yn){this.name=yn.name,this.changeHandler=yn.changeHandler||this.name+'Changed',this.selector=yn.selector,this.all=yn.all}create(yn,xn,wn){return new cn(this.selector,yn,this.name,xn,wn,this.changeHandler,this.all)}};const un=[];let cn=class{constructor(yn,xn,wn,kn,_n,Cn,Sn){this.selector=yn,this.viewHost=xn,this.property=wn,this.viewModel=kn,this.controller=_n,this.changeHandler=Cn in kn?Cn:null,this.usesShadowDOM=_n.behavior.usesShadowDOM,this.all=Sn,this.contentView=!this.usesShadowDOM&&_n.view&&_n.view.contentView?_n.view.contentView:null}matches(yn){if(yn.matches(this.selector)){if(null===this.contentView)return!0;let xn=this.contentView,wn=yn.auAssignedSlot;if(wn&&wn.projectFromAnchors){let kn=wn.projectFromAnchors;for(let _n=0,Cn=kn.length;_n<Cn;++_n)if(kn[_n].auOwnerView===xn)return!0;return!1}return yn.auOwnerView===xn}return!1}bind(){let xn=this.viewHost,wn=this.viewModel,kn=xn.__childObserver__;if(!kn){kn=xn.__childObserver__=Ie.c.createMutationObserver(oe);let _n={childList:!0,subtree:!this.usesShadowDOM};kn.observe(xn,_n),kn.binders=[]}if(kn.binders.push(this),this.usesShadowDOM){let _n=xn.firstElementChild;if(this.all){let Cn=wn[this.property];for(Cn?Cn.length=0:Cn=wn[this.property]=[];_n;)this.matches(_n)&&Cn.push(_n.au&&_n.au.controller?_n.au.controller.viewModel:_n),_n=_n.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](un)}else for(;_n;){if(this.matches(_n)){let Cn=_n.au&&_n.au.controller?_n.au.controller.viewModel:_n;this.viewModel[this.property]=Cn,null!==this.changeHandler&&this.viewModel[this.changeHandler](Cn);break}_n=_n.nextElementSibling}}}onRemove(yn){if(this.matches(yn)){let xn=yn.au&&yn.au.controller?yn.au.controller.viewModel:yn;if(this.all){let wn=this.viewModel[this.property]||(this.viewModel[this.property]=[]),kn=wn.indexOf(xn);return-1!==kn&&wn.splice(kn,1),!0}return!1}return!1}onAdd(yn){if(this.matches(yn)){let xn=yn.au&&yn.au.controller?yn.au.controller.viewModel:yn;if(this.all){let wn=this.viewModel[this.property]||(this.viewModel[this.property]=[]),kn=0,_n=yn.previousElementSibling;for(;_n;)this.matches(_n)&&kn++,_n=_n.previousElementSibling;return wn.splice(kn,0,xn),!0}this.viewModel[this.property]=xn,null!==this.changeHandler&&this.viewModel[this.changeHandler](xn)}return!1}unbind(){this.viewHost.__childObserver__&&(this.viewHost.__childObserver__.disconnect(),this.viewHost.__childObserver__=null)}};const pn={before(bn,yn,xn){return yn===void 0?xn():xn().then(()=>se(bn,yn))},with(bn,yn,xn){return yn===void 0?xn():Promise.all([se(bn,yn),xn()])},after(bn,yn,xn){return Promise.resolve(bn.removeAll(!0)).then(xn)}};h.t=pn;let mn=(ct=y.i(Re.b)(nn,Rt),ct(pt=class{constructor(yn,xn){this.viewEngine=yn,this.viewLocator=xn}_swap(yn,xn){let wn=pn[yn.swapOrder]||pn.after,kn=yn.viewSlot.children.slice();return wn(yn.viewSlot,kn,()=>{return Promise.resolve(yn.viewSlot.add(xn)).then(()=>{yn.currentController&&yn.currentController.unbind()})}).then(()=>{yn.compositionTransactionNotifier&&yn.compositionTransactionNotifier.done()})}_createControllerAndSwap(yn){return this.createController(yn).then((xn)=>{return xn.automate(yn.overrideContext,yn.owningView),yn.compositionTransactionOwnershipToken?yn.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>this._swap(yn,xn.view)).then(()=>xn):this._swap(yn,xn.view).then(()=>xn)})}createController(yn){let xn,wn,kn,_n;return this.ensureViewModel(yn).then(le).then(()=>{xn=yn.childContainer,wn=yn.viewModel,kn=yn.viewModelResource,_n=kn.metadata;let Cn=this.viewLocator.getViewStrategy(yn.view||wn);return yn.viewResources&&Cn.makeRelativeTo(yn.viewResources.viewUrl),_n.load(xn,kn.value,null,Cn,!0)}).then((Cn)=>_n.create(xn,St.dynamic(yn.host,wn,Cn)))}ensureViewModel(yn){let xn=yn.childContainer=yn.childContainer||yn.container.createChild();if('string'==typeof yn.viewModel)return yn.viewModel=yn.viewResources?yn.viewResources.relativeToView(yn.viewModel):yn.viewModel,this.viewEngine.importViewModelResource(yn.viewModel).then((kn)=>{return xn.autoRegister(kn.value),yn.host&&xn.registerInstance(Ie.c.Element,yn.host),yn.viewModel=xn.viewModel=xn.get(kn.value),yn.viewModelResource=kn,yn});let wn=Pe.a.getOrCreateOwn(Pe.a.resource,ln,yn.viewModel.constructor);return wn.elementName=wn.elementName||'dynamic-element',wn.initialize(yn.container||xn,yn.viewModel.constructor),yn.viewModelResource={metadata:wn,value:yn.viewModel.constructor},xn.viewModel=yn.viewModel,Promise.resolve(yn)}compose(yn){yn.childContainer=yn.childContainer||yn.container.createChild(),yn.view=this.viewLocator.getViewStrategy(yn.view);let xn=yn.childContainer.get(yt),wn=xn.tryCapture();return(wn?yn.compositionTransactionOwnershipToken=wn:yn.compositionTransactionNotifier=xn.enlist(),yn.viewModel)?this._createControllerAndSwap(yn):yn.view?(yn.viewResources&&yn.view.makeRelativeTo(yn.viewResources.viewUrl),yn.view.loadViewFactory(this.viewEngine,new Ct).then((kn)=>{let _n=kn.create(yn.childContainer);return _n.bind(yn.bindingContext,yn.overrideContext),yn.compositionTransactionOwnershipToken?yn.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>this._swap(yn,_n)).then(()=>_n):this._swap(yn,_n).then(()=>_n)})):yn.viewSlot?(yn.viewSlot.removeAll(),yn.compositionTransactionNotifier&&yn.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)}})||pt),gn=class{initialize(){}register(){}load(yn,xn){let wn=new xn,kn=yn.get(Le.g);kn.registerElementConfig(wn)}};let vn=(mt=y.i(Re.b)(Re.a,Zt,Yt,mn),mt(gt=class{constructor(yn,xn,wn,kn){this._container=yn,this._moduleAnalyzer=xn,this._viewCompiler=wn,this._compositionEngine=kn,yn.registerInstance(ft,ft.instance=new ft)}configureAnimator(yn){this._container.unregister(ft),this._container.registerInstance(ft,ft.instance=yn)}compose(yn){return this._compositionEngine.compose(yn)}enhance(yn){yn instanceof Ie.c.Element&&(yn={element:yn});let xn={},wn=yn.resources||this._container.get(Bt);this._viewCompiler._compileNode(yn.element,wn,xn,yn.element.parentNode,'root',!0);let kn=new Qt(yn.element,xn,wn),_n=yn.container||this._container.createChild(),Cn=kn.create(_n,St.enhance());return Cn.bind(yn.bindingContext||{},yn.overrideContext),Cn}})||gt)},10:function(u,h,y){'use strict';function w(Ie,Ee,Oe=!1){return Ee||'#'===Ie[0]||(Ie='#'+Ie),Ee&&Oe&&(Ie=Ie.substring(1,Ie.length)),Ie}function N(Ie,Ee,Oe,Re){if(se.test(Ie))return Ie;let Le='';return Ee.length&&'/'!==Ee[0]&&(Le+='/'),Le+=Ee,Le.length&&'/'===Le[Le.length-1]||'/'===Ie[0]||(Le+='/'),Le.length&&'/'===Le[Le.length-1]&&'/'===Ie[0]&&(Le=Le.substring(0,Le.length-1)),w(Le+Ie,Oe,Re)}function A(Ie,Ee,Oe){return oe.test(Ie)?w(Ie,Oe):N(Ie,Ee,Oe)}function M(Ie,Ee){return(Oe)=>{return Promise.resolve({status:Ee,output:Oe,completed:Ee===le.completed})}}function I(Ie){Ie.previousInstruction=null,Ie.plan=null}function R(Ie){return Ie&&'function'==typeof Ie.navigate}function L(Ie,Ee){let Oe=Ie.previousInstruction,Re=Ie.config,Le={};if('redirect'in Re){let Te=A(Re.redirect,V(Ie));return Ie.queryString&&(Te+='?'+Ie.queryString),Promise.reject(new me(Te))}if(Oe){let Te=T(Oe,Ie),Ve=[];for(let je in Oe.viewPortInstructions){let qe=Oe.viewPortInstructions[je],Fe=Re.viewPorts[je];if(!Fe)throw new Error(`Invalid Route Config: Configuration for viewPort "${je}" was not found for route: "${Ie.config.route}."`);let Be=Le[je]={name:je,config:Fe,prevComponent:qe.component,prevModuleId:qe.moduleId};if(Be.strategy=qe.moduleId===Fe.moduleId?'determineActivationStrategy'in qe.component.viewModel?qe.component.viewModel.determineActivationStrategy(...Ie.lifecycleArgs):Re.activationStrategy?Re.activationStrategy:Te||Ee?fe.invokeLifecycle:fe.noChange:fe.replace,Be.strategy!==fe.replace&&qe.childRouter){let ze=Ie.getWildcardPath(),De=qe.childRouter._createNavigationInstruction(ze,Ie).then((He)=>{return Be.childNavigationInstruction=He,L(He,Be.strategy===fe.invokeLifecycle).then((Ue)=>{He.plan=Ue})});Ve.push(De)}}return Promise.all(Ve).then(()=>Le)}for(let Te in Re.viewPorts)Le[Te]={name:Te,strategy:fe.replace,config:Ie.config.viewPorts[Te]};return Promise.resolve(Le)}function T(Ie,Ee){let Oe=Ie.params,Re=Ee.params,Le=Ee.config.hasChildRouter?Ee.getWildCardName():null;for(let je in Re)if(je!==Le&&Oe[je]!==Re[je])return!0;for(let je in Oe)if(je!==Le&&Oe[je]!==Re[je])return!0;if(!Ee.options.compareQueryParams)return!1;let Te=Ie.queryParams,Ve=Ee.queryParams;for(let je in Ve)if(Te[je]!==Ve[je])return!0;for(let je in Te)if(Te[je]!==Ve[je])return!0;return!1}function V(Ie){let Ee=[];for(Ie=Ie.parentInstruction;Ie;)Ee.unshift(Ie.getBaseUrl()),Ie=Ie.parentInstruction;return Ee.unshift('/'),Ee.join('')}function q(Ie){if('object'!=typeof Ie)throw new Error('Invalid Route Config');if('string'!=typeof Ie.route){let Oe=Ie.name||'(no name)';throw new Error('Invalid Route Config for "'+Oe+'": You must specify a "route:" pattern.')}if(!('redirect'in Ie||Ie.moduleId||Ie.navigationStrategy||Ie.viewPorts))throw new Error('Invalid Route Config for "'+Ie.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function F(Ie,Ee,Oe){return Promise.resolve(Ee.call(Oe,Ie)).then(()=>{return'viewPorts'in Ie.config||(Ie.config.viewPorts={'default':{moduleId:Ie.config.moduleId}}),Ie})}function B(Ie,Ee,Oe,Re){function Le(qe){return Re||W(qe)?Te():Oe.cancel(qe)}function Te(){if(je--)try{let qe=Ve[je],Fe=qe[Ee]();return Q(Fe,Le,Oe.cancel)}catch(qe){return Oe.cancel(qe)}return Oe()}let Ve=z(Ie,Ee),je=Ve.length;return Te()}function z(Ie,Ee,Oe=[]){for(let Re in Ie){let Le=Ie[Re],Te=Le.prevComponent;if((Le.strategy===fe.invokeLifecycle||Le.strategy===fe.replace)&&Te){let Ve=Te.viewModel;Ee in Ve&&Oe.push(Ve)}Le.childNavigationInstruction?z(Le.childNavigationInstruction.plan,Ee,Oe):Te&&D(Te,Ee,Oe)}return Oe}function D(Ie,Ee,Oe){let Re=Ie.childRouter;if(Re&&Re.currentInstruction){let Le=Re.currentInstruction.viewPortInstructions;for(let Te in Le){let Ve=Le[Te],je=Ve.component,qe=je.viewModel;Ee in qe&&Oe.push(qe),D(je,Ee,Oe)}}}function H(Ie,Ee,Oe,Re){function Le(Fe,Be){return Re||W(Fe,Be)?Te():Oe.cancel(Fe)}function Te(){if(qe++,qe<je)try{let Fe=Ve[qe],Be=Fe.viewModel[Ee](...Fe.lifecycleArgs);return Q(Be,(ze)=>Le(ze,Fe.router),Oe.cancel)}catch(Fe){return Oe.cancel(Fe)}return Oe()}let Ve=U(Ie,Ee),je=Ve.length,qe=-1;return Te()}function U(Ie,Ee,Oe=[],Re){let Le=Ie.plan;return Object.keys(Le).filter((Te)=>{let Ve=Le[Te],je=Ie.viewPortInstructions[Te],qe=je.component.viewModel;(Ve.strategy===fe.invokeLifecycle||Ve.strategy===fe.replace)&&Ee in qe&&Oe.push({viewModel:qe,lifecycleArgs:je.lifecycleArgs,router:Re}),Ve.childNavigationInstruction&&U(Ve.childNavigationInstruction,Ee,Oe,je.component.childRouter||Re)}),Oe}function W(Ie,Ee){return!(Ie instanceof Error)&&(R(Ie)?('function'==typeof Ie.setRouter&&Ie.setRouter(Ee),!!Ie.shouldContinueProcessing):!(void 0!==Ie)||Ie)}function Q(Ie,Ee,Oe){if(Ie&&'function'==typeof Ie.then)return Promise.resolve(Ie).then(Ee).catch(Oe);if(Ie&&'function'==typeof Ie.subscribe){return new _e((Le)=>Ie.subscribe({next(){Le.subscribed&&(Le.unsubscribe(),Ee(Ie))},error(Te){Le.subscribed&&(Le.unsubscribe(),Oe(Te))},complete(){Le.subscribed&&(Le.unsubscribe(),Ee(Ie))}}))}try{return Ee(Ie)}catch(Re){return Oe(Re)}}function K(Ie,Ee){let Oe=$(Ee),Re=Oe.map((Le)=>Y(Ie,Le.navigationInstruction,Le.viewPortPlan));return Promise.all(Re)}function $(Ie,Ee=[]){let Oe=Ie.plan;for(let Re in Oe){let Le=Oe[Re];if(Le.strategy===fe.replace)Ee.push({viewPortPlan:Le,navigationInstruction:Ie}),Le.childNavigationInstruction&&$(Le.childNavigationInstruction,Ee);else{let Te=Ie.addViewPortInstruction(Re,Le.strategy,Le.prevModuleId,Le.prevComponent);Le.childNavigationInstruction&&(Te.childNavigationInstruction=Le.childNavigationInstruction,$(Le.childNavigationInstruction,Ee))}}return Ee}function Y(Ie,Ee,Oe){let Re=Oe.config.moduleId;return X(Ie,Ee,Oe.config).then((Le)=>{let Te=Ee.addViewPortInstruction(Oe.name,Oe.strategy,Re,Le),Ve=Le.childRouter;if(Ve){let je=Ee.getWildcardPath();return Ve._createNavigationInstruction(je,Ee).then((qe)=>{return Oe.childNavigationInstruction=qe,L(qe).then((Fe)=>{return qe.plan=Fe,Te.childNavigationInstruction=qe,K(Ie,qe)})})}})}function X(Ie,Ee,Oe){let Re=Ee.router,Le=Ee.lifecycleArgs;return Ie.loadRoute(Re,Oe,Ee).then((Te)=>{let{viewModel:Ve,childContainer:je}=Te;if(Te.router=Re,Te.config=Oe,'configureRouter'in Ve){let qe=je.getChildRouter();return Te.childRouter=qe,qe.configure((Fe)=>Ve.configureRouter(Fe,qe,...Le)).then(()=>Te)}return Te})}function J(Ie,Ee,Oe,Re){Ee&&'completed'in Ee&&'output'in Ee||(Ee=Ee||{},Ee.output=new Error(`Expected router pipeline to return a navigation result, but got [${JSON.stringify(Ee)}] instead.`));let Le=null;return R(Ee.output)?Ee.output.navigate(Re):(Le=Ee,!Ee.completed&&(Ee.output instanceof Error&&Me.error(Ee.output),ee(Re))),Re._dequeueInstruction(Oe+1).then((Te)=>Le||Te||Ee)}function Z(Ie,Ee,Oe,Re){Ie.resolve(Ee);let Le={instruction:Ie,result:Ee};if(!Oe){Re.isNavigating=!1,Re.isExplicitNavigation=!1,Re.isExplicitNavigationBack=!1;let Te;if(Ee.output instanceof Error)Te='error';else if(!Ee.completed)Te='canceled';else{let Ve=Ie.queryString?'?'+Ie.queryString:'';Re.history.previousLocation=Ie.fragment+Ve,Te='success'}Re.events.publish(`router:navigation:${Te}`,Le),Re.events.publish('router:navigation:complete',Le)}else Re.events.publish('router:navigation:child:complete',Le);return Ee}function ee(Ie){let Ee=Ie.history.previousLocation;Ee?Ie.navigate(Ie.history.previousLocation,{trigger:!1,replace:!0}):Ie.fallbackRoute?Ie.navigate(Ie.fallbackRoute,{trigger:!0,replace:!0}):Me.error('Router navigation failed, and no previous location or fallbackRoute could be restored.')}var te=y(5),ne=y(31),re=y(2),ie=y(14),ae=y('aurelia-event-aggregator');y.d(h,'b',function(){return be}),y.d(h,'a',function(){return Ce}),y.d(h,'c',function(){return Pe});const oe=/^#?\//,se=/^([a-z][a-z0-9+\-.]*:)?\/\//i,le={completed:'completed',canceled:'canceled',rejected:'rejected',running:'running'};let de=class{constructor(){this.steps=[]}addStep(Ee){let Oe;if('function'==typeof Ee)Oe=Ee;else{if('function'==typeof Ee.getSteps){let Re=Ee.getSteps();for(let Le=0,Te=Re.length;Le<Te;Le++)this.addStep(Re[Le]);return this}Oe=Ee.run.bind(Ee)}return this.steps.push(Oe),this}run(Ee){function Oe(){if(Re++,Re<Le.length){let Te=Le[Re];try{return Te(Ee,Oe)}catch(Ve){return Oe.reject(Ve)}}else return Oe.complete()}let Re=-1,Le=this.steps;return Oe.complete=M(Oe,le.completed),Oe.cancel=M(Oe,le.canceled),Oe.reject=M(Oe,le.rejected),Oe()}},ue=class{run(Ee,Oe){return Ee._commitChanges(!0).then(()=>{return Ee._updateTitle(),Oe()})}},ce=class{constructor(Ee){this.plan=null,this.options={},Object.assign(this,Ee),this.params=this.params||{},this.viewPortInstructions={};let Oe=[],Re=this;do{let Te=Object.assign({},Re.params);Re.config&&Re.config.hasChildRouter&&delete Te[Re.getWildCardName()],Oe.unshift(Te),Re=Re.parentInstruction}while(Re);let Le=Object.assign({},this.queryParams,...Oe);this.lifecycleArgs=[Le,this.config,this]}getAllInstructions(){let Ee=[this];for(let Oe in this.viewPortInstructions){let Re=this.viewPortInstructions[Oe].childNavigationInstruction;Re&&Ee.push(...Re.getAllInstructions())}return Ee}getAllPreviousInstructions(){return this.getAllInstructions().map((Ee)=>Ee.previousInstruction).filter((Ee)=>Ee)}addViewPortInstruction(Ee,Oe,Re,Le){let Te=this.viewPortInstructions[Ee]={name:Ee,strategy:Oe,moduleId:Re,component:Le,childRouter:Le.childRouter,lifecycleArgs:this.lifecycleArgs.slice()};return Te}getWildCardName(){let Ee=this.config.route.lastIndexOf('*');return this.config.route.substr(Ee+1)}getWildcardPath(){let Ee=this.getWildCardName(),Oe=this.params[Ee]||'';return this.queryString&&(Oe+='?'+this.queryString),Oe}getBaseUrl(){let Ee=this.fragment;if(''===Ee){let Le=this.router.routes.find((Te)=>{return Te.name===this.config.name&&''!==Te.route});Le&&(Ee=Le.route)}if(!this.params)return Ee;let Oe=this.getWildCardName(),Re=this.params[Oe]||'';return Re?(Re=encodeURI(Re),Ee.substr(0,Ee.lastIndexOf(Re))):Ee}_commitChanges(Ee){let Oe=this.router;Oe.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,Oe._refreshBaseUrl(),Oe.refreshNavigation();let Re=[],Le=[];for(let Te in this.viewPortInstructions){let Ve=this.viewPortInstructions[Te],je=Oe.viewPorts[Te];if(!je)throw new Error(`There was no router-view found in the view for ${Ve.moduleId}.`);Ve.strategy===fe.replace?(Ee&&Le.push({viewPort:je,viewPortInstruction:Ve}),Re.push(je.process(Ve,Ee).then(()=>{return Ve.childNavigationInstruction?Ve.childNavigationInstruction._commitChanges():void 0}))):Ve.childNavigationInstruction&&Re.push(Ve.childNavigationInstruction._commitChanges(Ee))}return Promise.all(Re).then(()=>{return Le.forEach((Te)=>Te.viewPort.swap(Te.viewPortInstruction)),null}).then(()=>I(this))}_updateTitle(){let Ee=this._buildTitle();Ee&&this.router.history.setTitle(Ee)}_buildTitle(Ee=' | '){let Oe='',Re=[];for(let Le in this.config.navModel.title&&(Oe=this.router.transformTitle(this.config.navModel.title)),this.viewPortInstructions){let Te=this.viewPortInstructions[Le];if(Te.childNavigationInstruction){let Ve=Te.childNavigationInstruction._buildTitle(Ee);Ve&&Re.push(Ve)}}return Re.length&&(Oe=Re.join(Ee)+(Oe?Ee:'')+Oe),this.router.title&&(Oe+=(Oe?Ee:'')+this.router.transformTitle(this.router.title)),Oe}},pe=class{constructor(Ee,Oe){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=Ee,this.relativeHref=Oe}setTitle(Ee){this.title=Ee,this.isActive&&this.router.updateTitle()}},me=class{constructor(Ee,Oe={}){this.url=Ee,this.options=Object.assign({trigger:!0,replace:!0},Oe),this.shouldContinueProcessing=!1}setRouter(Ee){this.router=Ee}navigate(Ee){let Oe=this.options.useAppRouter?Ee:this.router||Ee;Oe.navigate(this.url,this.options)}},he=class{constructor(){this.instructions=[],this.options={},this.pipelineSteps=[]}addPipelineStep(Ee,Oe){return this.pipelineSteps.push({name:Ee,step:Oe}),this}addAuthorizeStep(Ee){return this.addPipelineStep('authorize',Ee)}addPreActivateStep(Ee){return this.addPipelineStep('preActivate',Ee)}addPreRenderStep(Ee){return this.addPipelineStep('preRender',Ee)}addPostRenderStep(Ee){return this.addPipelineStep('postRender',Ee)}fallbackRoute(Ee){return this._fallbackRoute=Ee,this}map(Ee){return Array.isArray(Ee)?(Ee.forEach(this.map.bind(this)),this):this.mapRoute(Ee)}mapRoute(Ee){return this.instructions.push((Oe)=>{let Re=[];if(Array.isArray(Ee.route))for(let Te=0,Ve=Ee.route.length,je;Te<Ve;++Te)je=Object.assign({},Ee),je.route=Ee.route[Te],Re.push(je);else Re.push(Object.assign({},Ee));let Le;for(let Te=0,Ve=Re.length,je;Te<Ve;++Te)je=Re[Te],je.settings=je.settings||{},Le||(Le=Oe.createNavModel(je)),Oe.addRoute(je,Le)}),this}mapUnknownRoutes(Ee){return this.unknownRouteConfig=Ee,this}exportToRouter(Ee){let Oe=this.instructions;for(let Le=0,Te=Oe.length;Le<Te;++Le)Oe[Le](Ee);this.title&&(Ee.title=this.title),this.unknownRouteConfig&&Ee.handleUnknownRoutes(this.unknownRouteConfig),this._fallbackRoute&&(Ee.fallbackRoute=this._fallbackRoute),Ee.options=this.options;let Re=this.pipelineSteps;if(Re.length){if(!Ee.isRoot)throw new Error('Pipeline steps can only be added to the root router');let Le=Ee.pipelineProvider;for(let Te=0,Ve=Re.length;Te<Ve;++Te){let{name:je,step:qe}=Re[Te];Le.addStep(je,qe)}}}};const fe={noChange:'no-change',invokeLifecycle:'invoke-lifecycle',replace:'replace'};let ve=class{run(Ee,Oe){return L(Ee).then((Re)=>{return Ee.plan=Re,Oe()}).catch(Oe.cancel)}},be=class Ie{constructor(Ee,Oe){this.parent=null,this.options={},this.transformTitle=(Re)=>{return this.parent?this.parent.transformTitle(Re):Re},this.container=Ee,this.history=Oe,this.reset()}reset(){this.viewPorts={},this.routes=[],this.baseUrl='',this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new ne.a,this._childRecognizer=new ne.a,this._configuredPromise=new Promise((Ee)=>{this._resolveConfiguredPromise=Ee})}get isRoot(){return!this.parent}registerViewPort(Ee,Oe){Oe=Oe||'default',this.viewPorts[Oe]=Ee}ensureConfigured(){return this._configuredPromise}configure(Ee){this.isConfigured=!0;let Oe=Ee,Re;return'function'==typeof Ee&&(Re=new he,Oe=Ee(Re)),Promise.resolve(Oe).then((Le)=>{Le&&Le.exportToRouter&&(Re=Le),Re.exportToRouter(this),this.isConfigured=!0,this._resolveConfiguredPromise()})}navigate(Ee,Oe){return!this.isConfigured&&this.parent?this.parent.navigate(Ee,Oe):(this.isExplicitNavigation=!0,this.history.navigate(A(Ee,this.baseUrl,this.history._hasPushState),Oe))}navigateToRoute(Ee,Oe,Re){let Le=this.generate(Ee,Oe);return this.navigate(Le,Re)}navigateBack(){this.isExplicitNavigationBack=!0,this.history.navigateBack()}createChild(Ee){let Oe=new Ie(Ee||this.container.createChild(),this.history);return Oe.parent=this,Oe}generate(Ee,Oe,Re={}){let Le=this._recognizer.hasRoute(Ee);if((!this.isConfigured||!Le)&&this.parent)return this.parent.generate(Ee,Oe);if(!Le)throw new Error(`A route with name '${Ee}' could not be found. Check that \`name: '${Ee}'\` was specified in the route's config.`);let Te=this._recognizer.generate(Ee,Oe),Ve=N(Te,this.baseUrl,this.history._hasPushState,Re.absolute);return Re.absolute?`${this.history.getAbsoluteRoot()}${Ve}`:Ve}createNavModel(Ee){let Oe=new pe(this,'href'in Ee?Ee.href:Ee.route);return Oe.title=Ee.title,Oe.order=Ee.nav,Oe.href=Ee.href,Oe.settings=Ee.settings,Oe.config=Ee,Oe}addRoute(Ee,Oe){q(Ee,this.routes),'viewPorts'in Ee||Ee.navigationStrategy||(Ee.viewPorts={'default':{moduleId:Ee.moduleId,view:Ee.view}}),Oe||(Oe=this.createNavModel(Ee)),this.routes.push(Ee);let Re=Ee.route;'/'===Re.charAt(0)&&(Re=Re.substr(1));let Le=!0===Ee.caseSensitive,Te=this._recognizer.add({path:Re,handler:Ee,caseSensitive:Le});if(Re){let Ve=Ee.settings;delete Ee.settings;let je=JSON.parse(JSON.stringify(Ee));Ee.settings=Ve,je.route=`${Re}/*childRoute`,je.hasChildRouter=!0,this._childRecognizer.add({path:je.route,handler:je,caseSensitive:Le}),je.navModel=Oe,je.settings=Ee.settings,je.navigationStrategy=Ee.navigationStrategy}if(Ee.navModel=Oe,(Oe.order||0===Oe.order)&&-1===this.navigation.indexOf(Oe)){if(!Oe.href&&''!==Oe.href&&(Te.types.dynamics||Te.types.stars))throw new Error('Invalid route config for "'+Ee.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');'number'!=typeof Oe.order&&(Oe.order=++this._fallbackOrder),this.navigation.push(Oe),this.navigation=this.navigation.sort((Ve,je)=>Ve.order-je.order)}}hasRoute(Ee){return!!(this._recognizer.hasRoute(Ee)||this.parent&&this.parent.hasRoute(Ee))}hasOwnRoute(Ee){return this._recognizer.hasRoute(Ee)}handleUnknownRoutes(Ee){if(!Ee)throw new Error('Invalid unknown route handler');this.catchAllHandler=(Oe)=>{return this._createRouteConfig(Ee,Oe).then((Re)=>{return Oe.config=Re,Oe})}}updateTitle(){return this.parent?this.parent.updateTitle():(this.currentInstruction&&this.currentInstruction._updateTitle(),void 0)}refreshNavigation(){let Ee=this.navigation;for(let Oe=0,Re=Ee.length,Le;Oe<Re;Oe++)Le=Ee[Oe],Le.href=Le.config.href?w(Le.config.href,this.history._hasPushState):N(Le.relativeHref,this.baseUrl,this.history._hasPushState)}_refreshBaseUrl(){if(this.parent){let Ee=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+Ee}}_createNavigationInstruction(Ee='',Oe=null){let Re=Ee,Le='',Te=Ee.indexOf('?');-1!==Te&&(Re=Ee.substr(0,Te),Le=Ee.substr(Te+1));let Ve=this._recognizer.recognize(Ee);Ve&&Ve.length||(Ve=this._childRecognizer.recognize(Ee));let je={fragment:Re,queryString:Le,config:null,parentInstruction:Oe,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(Ve&&Ve.length){let qe=Ve[0],Fe=new ce(Object.assign({},je,{params:qe.params,queryParams:qe.queryParams||Ve.queryParams,config:qe.config||qe.handler}));if('function'==typeof qe.handler)return F(Fe,qe.handler,qe);return qe.handler&&'function'==typeof qe.handler.navigationStrategy?F(Fe,qe.handler.navigationStrategy,qe.handler):Promise.resolve(Fe)}if(this.catchAllHandler){let qe=new ce(Object.assign({},je,{params:{path:Re},queryParams:Ve&&Ve.queryParams,config:null}));return F(qe,this.catchAllHandler)}return Promise.reject(new Error(`Route not found: ${Ee}`))}_createRouteConfig(Ee,Oe){return Promise.resolve(Ee).then((Re)=>{if('string'==typeof Re)return{moduleId:Re};return'function'==typeof Re?Re(Oe):Re}).then((Re)=>'string'==typeof Re?{moduleId:Re}:Re).then((Re)=>{return Re.route=Oe.params.path,q(Re,this.routes),Re.navModel||(Re.navModel=this.createNavModel(Re)),Re})}},ye=class{run(Ee,Oe){return B(Ee.plan,'canDeactivate',Oe)}},xe=class{run(Ee,Oe){return H(Ee,'canActivate',Oe)}},we=class{run(Ee,Oe){return B(Ee.plan,'deactivate',Oe,!0)}},ke=class{run(Ee,Oe){return H(Ee,'activate',Oe,!0)}},_e=class{constructor(Ee){this._subscribed=!0,this._subscription=Ee(this),this._subscribed||this.unsubscribe()}get subscribed(){return this._subscribed}unsubscribe(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1}},Ce=class{loadRoute(){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')}},Se=class{static inject(){return[Ce]}constructor(Ee){this.routeLoader=Ee}run(Ee,Oe){return K(this.routeLoader,Ee).then(Oe).catch(Oe.cancel)}},Ne=class{constructor(Ee,Oe,Re){this.steps=[],this.container=Ee,this.slotName=Oe,this.slotAlias=Re}getSteps(){return this.steps.map((Ee)=>this.container.get(Ee))}},Ae=class{static inject(){return[re.a]}constructor(Ee){this.container=Ee,this.steps=[ve,ye,Se,this._createPipelineSlot('authorize'),xe,this._createPipelineSlot('preActivate','modelbind'),we,ke,this._createPipelineSlot('preRender','precommit'),ue,this._createPipelineSlot('postRender','postcomplete')]}createPipeline(){let Ee=new de;return this.steps.forEach((Oe)=>Ee.addStep(this.container.get(Oe))),Ee}_findStep(Ee){return this.steps.find((Oe)=>Oe.slotName===Ee||Oe.slotAlias===Ee)}addStep(Ee,Oe){let Re=this._findStep(Ee);if(Re)Re.steps.includes(Oe)||Re.steps.push(Oe);else throw new Error(`Invalid pipeline slot name: ${Ee}.`)}removeStep(Ee,Oe){let Re=this._findStep(Ee);Re&&Re.steps.splice(Re.steps.indexOf(Oe),1)}_clearSteps(Ee=''){let Oe=this._findStep(Ee);Oe&&(Oe.steps=[])}reset(){this._clearSteps('authorize'),this._clearSteps('preActivate'),this._clearSteps('preRender'),this._clearSteps('postRender')}_createPipelineSlot(Ee,Oe){return new Ne(this.container,Ee,Oe)}};const Me=te.getLogger('app-router');let Pe=class extends be{static inject(){return[re.a,ie.a,Ae,ae.b]}constructor(Ee,Oe,Re,Le){super(Ee,Oe),this.pipelineProvider=Re,this.events=Le}reset(){super.reset(),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]}loadUrl(Ee){return this._createNavigationInstruction(Ee).then((Oe)=>this._queueInstruction(Oe)).catch((Oe)=>{Me.error(Oe),ee(this)})}registerViewPort(Ee,Oe){if(super.registerViewPort(Ee,Oe),!this.isActive){let Re=this._findViewModel(Ee);if(!('configureRouter'in Re))this.activate();else if(!this.isConfigured){let Le=this._resolveConfiguredPromise;return this._resolveConfiguredPromise=()=>{},this.configure((Te)=>Re.configureRouter(Te,this)).then(()=>{this.activate(),Le()})}}else this._dequeueInstruction();return Promise.resolve()}activate(Ee){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,Ee),this.history.activate(this.options),this._dequeueInstruction())}deactivate(){this.isActive=!1,this.history.deactivate()}_queueInstruction(Ee){return new Promise((Oe)=>{Ee.resolve=Oe,this._queue.unshift(Ee),this._dequeueInstruction()})}_dequeueInstruction(Ee=0){return Promise.resolve().then(()=>{if(this.isNavigating&&!Ee)return;let Oe=this._queue.shift();if(this._queue.length=0,!!Oe){if(this.isNavigating=!0,Oe.previousInstruction=this.currentInstruction,!Ee)this.events.publish('router:navigation:processing',{instruction:Oe});else{if(Ee===this.maxInstructionCount-1)return Me.error(`${Ee+1} navigation instructions have been attempted without success. Restoring last known good location.`),ee(this),this._dequeueInstruction(Ee+1);if(Ee>this.maxInstructionCount)throw new Error('Maximum navigation attempts exceeded. Giving up.')}let Re=this.pipelineProvider.createPipeline();return Re.run(Oe).then((Le)=>J(Oe,Le,Ee,this)).catch((Le)=>{return{output:Le instanceof Error?Le:new Error(Le)}}).then((Le)=>Z(Oe,Le,!!Ee,this))}})}_findViewModel(Ee){if(this.container.viewModel)return this.container.viewModel;if(Ee.container)for(let Oe=Ee.container;Oe;){if(Oe.viewModel)return this.container.viewModel=Oe.viewModel,Oe.viewModel;Oe=Oe.parent}}}},11:function(u,h,y){'use strict';var A=y(0);h.a=function(){A.c.injectStyles(I)},h.b=function(R){A.d.shadowDOM&&R&&!R.hasAureliaHideStyle&&(R.hasAureliaHideStyle=!0,A.c.injectStyles(I,R))};const M='aurelia-hide';h.c=M;const I=`.${M} { display:none !important; }`},12:function(u){u.exports=function(){var y=[];return y.toString=function(){for(var N=[],A=0,M;A<this.length;A++)M=this[A],M[2]?N.push('@media '+M[2]+'{'+M[1]+'}'):N.push(M[1]);return N.join('')},y.i=function(w,N){'string'==typeof w&&(w=[[null,w,'']]);for(var A={},M=0,I;M<this.length;M++)I=this[M][0],'number'==typeof I&&(A[I]=!0);for(M=0;M<w.length;M++){var R=w[M];'number'==typeof R[0]&&A[R[0]]||(N&&!R[2]?R[2]=N:N&&(R[2]='('+R[2]+') and ('+N+')'),y.push(R))}},y}},13:function(u){function y(Q,K){for(var $=0;$<Q.length;$++){var Y=Q[$],X=q[Y.id];if(X){X.refs++;for(var J=0;J<X.parts.length;J++)X.parts[J](Y.parts[J]);for(;J<Y.parts.length;J++)X.parts.push(R(Y.parts[J],K))}else{for(var Z=[],J=0;J<Y.parts.length;J++)Z.push(R(Y.parts[J],K));q[Y.id]={id:Y.id,refs:1,parts:Z}}}}function w(Q){for(var K=[],$={},Y=0;Y<Q.length;Y++){var X=Q[Y],J=X[0],Z=X[1],ee=X[2],te=X[3],ne={css:Z,media:ee,sourceMap:te};$[J]?$[J].parts.push(ne):K.push($[J]={id:J,parts:[ne]})}return K}function N(Q,K){var $=z(),Y=U[U.length-1];if('top'===Q.insertAt)Y?Y.nextSibling?$.insertBefore(K,Y.nextSibling):$.appendChild(K):$.insertBefore(K,$.firstChild),U.push(K);else if('bottom'===Q.insertAt)$.appendChild(K);else throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.')}function A(Q){Q.parentNode.removeChild(Q);var K=U.indexOf(Q);0<=K&&U.splice(K,1)}function M(Q){var K=document.createElement('style');return K.type='text/css',N(Q,K),K}function I(Q){var K=document.createElement('link');return K.rel='stylesheet',N(Q,K),K}function R(Q,K){var $,Y,X;if(K.singleton){var J=H++;$=D||(D=M(K)),Y=L.bind(null,$,J,!1),X=L.bind(null,$,J,!0)}else Q.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?($=I(K),Y=V.bind(null,$),X=function(){A($),$.href&&URL.revokeObjectURL($.href)}):($=M(K),Y=T.bind(null,$),X=function(){A($)});return Y(Q),function(ee){if(ee){if(ee.css===Q.css&&ee.media===Q.media&&ee.sourceMap===Q.sourceMap)return;Y(Q=ee)}else X()}}function L(Q,K,$,Y){var X=$?'':Y.css;if(Q.styleSheet)Q.styleSheet.cssText=W(K,X);else{var J=document.createTextNode(X),Z=Q.childNodes;Z[K]&&Q.removeChild(Z[K]),Z.length?Q.insertBefore(J,Z[K]):Q.appendChild(J)}}function T(Q,K){var $=K.css,Y=K.media;if(Y&&Q.setAttribute('media',Y),Q.styleSheet)Q.styleSheet.cssText=$;else{for(;Q.firstChild;)Q.removeChild(Q.firstChild);Q.appendChild(document.createTextNode($))}}function V(Q,K){var $=K.css,Y=K.sourceMap;Y&&($+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(Y))))+' */');var X=new Blob([$],{type:'text/css'}),J=Q.href;Q.href=URL.createObjectURL(X),J&&URL.revokeObjectURL(J)}var q={},F=function(Q){var K;return function(){return'undefined'==typeof K&&(K=Q.apply(this,arguments)),K}},B=F(function(){return /msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),z=F(function(){return document.head||document.getElementsByTagName('head')[0]}),D=null,H=0,U=[];u.exports=function(Q,K){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');K=K||{},'undefined'==typeof K.singleton&&(K.singleton=B()),'undefined'==typeof K.insertAt&&(K.insertAt='bottom');var $=w(Q);return y($,K),function(X){for(var J=[],Z=0;Z<$.length;Z++){var ee=$[Z],te=q[ee.id];te.refs--,J.push(te)}if(X){var ne=w(X);y(ne,K)}for(var Z=0,te;Z<J.length;Z++)if(te=J[Z],0===te.refs){for(var re=0;re<te.parts.length;re++)te.parts[re]();delete q[te.id]}}};var W=function(){var Q=[];return function(K,$){return Q[K]=$,Q.filter(Boolean).join('\n')}}()},14:function(u,h,y){'use strict';function w(A){throw new Error(`History must implement ${A}().`)}y.d(h,'a',function(){return N});let N=class{activate(){w('activate')}deactivate(){w('deactivate')}getAbsoluteRoot(){w('getAbsoluteRoot')}navigate(){w('navigate')}navigateBack(){w('navigateBack')}setTitle(){w('setTitle')}}},15:function(u,h,y){'use strict';y.d(h,'a',function(){return w});let w=class{constructor(A){Object.assign(this,{local:'items',viewsRequireLifecycle:!0},A)}viewCount(){throw new Error('subclass must implement `viewCount`')}views(){throw new Error('subclass must implement `views`')}view(){throw new Error('subclass must implement `view`')}matcher(){throw new Error('subclass must implement `matcher`')}addView(){throw new Error('subclass must implement `addView`')}insertView(){throw new Error('subclass must implement `insertView`')}moveView(){throw new Error('subclass must implement `moveView`')}removeAllViews(){throw new Error('subclass must implement `removeAllViews`')}removeViews(){throw new Error('subclass must implement `removeView`')}removeView(){throw new Error('subclass must implement `removeView`')}updateBindings(){throw new Error('subclass must implement `updateBindings`')}}},16:function(u,h){'use strict';function w(I){let R=I.type,L=null===R.elementName?R.attributeName:R.elementName;return-1===M.indexOf(L)&&(R.handlesAttached||R.handlesBind||R.handlesCreated||R.handlesDetached||R.handlesUnbind)||R.viewFactory&&A(R.viewFactory)||I.viewFactory&&A(I.viewFactory)}function N(I){let R=I.behaviorInstructions;if(R)for(let L=R.length;L--;)if(w(R[L]))return!0;return I.viewFactory&&A(I.viewFactory)}function A(I){if('_viewsRequireLifecycle'in I)return I._viewsRequireLifecycle;if(I._viewsRequireLifecycle=!1,I.viewFactory)return I._viewsRequireLifecycle=A(I.viewFactory),I._viewsRequireLifecycle;if(I.template.querySelector('.au-animate'))return I._viewsRequireLifecycle=!0,!0;for(let R in I.instructions)if(N(I.instructions[R]))return I._viewsRequireLifecycle=!0,!0;return I._viewsRequireLifecycle=!1,!1}h.a=A;const M=['focus','if','repeat','show','with']},17:function(u,h,y){'use strict';var w=y(7),N=y(3);y.d(h,'a',function(){return A});let A=class{getCollectionObserver(I,R){return I.getArrayObserver(R)}instanceChanged(I,R){const L=R.length;if(!R||0===L)return void I.removeAllViews(!0,!I.viewsRequireLifecycle);const T=I.views(),V=T.length;if(0===V)return void this._standardProcessInstanceChanged(I,R);if(I.viewsRequireLifecycle){const q=T.slice(0),F=I.local,B=I.matcher();let z=[];const D=[];for(let W=0;W<V;W++){const Q=q[W],K=Q.bindingContext[F];-1===y.i(w.g)(R,K,B)?D.push(Q):z.push(K)}let H,U;0<z.length?(U=I.removeViews(D,!0,!I.viewsRequireLifecycle),H=()=>{for(let W=0;W<L;W++){const Q=R[W],K=y.i(w.g)(z,Q,B,W);let $;if(-1===K){const Y=y.i(w.e)(I,R[W],W,L);I.insertView(W,Y.bindingContext,Y),z.splice(W,0,void 0)}else K===W?($=T[K],z[K]=void 0):($=T[K],I.moveView(K,W),z.splice(K,1),z.splice(W,0,void 0));$&&y.i(w.h)($.overrideContext,W,L)}this._inPlaceProcessItems(I,R)}):(U=I.removeAllViews(!0,!I.viewsRequireLifecycle),H=()=>this._standardProcessInstanceChanged(I,R)),U instanceof Promise?U.then(H):H()}else this._inPlaceProcessItems(I,R)}_standardProcessInstanceChanged(I,R){for(let L=0,T=R.length,V;L<T;L++)V=y.i(w.e)(I,R[L],L,T),I.addView(V.bindingContext,V)}_inPlaceProcessItems(I,R){let L=R.length,T=I.viewCount();for(;T>L;)T--,I.removeView(T,!0,!I.viewsRequireLifecycle);let V=I.local;for(let q=0;q<T;q++){let F=I.view(q),B=q===L-1,z=0!==q&&!B;(F.bindingContext[V]!==R[q]||F.overrideContext.$middle!==z||F.overrideContext.$last!==B)&&(F.bindingContext[V]=R[q],F.overrideContext.$middle=z,F.overrideContext.$last=B,I.updateBindings(F))}for(let q=T,F;q<L;q++)F=y.i(w.e)(I,R[q],q,L),I.addView(F.bindingContext,F)}instanceMutated(I,R,L){if(I.__queuedSplices){for(let V=0,q=L.length;V<q;++V){let{index:F,removed:B,addedCount:z}=L[V];y.i(N.l)(I.__queuedSplices,F,B,z)}return void(I.__array=R.slice(0))}let T=this._runSplices(I,R.slice(0),L);if(T instanceof Promise){let V=I.__queuedSplices=[],q=()=>{if(!V.length)return I.__queuedSplices=void 0,void(I.__array=void 0);let F=this._runSplices(I,I.__array,V)||Promise.resolve();V=I.__queuedSplices=[],F.then(q)};T.then(q)}}_runSplices(I,R,L){let T=0,V=[];for(let F=0,B=L.length;F<B;++F){let z=L[F],D=z.removed;for(let H=0,U=D.length,W;H<U;++H)W=I.removeView(z.index+T+V.length,!0),W instanceof Promise&&V.push(W);T-=z.addedCount}if(0<V.length)return Promise.all(V).then(()=>{let F=this._handleAddedSplices(I,R,L);y.i(w.f)(I.views(),F)});let q=this._handleAddedSplices(I,R,L);return y.i(w.f)(I.views(),q),void 0}_handleAddedSplices(I,R,L){let T,V,q=R.length;for(let F=0,B=L.length;F<B;++F){let z=L[F],D=T=z.index,H=z.index+z.addedCount;for(('undefined'==typeof V||null===V||V>z.index)&&(V=T);D<H;++D){let U=y.i(w.e)(I,R[D],D,q);I.insertView(D,U.bindingContext,U)}}return V}}},18:function(u,h,y){'use strict';var w=y(3);y.d(h,'a',function(){return N});let N=class{constructor(){this.signals={}}signal(M){let I=this.signals[M];if(I)for(let R=I.length;R--;)I[R].call(w.k)}}},19:function(u,h,y){'use strict';y.d(h,'a',function(){return N});const w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;let N=class{sanitize(M){return M.replace(w,'')}}},2:function(u,h,y){'use strict';function z(Se){if(null===Se||Se===void 0)throw new Error('key/value cannot be null or undefined. Are you trying to inject/register something that doesn\'t exist with DI?')}function D(Se,Ne,Ae,Me){let Pe=Ae.length,Ie=Array(Pe);for(;Pe--;)Ie[Pe]=Se.get(Ae[Pe]);return void 0!==Me&&(Ie=Ie.concat(Me)),Reflect.construct(Ne,Ie)}function H(Se){return Se.hasOwnProperty('inject')?'function'==typeof Se.inject?Se.inject():Se.inject:[]}var Q=y(4),K=y(0);y.d(h,'d',function(){return pe}),y.d(h,'a',function(){return Ce}),h.b=function(...Se){return function(Ne,Ae,Me){if('number'==typeof Me&&1===Se.length){let Pe=Ne.inject;if('function'==typeof Pe)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return Pe||(Pe=Q.a.getOwn(Q.a.paramTypes,Ne).slice(),Ne.inject=Pe),void(Pe[Me]=Se[0])}if(Me){const Pe=Me.value;Pe.inject=Se}else Ne.inject=Se}};var $,Y,X,J,Z,ee,te,ne,re,ie,ae,oe,se,le;const de=Q.b.create('aurelia:resolver',function(Se){return!('function'!=typeof Se.get)||'Resolvers must implement: get(container: Container, key: any): any'});h.c=de;let ue=($=de(),$(Y=class Se{constructor(Ne){this._key=Ne}get(Ne){return()=>Ne.get(this._key)}static of(Ne){return new Se(Ne)}})||Y),ce=(X=de(),X(J=class Se{constructor(Ne){this._key=Ne}get(Ne){return Ne.getAll(this._key)}static of(Ne){return new Se(Ne)}})||J),pe=(Z=de(),Z(ee=class Se{constructor(Ne,Ae=!0){this._key=Ne,this._checkParent=Ae}get(Ne){return Ne.hasResolver(this._key,this._checkParent)?Ne.get(this._key):null}static of(Ne,Ae=!0){return new Se(Ne,Ae)}})||ee),me=(te=de(),te(ne=class Se{constructor(Ne){this._key=Ne}get(Ne){return Ne.parent?Ne.parent.get(this._key):null}static of(Ne){return new Se(Ne)}})||ne),ge=(re=de(),re(ie=class{constructor(Ne,Ae){this.strategy=Ne,this.state=Ae}get(Ne,Ae){switch(this.strategy){case 0:return this.state;case 1:let Me=Ne.invoke(this.state);return this.state=Me,this.strategy=0,Me;case 2:return Ne.invoke(this.state);case 3:return this.state(Ne,Ae,this);case 4:return this.state[0].get(Ne,Ae);case 5:return Ne.get(this.state);default:throw new Error('Invalid strategy: '+this.strategy);}}})||ie),he=(ae=de(),ae(oe=class Se{constructor(Ne){this._key=Ne}get(Ne){return(...Ae)=>Ne.invoke(this._key,Ae)}static of(Ne){return new Se(Ne)}})||oe),fe=(se=de(),se(le=class Se{constructor(Ne,...Ae){this.key=Ne,this.asKey=Ne,this.dynamicDependencies=Ae}get(Ne){let Ae=0<this.dynamicDependencies.length?this.dynamicDependencies.map((Pe)=>Pe['protocol:aurelia:resolver']?Pe.get(Ne):Ne.get(Pe)):void 0;const Me=Ne.invoke(this.key,Ae);return Ne.registerInstance(this.asKey,Me),Me}as(Ne){return this.asKey=Ne,this}static of(Ne,...Ae){return new Se(Ne,...Ae)}})||le),ve=class{invoke(Ne,Ae,Me){let Pe=Me.length,Ie=Array(Pe);for(;Pe--;)Ie[Pe]=Ne.get(Me[Pe]);return Ae.apply(void 0,Ie)}invokeWithDynamicDependencies(Ne,Ae,Me,Pe){let Ie=Me.length,Ee=Array(Ie);for(;Ie--;)Ee[Ie]=Ne.get(Me[Ie]);return void 0!==Pe&&(Ee=Ee.concat(Pe)),Ae.apply(void 0,Ee)}};ve.instance=new ve;let be=class{constructor(Ne){this._key=Ne}registerResolver(Ne,Ae,Me){let Pe=Ne.getResolver(this._key||Ae);return Pe===void 0?Ne.registerTransient(this._key||Ae,Me):Pe}},ye=class{constructor(Ne,Ae=!1){'boolean'==typeof Ne?this._registerInChild=Ne:(this._key=Ne,this._registerInChild=Ae)}registerResolver(Ne,Ae,Me){let Pe=this._registerInChild?Ne:Ne.root,Ie=Pe.getResolver(this._key||Ae);return Ie===void 0?Pe.registerSingleton(this._key||Ae,Me):Ie}};const xe=Object.freeze([]);Q.a.registration='aurelia:registration',Q.a.invoker='aurelia:invoker';let we=de.decorates,ke=class{constructor(Ne,Ae,Me){this.fn=Ne,this.invoker=Ae,this.dependencies=Me}invoke(Ne,Ae){return Ae===void 0?this.invoker.invoke(Ne,this.fn,this.dependencies):this.invoker.invokeWithDynamicDependencies(Ne,this.fn,this.dependencies,Ae)}},_e={[0]:{invoke(Se,Ne){return new Ne},invokeWithDynamicDependencies:D},[1]:{invoke(Se,Ne,Ae){return new Ne(Se.get(Ae[0]))},invokeWithDynamicDependencies:D},[2]:{invoke(Se,Ne,Ae){return new Ne(Se.get(Ae[0]),Se.get(Ae[1]))},invokeWithDynamicDependencies:D},[3]:{invoke(Se,Ne,Ae){return new Ne(Se.get(Ae[0]),Se.get(Ae[1]),Se.get(Ae[2]))},invokeWithDynamicDependencies:D},[4]:{invoke(Se,Ne,Ae){return new Ne(Se.get(Ae[0]),Se.get(Ae[1]),Se.get(Ae[2]),Se.get(Ae[3]))},invokeWithDynamicDependencies:D},[5]:{invoke(Se,Ne,Ae){return new Ne(Se.get(Ae[0]),Se.get(Ae[1]),Se.get(Ae[2]),Se.get(Ae[3]),Se.get(Ae[4]))},invokeWithDynamicDependencies:D},fallback:{invoke:D,invokeWithDynamicDependencies:D}},Ce=class Se{constructor(Ne){Ne===void 0&&(Ne={}),this._configuration=Ne,this._onHandlerCreated=Ne.onHandlerCreated,this._handlers=Ne.handlers||(Ne.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}makeGlobal(){return Se.instance=this,this}setHandlerCreatedCallback(Ne){this._onHandlerCreated=Ne,this._configuration.onHandlerCreated=Ne}registerInstance(Ne,Ae){return this.registerResolver(Ne,new ge(0,Ae===void 0?Ne:Ae))}registerSingleton(Ne,Ae){return this.registerResolver(Ne,new ge(1,Ae===void 0?Ne:Ae))}registerTransient(Ne,Ae){return this.registerResolver(Ne,new ge(2,Ae===void 0?Ne:Ae))}registerHandler(Ne,Ae){return this.registerResolver(Ne,new ge(3,Ae))}registerAlias(Ne,Ae){return this.registerResolver(Ae,new ge(5,Ne))}registerResolver(Ne,Ae){z(Ne);let Me=this._resolvers,Pe=Me.get(Ne);return void 0===Pe?Me.set(Ne,Ae):4===Pe.strategy?Pe.state.push(Ae):Me.set(Ne,new ge(4,[Pe,Ae])),Ae}autoRegister(Ne,Ae){if(Ae=void 0===Ae?Ne:Ae,'function'==typeof Ae){let Me=Q.a.get(Q.a.registration,Ae);return void 0===Me?this.registerResolver(Ne,new ge(1,Ae)):Me.registerResolver(this,Ne,Ae)}return this.registerResolver(Ne,new ge(0,Ae))}autoRegisterAll(Ne){for(let Ae=Ne.length;Ae--;)this.autoRegister(Ne[Ae])}unregister(Ne){this._resolvers.delete(Ne)}hasResolver(Ne,Ae=!1){return z(Ne),this._resolvers.has(Ne)||Ae&&null!==this.parent&&this.parent.hasResolver(Ne,Ae)}getResolver(Ne){return this._resolvers.get(Ne)}get(Ne){if(z(Ne),Ne===Se)return this;if(we(Ne))return Ne.get(this,Ne);let Ae=this._resolvers.get(Ne);if(void 0===Ae){if(null===this.parent)return this.autoRegister(Ne).get(this,Ne);let Me=Q.a.get(Q.a.registration,Ne);return void 0===Me?this.parent._get(Ne):Me.registerResolver(this,Ne,Ne).get(this,Ne)}return Ae.get(this,Ne)}_get(Ne){let Ae=this._resolvers.get(Ne);return void 0===Ae?null===this.parent?this.autoRegister(Ne).get(this,Ne):this.parent._get(Ne):Ae.get(this,Ne)}getAll(Ne){z(Ne);let Ae=this._resolvers.get(Ne);if(Ae===void 0)return null===this.parent?xe:this.parent.getAll(Ne);if(4===Ae.strategy){let Me=Ae.state,Pe=Me.length,Ie=Array(Pe);for(;Pe--;)Ie[Pe]=Me[Pe].get(this,Ne);return Ie}return[Ae.get(this,Ne)]}createChild(){let Ne=new Se(this._configuration);return Ne.root=this.root,Ne.parent=this,Ne}invoke(Ne,Ae){try{let Me=this._handlers.get(Ne);return void 0===Me&&(Me=this._createInvocationHandler(Ne),this._handlers.set(Ne,Me)),Me.invoke(this,Ae)}catch(Me){throw new K.e(`Error invoking ${Ne.name}. Check the inner error for details.`,Me,!0)}}_createInvocationHandler(Ne){let Ae;if(Ne.inject===void 0)Ae=Q.a.getOwn(Q.a.paramTypes,Ne)||xe;else{Ae=[];for(let Ie=Ne;'function'==typeof Ie;)Ae.push(...H(Ie)),Ie=Object.getPrototypeOf(Ie)}let Me=Q.a.getOwn(Q.a.invoker,Ne)||_e[Ae.length]||_e.fallback,Pe=new ke(Ne,Me,Ae);return this._onHandlerCreated===void 0?Pe:this._onHandlerCreated(Pe)}}},20:function(u,h,y){'use strict';var w=y(7);y.d(h,'a',function(){return N});let N=class{getCollectionObserver(M,I){return M.getMapObserver(I)}instanceChanged(M,I){let R=M.removeAllViews(!0,!M.viewsRequireLifecycle);return R instanceof Promise?void R.then(()=>this._standardProcessItems(M,I)):void this._standardProcessItems(M,I)}_standardProcessItems(M,I){let R=0,L;I.forEach((T,V)=>{L=y.i(w.e)(M,T,R,I.size,V),M.addView(L.bindingContext,L),++R})}instanceMutated(M,I,R){let L,T,V,q,F,B,z=[],D;for(T=0,V=R.length;T<V;++T)switch(B=R[T],L=B.key,B.type){case'update':F=this._getViewIndexByKey(M,L),D=M.removeView(F,!0,!M.viewsRequireLifecycle),D instanceof Promise&&z.push(D),q=y.i(w.e)(M,I.get(L),F,I.size,L),M.insertView(F,q.bindingContext,q);break;case'add':q=y.i(w.e)(M,I.get(L),I.size-1,I.size,L),M.insertView(I.size-1,q.bindingContext,q);break;case'delete':if(void 0===B.oldValue)return;F=this._getViewIndexByKey(M,L),D=M.removeView(F,!0,!M.viewsRequireLifecycle),D instanceof Promise&&z.push(D);break;case'clear':M.removeAllViews(!0,!M.viewsRequireLifecycle);break;default:continue;}0<z.length?Promise.all(z).then(()=>{y.i(w.f)(M.views(),0)}):y.i(w.f)(M.views(),0)}_getViewIndexByKey(M,I){let R,L,T;for(R=0,L=M.viewCount();R<L;++R)if(T=M.view(R),T.bindingContext[M.key]===I)return R}}},21:function(u,h,y){'use strict';y.d(h,'a',function(){return w});let w=class{instanceChanged(A){A.removeAllViews(!0)}getCollectionObserver(){}}},22:function(u,h,y){'use strict';var w=y(7);y.d(h,'a',function(){return N});let N=class{getCollectionObserver(){return null}instanceChanged(M,I){let R=M.removeAllViews(!0,!M.viewsRequireLifecycle);return R instanceof Promise?void R.then(()=>this._standardProcessItems(M,I)):void this._standardProcessItems(M,I)}_standardProcessItems(M,I){let R=M.viewCount(),L,T,V,q;if(I=_Mathfloor(I),q=R-I,0<q){for(q>R&&(q=R),L=0,T=q;L<T;++L)M.removeView(R-(L+1),!0,!M.viewsRequireLifecycle);return}for(L=R,T=I;L<T;++L)V=y.i(w.e)(M,L,L,T),M.addView(V.bindingContext,V);y.i(w.f)(M.views(),0)}}},23:function(u,h,y){'use strict';var w=y(21),N=y(17),A=y(20),M=y(24),I=y(22);y.d(h,'a',function(){return R});let R=class{constructor(){this.matchers=[],this.strategies=[],this.addStrategy((T)=>null===T||T===void 0,new w.a),this.addStrategy((T)=>T instanceof Array,new N.a),this.addStrategy((T)=>T instanceof Map,new A.a),this.addStrategy((T)=>T instanceof Set,new M.a),this.addStrategy((T)=>'number'==typeof T,new I.a)}addStrategy(T,V){this.matchers.push(T),this.strategies.push(V)}getStrategy(T){let V=this.matchers;for(let q=0,F=V.length;q<F;++q)if(V[q](T))return this.strategies[q];return null}}},24:function(u,h,y){'use strict';var w=y(7);y.d(h,'a',function(){return N});let N=class{getCollectionObserver(M,I){return M.getSetObserver(I)}instanceChanged(M,I){let R=M.removeAllViews(!0,!M.viewsRequireLifecycle);return R instanceof Promise?void R.then(()=>this._standardProcessItems(M,I)):void this._standardProcessItems(M,I)}_standardProcessItems(M,I){let R=0,L;I.forEach((T)=>{L=y.i(w.e)(M,T,R,I.size),M.addView(L.bindingContext,L),++R})}instanceMutated(M,I,R){let L,T,V,q,F,B,z=[],D;for(T=0,V=R.length;T<V;++T)switch(B=R[T],L=B.value,B.type){case'add':q=y.i(w.e)(M,L,I.size-1,I.size),M.insertView(I.size-1,q.bindingContext,q);break;case'delete':F=this._getViewIndexByValue(M,L),D=M.removeView(F,!0,!M.viewsRequireLifecycle),D instanceof Promise&&z.push(D);break;case'clear':M.removeAllViews(!0,!M.viewsRequireLifecycle);break;default:continue;}0<z.length?Promise.all(z).then(()=>{y.i(w.f)(M.views(),0)}):y.i(w.f)(M.views(),0)}_getViewIndexByValue(M,I){let R,L,T;for(R=0,L=M.viewCount();R<L;++R)if(T=M.view(R),T.bindingContext[M.local]===I)return R}}},25:function(u){function y(){throw new Error('setTimeout has not been defined')}function w(){throw new Error('clearTimeout has not been defined')}function N(H){if(V===setTimeout)return setTimeout(H,0);if((V===y||!V)&&setTimeout)return V=setTimeout,setTimeout(H,0);try{return V(H,0)}catch(U){try{return V.call(null,H,0)}catch(W){return V.call(this,H,0)}}}function A(H){if(q===clearTimeout)return clearTimeout(H);if((q===w||!q)&&clearTimeout)return q=clearTimeout,clearTimeout(H);try{return q(H)}catch(U){try{return q.call(null,H)}catch(W){return q.call(this,H)}}}function M(){B&&z&&(B=!1,z.length?F=z.concat(F):D=-1,F.length&&I())}function I(){if(!B){var H=N(M);B=!0;for(var U=F.length;U;){for(z=F,F=[];++D<U;)z&&z[D].run();D=-1,U=F.length}z=null,B=!1,A(H)}}function R(H,U){this.fun=H,this.array=U}function L(){}var T=u.exports={},V,q;(function(){try{V='function'==typeof setTimeout?setTimeout:y}catch(H){V=y}try{q='function'==typeof clearTimeout?clearTimeout:w}catch(H){q=w}})();var F=[],B=!1,z,D=-1;T.nextTick=function(H){var U=Array(arguments.length-1);if(1<arguments.length)for(var W=1;W<arguments.length;W++)U[W-1]=arguments[W];F.push(new R(H,U)),1!==F.length||B||N(I)},R.prototype.run=function(){this.fun.apply(null,this.array)},T.title='browser',T.browser=!0,T.env={},T.argv=[],T.version='',T.versions={},T.on=L,T.addListener=L,T.once=L,T.off=L,T.removeListener=L,T.removeAllListeners=L,T.emit=L,T.binding=function(){throw new Error('process.binding is not supported')},T.cwd=function(){return'/'},T.chdir=function(){throw new Error('process.chdir is not supported')},T.umask=function(){return 0}},26:function(u){var y=function(){return this}();try{y=y||Function('return this')()||(1,eval)('this')}catch(w){'object'==typeof window&&(y=window)}u.exports=y},27:function(u,h,y){'use strict';(function(w){function N(){return D.document&&'complete'!==D.document.readyState?new Promise((W)=>{function Q(){D.document.removeEventListener('DOMContentLoaded',Q),D.removeEventListener('load',Q),W()}D.document.addEventListener('DOMContentLoaded',Q),D.addEventListener('load',Q)}):Promise.resolve()}function A(){return q.a.Loader?Promise.resolve(new q.a.Loader):Promise.reject('No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.')}function M(W){let Q;const K=H&&('renderer'===w.type||w.versions['node-webkit']);if(H&&!K)Q='nodejs';else if('undefined'!=typeof window)Q='browser';else if('undefined'!=typeof self)Q='worker';else throw new Error('Could not determine platform implementation to load.');return W.loadModule('aurelia-pal-'+Q).then(($)=>'nodejs'===Q&&!q.b&&$.globalize()||$.initialize())}function I(W){const Q=(K,$)=>W.normalize(K,$).then((Y)=>{return W.map(K,Y),Y});return M(W).then(()=>W.normalize('aurelia-bootstrapper')).then((K)=>{const $=Q('aurelia-framework',K);return Promise.all([$,$.then((Y)=>Q('aurelia-dependency-injection',Y)),Q('aurelia-router',K),Q('aurelia-logging-console',K)])}).then(([K])=>W.loadModule(K)).then((K)=>B(()=>new K.Aurelia(W)))}function R(W,Q,K){return(K.host=W,K.configModuleId=Q||null,Q)?K.loader.loadModule(Q).then(($)=>{if(!$.configure)throw new Error(`Cannot initialize module '${Q}' without a configure function.`);return $.configure(K)}):(K.use.standardConfiguration().developmentLogging(),K.start().then(()=>K.setRoot()))}function T(W){const Q=z.then((K)=>W(K()));return F&&F.push(Q),Q}var V=y(30),q=y(0);Object.defineProperty(h,'__esModule',{value:!0}),h.bootstrap=T;let F=[],B;const z=new Promise((W)=>B=W),D=q.a.global,H='undefined'!=typeof w&&!w.browser,U=function(){return N().then(A).then(I).then(()=>{const W=D.document.querySelectorAll('[aurelia-app],[data-aurelia-app]');for(let $=0,Y=W.length;$<Y;++$){const X=W[$],J=X.getAttribute('aurelia-app')||X.getAttribute('data-aurelia-app');T(R.bind(null,X,J))}const Q=console.error.bind(console),K=F.map(($)=>$.catch(Q));return F=null,Promise.all(K)})}();h.starting=U}).call(h,y(25))},28:function(u,h,y){'use strict';(function(w){function N(V,q){let F=V,B,z;if(F.__useDefault&&(F=F.default),A.c.set(F,new A.c(q,'default')),'object'==typeof F)for(B in F)z=F[B],'function'==typeof z&&A.c.set(z,new A.c(q,B));return V}Object.defineProperty(h,'__esModule',{value:!0});var A=y(4),M=y(8),I=y(0);h.ensureOriginOnExports=N;var R=this&&this.__awaiter||function(V,q,F,B){return new(F||(F=Promise))(function(z,D){function H(Q){try{W(B.next(Q))}catch(K){D(K)}}function U(Q){try{W(B['throw'](Q))}catch(K){D(K)}}function W(Q){Q.done?z(Q.value):new F(function(K){K(Q.value)}).then(H,U)}W((B=B.apply(V,q||[])).next())})};class L{loadTemplate(V,q){return R(this,void 0,void 0,function*(){const F=yield V.loadText(q.address);q.template=I.c.createTemplateFromMarkup(F)})}}h.TextTemplateLoader=L;class T extends M.a{constructor(){super(),this.moduleRegistry=Object.create(null),this.loaderPlugins=Object.create(null),this.modulesBeingLoaded=new Map,this.useTemplateLoader(new L),this.addPlugin('template-registry-entry',{fetch:(V)=>R(this,void 0,void 0,function*(){const q=this.getOrCreateTemplateRegistryEntry(V);return q.templateIsLoaded||(yield this.templateLoader.loadTemplate(this,q)),q})}),I.a.eachModule=(V)=>{const q=y.c,F=Object.getOwnPropertyNames(q);F.forEach((B)=>{const z=q[B].exports;'object'==typeof z&&V(B,z)})}}_import(V,q=!0){return R(this,void 0,void 0,function*(){const F=V.split('!'),B=F.splice(F.length-1,1)[0],z=1===F.length?F[0]:null;if(z){const H=this.loaderPlugins[z];if(!H)throw new Error(`Plugin ${z} is not registered in the loader.`);return!1,yield H.fetch(B)}if(y.m[B])return q&&w.hot&&this.hmrContext&&w.hot.accept(B,()=>this.hmrContext.handleModuleChange(B,w.hot)),y(B);const D=`async!${B}`;if(y.m[D]){q&&w.hot&&this.hmrContext&&(w.hot.accept(B,()=>this.hmrContext.handleModuleChange(B,w.hot)),w.hot.accept(D,()=>{}));const H=y(D);return yield new Promise(H)}throw new Error(`Unable to find module with ID: ${B}`)})}map(){}normalizeSync(V){return V}normalize(V){return Promise.resolve(V)}useTemplateLoader(V){this.templateLoader=V}loadAllModules(V){return Promise.all(V.map((q)=>this.loadModule(q)))}loadModule(V,q=!0){return R(this,void 0,void 0,function*(){let F=this.moduleRegistry[V];if(F)return F;let B=this.modulesBeingLoaded.get(V);if(B)return B;B=this._import(V,q),this.modulesBeingLoaded.set(V,B);const z=yield B;return this.moduleRegistry[V]=N(z,V),this.modulesBeingLoaded.delete(V),z})}loadTemplate(V){return this.loadModule(this.applyPluginToUrl(V,'template-registry-entry'),!1)}loadText(V){return R(this,void 0,void 0,function*(){const q=yield this.loadModule(V,!1);return q instanceof Array&&q[0]instanceof Array&&q.hasOwnProperty('toString')?q.toString():q})}applyPluginToUrl(V,q){return`${q}!${V}`}addPlugin(V,q){this.loaderPlugins[V]=q}}h.WebpackLoader=T,I.a.Loader=T}).call(h,y(41)(u))},29:function(){},3:function(u,h,y){'use strict';function w(pi){if(pi in dt)return dt[pi];const gi=pi.charAt(0).toLowerCase()+pi.slice(1).replace(/[_.-](\w|$)/g,(hi,fi)=>fi.toUpperCase());return dt[pi]=gi,gi}function N(pi,gi){return{bindingContext:pi,parentOverrideContext:gi||null}}function A(pi,gi,hi){let fi=gi.overrideContext;if(hi){for(;hi&&fi;)hi--,fi=fi.parentOverrideContext;return hi||!fi?void 0:pi in fi?fi:fi.bindingContext}for(;fi&&!(pi in fi)&&!(fi.bindingContext&&pi in fi.bindingContext);)fi=fi.parentOverrideContext;return fi?pi in fi?fi:fi.bindingContext:gi.bindingContext||gi.overrideContext}function I(pi){let gi=this._observerSlots===void 0?0:this._observerSlots,hi=gi;for(;hi--&&this[ct[hi]]!==pi;);if(-1===hi){for(hi=0;this[ct[hi]];)hi++;this[ct[hi]]=pi,pi.subscribe(ut,this),hi===gi&&(this._observerSlots=hi+1)}this._version===void 0&&(this._version=0),this[pt[hi]]=this._version}function R(pi,gi){let hi=this.observerLocator.getObserver(pi,gi);I.call(this,hi)}function L(pi){let gi=this.observerLocator.getArrayObserver(pi);I.call(this,gi)}function T(pi){for(let gi=this._observerSlots;gi--;)if(pi||this[pt[gi]]!==this._version){let hi=this[ct[gi]];this[ct[gi]]=null,hi&&hi.unsubscribe(ut,this)}}function V(){return function(pi){pi.prototype.observeProperty=R,pi.prototype.observeArray=L,pi.prototype.unobserve=T,pi.prototype.addObserver=I}}function q(pi){const gi=mt.length;let hi=0;for(;hi<gi;){const fi=mt[hi];if(gt[fi.__connectQueueId]=!1,fi.connect(!0),hi++,0==hi%100&&Te.a.performance.now()-pi>vt)break}mt.splice(0,hi),mt.length?Te.a.requestAnimationFrame(q):(bt=!1,yt=0)}function F(pi){if(yt<ft)yt++,pi.connect(!1);else{let gi=pi.__connectQueueId;gi===void 0&&(gi=ht,ht++,pi.__connectQueueId=gi),gt[gi]||(mt.push(pi),gt[gi]=!0)}bt||(bt=!0,Te.a.requestAnimationFrame(q))}function B(pi,gi){return!this.hasSubscriber(pi,gi)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(pi),this._callablesRest.push(gi),!0):(this._contextsRest=[pi],this._callablesRest=[gi],!0):(this._context2=pi,this._callable2=gi,!0):(this._context1=pi,this._callable1=gi,!0):(this._context0=pi,this._callable0=gi,!0))}function z(pi,gi){if(this._context0===pi&&this._callable0===gi)return this._context0=null,this._callable0=null,!0;if(this._context1===pi&&this._callable1===gi)return this._context1=null,this._callable1=null,!0;if(this._context2===pi&&this._callable2===gi)return this._context2=null,this._callable2=null,!0;let hi=this._contextsRest,fi;return hi&&hi.length&&-1!==(fi=hi.indexOf(pi))&&this._callablesRest[fi]===gi&&(hi.splice(fi,1),this._callablesRest.splice(fi,1),!0)}function D(pi,gi){let hi=this._context0,fi=this._callable0,vi=this._context1,yi=this._callable1,xi=this._context2,wi=this._callable2,ki=this._contextsRest?this._contextsRest.length:0,_i,Ci,Ni,Ai;if(ki){for(Ni=kt.length;Ni--&&kt[Ni];);for(0>Ni?(Ni=kt.length,_i=[],Ci=[],kt.push(!0),xt.push(_i),wt.push(Ci)):(kt[Ni]=!0,_i=xt[Ni],Ci=wt[Ni]),Ai=ki;Ai--;)_i[Ai]=this._contextsRest[Ai],Ci[Ai]=this._callablesRest[Ai]}if(hi&&(fi?fi.call(hi,pi,gi):hi(pi,gi)),vi&&(yi?yi.call(vi,pi,gi):vi(pi,gi)),xi&&(wi?wi.call(xi,pi,gi):xi(pi,gi)),ki){for(Ai=0;Ai<ki;Ai++){let Mi=Ci[Ai],Pi=_i[Ai];Mi?Mi.call(Pi,pi,gi):Pi(pi,gi),_i[Ai]=null,Ci[Ai]=null}kt[Ni]=!1}}function H(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function U(pi,gi){let hi=this._context0===pi&&this._callable0===gi||this._context1===pi&&this._callable1===gi||this._context2===pi&&this._callable2===gi;if(hi)return!0;let fi,vi=this._contextsRest;if(!vi||0===(fi=vi.length))return!1;for(let yi=this._callablesRest;fi--;)if(vi[fi]===pi&&yi[fi]===gi)return!0;return!1}function W(){return function(pi){pi.prototype.addSubscriber=B,pi.prototype.removeSubscriber=z,pi.prototype.callSubscribers=D,pi.prototype.hasSubscribers=H,pi.prototype.hasSubscriber=U}}function Q(pi){return+pi==pi>>>0}function K(pi){return+pi}function $(pi,gi,hi){return{index:pi,removed:gi,addedCount:hi}}function Y(){}function X(pi,gi,hi,fi,vi,yi){return Mt.calcSplices(pi,gi,hi,fi,vi,yi)}function J(pi,gi,hi,fi){return gi<hi||fi<pi?-1:gi===hi||fi===pi?0:pi<hi?gi<fi?gi-hi:fi-hi:fi<gi?fi-pi:gi-pi}function Z(pi,gi,hi,fi){let vi=$(gi,hi,fi),yi=!1,xi=0;for(let wi=0,ki;wi<pi.length;wi++){if(ki=pi[wi],ki.index+=xi,yi)continue;let _i=J(vi.index,vi.index+vi.removed.length,ki.index,ki.index+ki.addedCount);if(0<=_i){pi.splice(wi,1),wi--,xi-=ki.addedCount-ki.removed.length,vi.addedCount+=ki.addedCount-_i;let Ci=vi.removed.length+ki.removed.length-_i;if(!vi.addedCount&&!Ci)yi=!0;else{let Ni=ki.removed;if(vi.index<ki.index){let Ai=vi.removed.slice(0,ki.index-vi.index);Array.prototype.push.apply(Ai,Ni),Ni=Ai}if(vi.index+vi.removed.length>ki.index+ki.addedCount){let Ai=vi.removed.slice(ki.index+ki.addedCount-vi.index);Array.prototype.push.apply(Ni,Ai)}vi.removed=Ni,ki.index<vi.index&&(vi.index=ki.index)}}else if(vi.index<ki.index){yi=!0,pi.splice(wi,0,vi),wi++;let Ci=vi.addedCount-vi.removed.length;ki.index+=Ci,xi+=Ci}}yi||pi.push(vi)}function ee(pi,gi){let hi=[];for(let fi=0,vi;fi<gi.length;fi++)switch(vi=gi[fi],vi.type){case'splice':Z(hi,vi.index,vi.removed.slice(),vi.addedCount);break;case'add':case'update':case'delete':if(!Q(vi.name))continue;let yi=K(vi.name);if(0>yi)continue;Z(hi,yi,[vi.oldValue],'delete'===vi.type?0:1);break;default:console.error('Unexpected record type: '+JSON.stringify(vi));}return hi}function te(pi,gi){let hi=[];return ee(pi,gi).forEach(function(fi){return 1===fi.addedCount&&1===fi.removed.length?void(fi.removed[0]!==pi[fi.index]&&hi.push(fi)):void(hi=hi.concat(X(pi,fi.index,fi.index+fi.addedCount,fi.removed,0,fi.removed.length)))}),hi}function ne(pi,gi,hi,fi){return{type:pi,object:gi,key:hi,oldValue:fi}}function re(pi){let gi=Array(pi.size),hi=pi.keys(),fi=0,vi;for(;(vi=hi.next())&&!vi.done;)gi[fi]=ne('added',pi,vi.value),fi++;return gi}function ie(pi,gi){return qt.for(pi,gi)}function ae(pi,gi,hi){const fi=gi.length,vi=[];for(let yi=0;yi<fi;yi++)vi[yi]=gi[yi].evaluate(pi,hi);return vi}function oe(pi,gi){return null!==pi&&null!==gi?'string'==typeof pi&&'string'!=typeof gi?pi+gi.toString():'string'!=typeof pi&&'string'==typeof gi?pi.toString()+gi:pi+gi:null===pi?null===gi?0:gi:pi}function se(pi,gi,hi){let fi=null===pi||pi===void 0?null:pi[gi];if('function'==typeof fi)return fi;if(!hi&&(null===fi||void 0===fi))return null;throw new Error(`${gi} is not a function`)}function le(pi,gi){if(Array.isArray(pi))return pi[parseInt(gi,10)];return pi?pi[gi]:null===pi||void 0===pi?void 0:pi[gi]}function de(pi,gi,hi){if(Array.isArray(pi)){let fi=parseInt(gi,10);pi.length<=fi&&(pi.length=fi+1),pi[fi]=hi}else pi[gi]=hi;return hi}function ce(pi){return pi>=gn&&pi<=xn||pi===ur}function pe(pi){return Jn<=pi&&pi<=or||Hn<=pi&&pi<=Wn||pi===Xn||pi===_n}function me(pi){return Jn<=pi&&pi<=or||Hn<=pi&&pi<=Wn||zn<=pi&&pi<=Dn||pi===Xn||pi===_n}function ge(pi){return zn<=pi&&pi<=Dn}function he(pi){return pi===Zn||pi===Un}function fe(pi){return pi===On||pi===In}function ve(pi){return pi===tr?hn:pi===er?bn:pi===nr?yn:pi===rr?gn:pi===ar?vn:pi}function be(pi,gi){if(!pi)throw gi||'Assertion failed'}function ye(pi,gi){return hr.for(pi,gi)}function xe(pi){return pi.path&&pi.path[0]||pi.deepPath&&pi.deepPath[0]||pi.target}function we(){this.standardStopPropagation(),this.propagationStopped=!0}function ke(pi){pi.standardStopPropagation=pi.stopPropagation,pi.stopPropagation=we}function _e(pi){let gi=!1;pi.propagationStopped=!1;let hi=xe(pi),fi=[];for(;hi;){if(hi.capturedCallbacks){let vi=hi.capturedCallbacks[pi.type];vi&&(!gi&&(ke(pi),gi=!0),fi.push(vi))}hi=hi.parentNode}for(let vi=fi.length-1,yi;0<=vi&&(yi=fi[vi],yi(pi),!pi.propagationStopped);vi--);}function Ce(pi){let gi=!1;pi.propagationStopped=!1;for(let hi=xe(pi);hi&&!pi.propagationStopped;){if(hi.delegatedCallbacks){let fi=hi.delegatedCallbacks[pi.type];fi&&(!gi&&(ke(pi),gi=!0),fi(pi))}hi=hi.parentNode}}function Se(pi){return!!(pi&&pi.get&&pi.get.dependencies)}function Me(pi,gi,hi,fi){let vi=hi.get.dependencies;if(!(vi instanceof qr)){for(let xi=vi.length;xi--;)vi[xi]=fi.parser.parse(vi[xi]);vi=hi.get.dependencies=new qr(gi,vi)}let yi={bindingContext:pi,overrideContext:N(pi)};return new _t(yi,vi,fi)}function Ee(pi){let gi=pi.au;if(gi===void 0)throw new Error(`No Aurelia APIs are defined for the element: "${pi.tagName}".`);return gi}function Oe(pi,gi){return ci.for(pi,gi)}var Le=y(5),Te=y(0),Ve=y(9),je=y(4);h.n=w,h.a=N,h.p=V,h.q=F,h.d=W,h.l=Z,y.d(h,'i',function(){return zt}),y.d(h,'j',function(){return Dt}),y.d(h,'v',function(){return pr}),y.d(h,'g',function(){return xr}),y.d(h,'h',function(){return Pr}),y.d(h,'f',function(){return Kr}),y.d(h,'r',function(){return Yr}),y.d(h,'u',function(){return Zr}),y.d(h,'b',function(){return ti}),h.m=function(pi){return void 0===pi||'string'==typeof pi?function(gi){je.a.define(je.a.resource,new ti(pi),gi)}:void je.a.define(je.a.resource,new ti,pi)},y.d(h,'c',function(){return ni}),y.d(h,'s',function(){return ri}),y.d(h,'w',function(){return oi});var qe,Fe,Be,ze,De,He,Ue,We,Qe,Ke,Ge,Ye,Xe,Je,Ze,et,tt,nt,rt,at,ot,st,lt;const dt=Object.create(null),ut='Binding:source';h.k=ut;const ct=[],pt=[];for(let pi=0;100>pi;pi++)ct.push(`_observer${pi}`),pt.push(`_observerVersion${pi}`);const mt=[],gt={};let ht=0;const ft=100,vt=15;let bt=!1,yt=0,xt=[],wt=[],kt=[],_t=(qe=V(),Fe=W(),qe(Be=Fe(Be=class{constructor(gi,hi,fi,vi){this.scope=gi,this.expression=hi,this.observerLocator=fi,this.lookupFunctions=vi}getValue(){return this.expression.evaluate(this.scope,this.lookupFunctions)}setValue(gi){this.expression.assign(this.scope,gi)}subscribe(gi,hi){if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(gi,hi),1===arguments.length&&gi instanceof Function)return{dispose:()=>{this.unsubscribe(gi,hi)}}}unsubscribe(gi,hi){this.removeSubscriber(gi,hi)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)}call(){let gi=this.expression.evaluate(this.scope,this.lookupFunctions),hi=this.oldValue;gi!==hi&&(this.oldValue=gi,this.callSubscribers(gi,hi)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)}})||Be)||Be);const Ct=0,St=1,Nt=2,At=3;Y.prototype={calcEditDistances:function(pi,gi,hi,fi,vi,yi){let xi=yi-vi+1,wi=hi-gi+1,ki=Array(xi),_i,Ci;for(let Ni=0;Ni<xi;++Ni)ki[Ni]=Array(wi),ki[Ni][0]=Ni;for(let Ni=0;Ni<wi;++Ni)ki[0][Ni]=Ni;for(let Ni=1;Ni<xi;++Ni)for(let Ai=1;Ai<wi;++Ai)this.equals(pi[gi+Ai-1],fi[vi+Ni-1])?ki[Ni][Ai]=ki[Ni-1][Ai-1]:(_i=ki[Ni-1][Ai]+1,Ci=ki[Ni][Ai-1]+1,ki[Ni][Ai]=_i<Ci?_i:Ci);return ki},spliceOperationsFromEditDistances:function(pi){let gi=pi.length-1,hi=pi[0].length-1,fi=pi[gi][hi],vi=[];for(;0<gi||0<hi;){if(0==gi){vi.push(Nt),hi--;continue}if(0==hi){vi.push(At),gi--;continue}let yi=pi[gi-1][hi-1],xi=pi[gi-1][hi],wi=pi[gi][hi-1],ki;ki=xi<wi?xi<yi?xi:yi:wi<yi?wi:yi,ki===yi?(yi===fi?vi.push(Ct):(vi.push(St),fi=yi),gi--,hi--):ki===xi?(vi.push(At),gi--,fi=xi):(vi.push(Nt),hi--,fi=wi)}return vi.reverse(),vi},calcSplices:function(pi,gi,hi,fi,vi,yi){let xi=0,wi=0,ki=_Mathmin(hi-gi,yi-vi);if(0===gi&&0===vi&&(xi=this.sharedPrefix(pi,fi,ki)),hi===pi.length&&yi===fi.length&&(wi=this.sharedSuffix(pi,fi,ki-xi)),gi+=xi,vi+=xi,hi-=wi,yi-=wi,0==hi-gi&&0==yi-vi)return[];if(gi===hi){let Pi=$(gi,[],0);for(;vi<yi;)Pi.removed.push(fi[vi++]);return[Pi]}if(vi===yi)return[$(gi,[],hi-gi)];let _i=this.spliceOperationsFromEditDistances(this.calcEditDistances(pi,gi,hi,fi,vi,yi)),Ni=[],Ai=gi,Mi=vi,Ci;for(let Pi=0;Pi<_i.length;++Pi)switch(_i[Pi]){case Ct:Ci&&(Ni.push(Ci),Ci=void 0),Ai++,Mi++;break;case St:Ci||(Ci=$(Ai,[],0)),Ci.addedCount++,Ai++,Ci.removed.push(fi[Mi]),Mi++;break;case Nt:Ci||(Ci=$(Ai,[],0)),Ci.addedCount++,Ai++;break;case At:Ci||(Ci=$(Ai,[],0)),Ci.removed.push(fi[Mi]),Mi++;}return Ci&&Ni.push(Ci),Ni},sharedPrefix:function(pi,gi,hi){for(let fi=0;fi<hi;++fi)if(!this.equals(pi[fi],gi[fi]))return fi;return hi},sharedSuffix:function(pi,gi,hi){let fi=pi.length,vi=gi.length,yi=0;for(;yi<hi&&this.equals(pi[--fi],gi[--vi]);)yi++;return yi},calculateSplices:function(pi,gi){return this.calcSplices(pi,0,pi.length,gi,0,gi.length)},equals:function(pi,gi){return pi===gi}};let Mt=new Y,Pt=(ze=W(),ze(De=class{constructor(gi,hi){this.taskQueue=gi,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=hi,this.lengthPropertyName=hi instanceof Map||hi instanceof Set?'size':'length'}subscribe(gi,hi){this.addSubscriber(gi,hi)}unsubscribe(gi,hi){this.removeSubscriber(gi,hi)}addChangeRecord(gi){if(this.hasSubscribers()||this.lengthObserver){if('splice'===gi.type){let hi=gi.index,fi=gi.object.length;hi>fi?hi=fi-gi.addedCount:0>hi&&(hi=fi+gi.removed.length+hi-gi.addedCount),0>hi&&(hi=0),gi.index=hi}null===this.changeRecords?this.changeRecords=[gi]:this.changeRecords.push(gi),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}}flushChangeRecords(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()}reset(gi){this.oldCollection=gi,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))}getLengthObserver(){return this.lengthObserver||(this.lengthObserver=new It(this.collection))}call(){let gi=this.changeRecords,hi=this.oldCollection,fi;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(fi=hi?this.collection instanceof Map||this.collection instanceof Set?re(hi):X(this.collection,0,this.collection.length,hi,0,hi.length):this.collection instanceof Map||this.collection instanceof Set?gi:te(this.collection,gi),this.callSubscribers(fi)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])}})||De),It=(He=W(),He(Ue=class{constructor(gi){this.collection=gi,this.lengthPropertyName=gi instanceof Map||gi instanceof Set?'size':'length',this.currentValue=gi[this.lengthPropertyName]}getValue(){return this.collection[this.lengthPropertyName]}setValue(gi){this.collection[this.lengthPropertyName]=gi}subscribe(gi,hi){this.addSubscriber(gi,hi)}unsubscribe(gi,hi){this.removeSubscriber(gi,hi)}call(gi){let hi=this.currentValue;this.callSubscribers(gi,hi),this.currentValue=gi}})||Ue),Et=Array.prototype.pop,Ot=Array.prototype.push,Rt=Array.prototype.reverse,Lt=Array.prototype.shift,Tt=Array.prototype.sort,Vt=Array.prototype.splice,jt=Array.prototype.unshift;Array.prototype.pop=function(){let pi=0<this.length,gi=Et.apply(this,arguments);return pi&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'delete',object:this,name:this.length,oldValue:gi}),gi},Array.prototype.push=function(){let pi=Ot.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'splice',object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),pi},Array.prototype.reverse=function(){let pi;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),pi=this.slice());let gi=Rt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(pi),gi},Array.prototype.shift=function(){let pi=0<this.length,gi=Lt.apply(this,arguments);return pi&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'delete',object:this,name:0,oldValue:gi}),gi},Array.prototype.sort=function(){let pi;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),pi=this.slice());let gi=Tt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(pi),gi},Array.prototype.splice=function(){let pi=Vt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'splice',object:this,index:+arguments[0],removed:pi,addedCount:2<arguments.length?arguments.length-2:0}),pi},Array.prototype.unshift=function(){let pi=jt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'splice',object:this,index:0,removed:[],addedCount:arguments.length}),pi};let qt=class pi extends Pt{constructor(gi,hi){super(gi,hi)}static for(gi,hi){return'__array_observer__'in hi||Reflect.defineProperty(hi,'__array_observer__',{value:pi.create(gi,hi),enumerable:!1,configurable:!1}),hi.__array_observer__}static create(gi,hi){return new pi(gi,hi)}},Ft=class{constructor(){this.isChain=!1,this.isAssignable=!1}evaluate(){throw new Error(`Binding expression "${this}" cannot be evaluated.`)}assign(){throw new Error(`Binding expression "${this}" cannot be assigned to.`)}toString(){return super.toString()}},Bt=class extends Ft{constructor(gi){super(),this.expressions=gi,this.isChain=!0}evaluate(gi,hi){let fi,vi=this.expressions,yi;for(let xi=0,wi=vi.length;xi<wi;++xi)yi=vi[xi].evaluate(gi,hi),null!==yi&&(fi=yi);return fi}accept(gi){return gi.visitChain(this)}},zt=class extends Ft{constructor(gi,hi,fi){super(),this.expression=gi,this.name=hi,this.args=fi}evaluate(gi,hi){return this.expression.evaluate(gi,hi)}assign(gi,hi,fi){return this.expression.assign(gi,hi,fi)}accept(gi){return gi.visitBindingBehavior(this)}connect(gi,hi){this.expression.connect(gi,hi)}bind(gi,hi,fi){this.expression.expression&&this.expression.bind&&this.expression.bind(gi,hi,fi);let vi=fi.bindingBehaviors(this.name);if(!vi)throw new Error(`No BindingBehavior named "${this.name}" was found!`);let yi=`behavior-${this.name}`;if(gi[yi])throw new Error(`A binding behavior named "${this.name}" has already been applied to "${this.expression}"`);gi[yi]=vi,vi.bind.apply(vi,[gi,hi].concat(ae(hi,this.args,gi.lookupFunctions)))}unbind(gi,hi){let fi=`behavior-${this.name}`;gi[fi].unbind(gi,hi),gi[fi]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(gi,hi)}},Dt=class extends Ft{constructor(gi,hi,fi,vi){super(),this.expression=gi,this.name=hi,this.args=fi,this.allArgs=vi}evaluate(gi,hi){let fi=hi.valueConverters(this.name);if(!fi)throw new Error(`No ValueConverter named "${this.name}" was found!`);return'toView'in fi?fi.toView.apply(fi,ae(gi,this.allArgs,hi)):this.allArgs[0].evaluate(gi,hi)}assign(gi,hi,fi){let vi=fi.valueConverters(this.name);if(!vi)throw new Error(`No ValueConverter named "${this.name}" was found!`);return'fromView'in vi&&(hi=vi.fromView.apply(vi,[hi].concat(ae(gi,this.args,fi)))),this.allArgs[0].assign(gi,hi,fi)}accept(gi){return gi.visitValueConverter(this)}connect(gi,hi){let fi=this.allArgs,vi=fi.length;for(;vi--;)fi[vi].connect(gi,hi)}},Ht=class extends Ft{constructor(gi,hi){super(),this.target=gi,this.value=hi,this.isAssignable=!0}evaluate(gi,hi){return this.target.assign(gi,this.value.evaluate(gi,hi))}accept(gi){gi.visitAssign(this)}connect(){}assign(gi,hi){this.value.assign(gi,hi),this.target.assign(gi,hi)}},Ut=class extends Ft{constructor(gi,hi,fi){super(),this.condition=gi,this.yes=hi,this.no=fi}evaluate(gi){return!this.condition.evaluate(gi)?this.no.evaluate(gi):this.yes.evaluate(gi)}accept(gi){return gi.visitConditional(this)}connect(gi,hi){this.condition.connect(gi,hi),this.condition.evaluate(hi)?this.yes.connect(gi,hi):this.no.connect(gi,hi)}},Wt=class extends Ft{constructor(gi){super(),this.ancestor=gi}evaluate(gi){let fi=gi.overrideContext,vi=this.ancestor;for(;vi--&&fi;)fi=fi.parentOverrideContext;return 1>vi&&fi?fi.bindingContext:void 0}accept(gi){return gi.visitAccessThis(this)}connect(){}},Qt=class extends Ft{constructor(gi,hi){super(),this.name=gi,this.ancestor=hi,this.isAssignable=!0}evaluate(gi){let fi=A(this.name,gi,this.ancestor);return fi[this.name]}assign(gi,hi){let fi=A(this.name,gi,this.ancestor);return fi?fi[this.name]=hi:void 0}accept(gi){return gi.visitAccessScope(this)}connect(gi,hi){let fi=A(this.name,hi,this.ancestor);gi.observeProperty(fi,this.name)}},Kt=class extends Ft{constructor(gi,hi){super(),this.object=gi,this.name=hi,this.isAssignable=!0}evaluate(gi,hi){let fi=this.object.evaluate(gi,hi);return null===fi||fi===void 0?fi:fi[this.name]}assign(gi,hi){let fi=this.object.evaluate(gi);return(null===fi||void 0===fi)&&(fi={},this.object.assign(gi,fi)),fi[this.name]=hi,hi}accept(gi){return gi.visitAccessMember(this)}connect(gi,hi){this.object.connect(gi,hi);let fi=this.object.evaluate(hi);fi&&gi.observeProperty(fi,this.name)}},Gt=class extends Ft{constructor(gi,hi){super(),this.object=gi,this.key=hi,this.isAssignable=!0}evaluate(gi,hi){let fi=this.object.evaluate(gi,hi),vi=this.key.evaluate(gi,hi);return le(fi,vi)}assign(gi,hi){let fi=this.object.evaluate(gi),vi=this.key.evaluate(gi);return de(fi,vi,hi)}accept(gi){return gi.visitAccessKeyed(this)}connect(gi,hi){this.object.connect(gi,hi);let fi=this.object.evaluate(hi);if(fi instanceof Object){this.key.connect(gi,hi);let vi=this.key.evaluate(hi);null===vi||vi===void 0||Array.isArray(fi)&&'number'==typeof vi||gi.observeProperty(fi,vi)}}},Yt=class extends Ft{constructor(gi,hi,fi){super(),this.name=gi,this.args=hi,this.ancestor=fi}evaluate(gi,hi,fi){let vi=ae(gi,this.args,hi),yi=A(this.name,gi,this.ancestor),xi=se(yi,this.name,fi);return xi?xi.apply(yi,vi):void 0}accept(gi){return gi.visitCallScope(this)}connect(gi,hi){let fi=this.args,vi=fi.length;for(;vi--;)fi[vi].connect(gi,hi)}},Xt=class extends Ft{constructor(gi,hi,fi){super(),this.object=gi,this.name=hi,this.args=fi}evaluate(gi,hi,fi){let vi=this.object.evaluate(gi,hi),yi=ae(gi,this.args,hi),xi=se(vi,this.name,fi);return xi?xi.apply(vi,yi):void 0}accept(gi){return gi.visitCallMember(this)}connect(gi,hi){this.object.connect(gi,hi);let fi=this.object.evaluate(hi);if(se(fi,this.name,!1)){let vi=this.args,yi=vi.length;for(;yi--;)vi[yi].connect(gi,hi)}}},Jt=class extends Ft{constructor(gi,hi){super(),this.func=gi,this.args=hi}evaluate(gi,hi,fi){let vi=this.func.evaluate(gi,hi);if('function'==typeof vi)return vi.apply(null,ae(gi,this.args,hi));if(fi||null!==vi&&void 0!==vi)throw new Error(`${this.func} is not a function`)}accept(gi){return gi.visitCallFunction(this)}connect(gi,hi){this.func.connect(gi,hi);let fi=this.func.evaluate(hi);if('function'==typeof fi){let vi=this.args,yi=vi.length;for(;yi--;)vi[yi].connect(gi,hi)}}},Zt=class extends Ft{constructor(gi,hi,fi){super(),this.operation=gi,this.left=hi,this.right=fi}evaluate(gi){let fi=this.left.evaluate(gi);switch(this.operation){case'&&':return fi&&this.right.evaluate(gi);case'||':return fi||this.right.evaluate(gi);}let vi=this.right.evaluate(gi);switch(this.operation){case'==':return fi==vi;case'===':return fi===vi;case'!=':return fi!=vi;case'!==':return fi!==vi;}if(null===fi||null===vi||fi===void 0||vi===void 0){switch(this.operation){case'+':return null!==fi&&void 0!==fi?fi:null!==vi&&void 0!==vi?vi:0;case'-':return null!==fi&&void 0!==fi?fi:null!==vi&&void 0!==vi?0-vi:0;}return null}switch(this.operation){case'+':return oe(fi,vi);case'-':return fi-vi;case'*':return fi*vi;case'/':return fi/vi;case'%':return fi%vi;case'<':return fi<vi;case'>':return fi>vi;case'<=':return fi<=vi;case'>=':return fi>=vi;case'^':return fi^vi;}throw new Error(`Internal error [${this.operation}] not handled`)}accept(gi){return gi.visitBinary(this)}connect(gi,hi){this.left.connect(gi,hi);let fi=this.left.evaluate(hi);'&&'===this.operation&&!fi||'||'===this.operation&&fi||this.right.connect(gi,hi)}},en=class extends Ft{constructor(gi,hi){super(),this.operation=gi,this.expression=hi}evaluate(gi){return!this.expression.evaluate(gi)}accept(gi){return gi.visitPrefix(this)}connect(gi,hi){this.expression.connect(gi,hi)}},tn=class extends Ft{constructor(gi){super(),this.value=gi}evaluate(){return this.value}accept(gi){return gi.visitLiteralPrimitive(this)}connect(){}},nn=class extends Ft{constructor(gi){super(),this.value=gi}evaluate(){return this.value}accept(gi){return gi.visitLiteralString(this)}connect(){}},rn=class extends Ft{constructor(gi){super(),this.elements=gi}evaluate(gi,hi){let fi=this.elements,vi=[];for(let yi=0,xi=fi.length;yi<xi;++yi)vi[yi]=fi[yi].evaluate(gi,hi);return vi}accept(gi){return gi.visitLiteralArray(this)}connect(gi,hi){let fi=this.elements.length;for(let vi=0;vi<fi;vi++)this.elements[vi].connect(gi,hi)}},an=class extends Ft{constructor(gi,hi){super(),this.keys=gi,this.values=hi}evaluate(gi,hi){let fi={},vi=this.keys,yi=this.values;for(let xi=0,wi=vi.length;xi<wi;++xi)fi[vi[xi]]=yi[xi].evaluate(gi,hi);return fi}accept(gi){return gi.visitLiteralObject(this)}connect(gi,hi){let fi=this.keys.length;for(let vi=0;vi<fi;vi++)this.values[vi].connect(gi,hi)}};let sn=class{cloneExpressionArray(gi){let hi=[],fi=gi.length;for(;fi--;)hi[fi]=gi[fi].accept(this);return hi}visitChain(gi){return new Bt(this.cloneExpressionArray(gi.expressions))}visitBindingBehavior(gi){return new zt(gi.expression.accept(this),gi.name,this.cloneExpressionArray(gi.args))}visitValueConverter(gi){return new Dt(gi.expression.accept(this),gi.name,this.cloneExpressionArray(gi.args))}visitAssign(gi){return new Ht(gi.target.accept(this),gi.value.accept(this))}visitConditional(gi){return new Ut(gi.condition.accept(this),gi.yes.accept(this),gi.no.accept(this))}visitAccessThis(gi){return new Wt(gi.ancestor)}visitAccessScope(gi){return new Qt(gi.name,gi.ancestor)}visitAccessMember(gi){return new Kt(gi.object.accept(this),gi.name)}visitAccessKeyed(gi){return new Gt(gi.object.accept(this),gi.key.accept(this))}visitCallScope(gi){return new Yt(gi.name,this.cloneExpressionArray(gi.args),gi.ancestor)}visitCallFunction(gi){return new Jt(gi.func.accept(this),this.cloneExpressionArray(gi.args))}visitCallMember(gi){return new Xt(gi.object.accept(this),gi.name,this.cloneExpressionArray(gi.args))}visitPrefix(gi){return new en(gi.operation,gi.expression.accept(this))}visitBinary(gi){return new Zt(gi.operation,gi.left.accept(this),gi.right.accept(this))}visitLiteralPrimitive(gi){return new tn(gi)}visitLiteralArray(gi){return new rn(this.cloneExpressionArray(gi.elements))}visitLiteralObject(gi){return new an(gi.keys,this.cloneExpressionArray(gi.values))}visitLiteralString(gi){return new nn(gi.value)}};const ln={oneTime:0,oneWay:1,twoWay:2};h.e=ln;let dn=class{constructor(gi,hi){this.index=gi,this.text=hi}withOp(gi){return this.opKey=gi,this}withGetterSetter(gi){return this.key=gi,this}withValue(gi){return this.value=gi,this}toString(){return`Token(${this.text})`}},un=class{lex(gi){let hi=new cn(gi),fi=[],vi=hi.scanToken();for(;vi;)fi.push(vi),vi=hi.scanToken();return fi}},cn=class{constructor(gi){this.input=gi,this.length=gi.length,this.peek=0,this.index=-1,this.advance()}scanToken(){for(;this.peek<=xn;){if(++this.index>=this.length)return this.peek=mn,null;this.peek=this.input.charCodeAt(this.index)}if(pe(this.peek))return this.scanIdentifier();if(ge(this.peek))return this.scanNumber(this.index);let gi=this.index;switch(this.peek){case Rn:return this.advance(),ge(this.peek)?this.scanNumber(gi):new dn(gi,'.');case An:case Mn:case sr:case dr:case Qn:case Gn:case En:case Tn:case Vn:return this.scanCharacter(gi,_StringfromCharCode(this.peek));case Nn:case kn:return this.scanString();case In:case On:case Pn:case Ln:case Cn:case Yn:case Bn:return this.scanOperator(gi,_StringfromCharCode(this.peek));case jn:case Fn:case wn:case qn:return this.scanComplexOperator(gi,qn,_StringfromCharCode(this.peek),'=');case Sn:return this.scanComplexOperator(gi,Sn,'&','&');case lr:return this.scanComplexOperator(gi,lr,'|','|');case ur:for(;ce(this.peek);)this.advance();return this.scanToken();}let hi=_StringfromCharCode(this.peek);return this.error(`Unexpected character [${hi}]`),null}scanCharacter(gi,hi){return be(this.peek===hi.charCodeAt(0)),this.advance(),new dn(gi,hi)}scanOperator(gi,hi){return be(this.peek===hi.charCodeAt(0)),be(-1!==pn.indexOf(hi)),this.advance(),new dn(gi,hi).withOp(hi)}scanComplexOperator(gi,hi,fi,vi){be(this.peek===fi.charCodeAt(0)),this.advance();let yi=fi;return this.peek===hi&&(this.advance(),yi+=vi),this.peek===hi&&(this.advance(),yi+=vi),be(-1!==pn.indexOf(yi)),new dn(gi,yi).withOp(yi)}scanIdentifier(){be(pe(this.peek));let gi=this.index;for(this.advance();me(this.peek);)this.advance();let hi=this.input.substring(gi,this.index),fi=new dn(gi,hi);return-1===pn.indexOf(hi)?fi.withGetterSetter(hi):fi.withOp(hi),fi}scanNumber(gi){be(ge(this.peek));let hi=this.index===gi;for(this.advance();;){if(!ge(this.peek))if(this.peek===Rn)hi=!1;else if(he(this.peek))this.advance(),fe(this.peek)&&this.advance(),ge(this.peek)||this.error('Invalid exponent',-1),hi=!1;else break;this.advance()}let fi=this.input.substring(gi,this.index),vi=hi?parseInt(fi,10):parseFloat(fi);return new dn(gi,fi).withValue(vi)}scanString(){be(this.peek===Nn||this.peek===kn);let gi=this.index,hi=this.peek;this.advance();let vi=this.index,fi;for(;this.peek!==hi;)if(this.peek===Kn){fi||(fi=[]),fi.push(this.input.substring(vi,this.index)),this.advance();let ki;if(this.peek===ir){let _i=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(_i)||this.error(`Invalid unicode escape [\\u${_i}]`),ki=parseInt(_i,16);for(let Ci=0;5>Ci;++Ci)this.advance()}else ki=ve(this.peek),this.advance();fi.push(_StringfromCharCode(ki)),vi=this.index}else this.peek===mn?this.error('Unterminated quote'):this.advance();let yi=this.input.substring(vi,this.index);this.advance();let xi=this.input.substring(gi,this.index),wi=yi;return null!==fi&&void 0!==fi&&(fi.push(yi),wi=fi.join('')),new dn(gi,xi).withValue(wi)}advance(){this.peek=++this.index>=this.length?mn:this.input.charCodeAt(this.index)}error(gi,hi=0){let fi=this.index+hi;throw new Error(`Lexer Error: ${gi} at column ${fi} in expression [${this.input}]`)}};const pn=['undefined','null','true','false','+','-','*','/','%','^','=','==','===','!=','!==','<','>','<=','>=','&&','||','&','|','!','?'],mn=0,gn=9,hn=10,vn=11,bn=12,yn=13,xn=32,wn=33,kn=34,_n=36,Cn=37,Sn=38,Nn=39,An=40,Mn=41,Pn=42,In=43,En=44,On=45,Rn=46,Ln=47,Tn=58,Vn=59,jn=60,qn=61,Fn=62,Bn=63,zn=48,Dn=57,Hn=65,Un=69,Wn=90,Qn=91,Kn=92,Gn=93,Yn=94,Xn=95,Jn=97,Zn=101,er=102,tr=110,nr=114,rr=116,ir=117,ar=118,or=122,sr=123,lr=124,dr=125,ur=160;let cr=new dn(-1,null),pr=class{constructor(){this.cache={},this.lexer=new un}parse(gi){return gi=gi||'',this.cache[gi]||(this.cache[gi]=new mr(this.lexer,gi).parseChain())}},mr=class{constructor(gi,hi){this.index=0,this.input=hi,this.tokens=gi.lex(hi)}get peek(){return this.index<this.tokens.length?this.tokens[this.index]:cr}parseChain(){let gi=!1,hi=[];for(;this.optional(';');)gi=!0;for(;this.index<this.tokens.length;){(')'===this.peek.text||'}'===this.peek.text||']'===this.peek.text)&&this.error(`Unconsumed token ${this.peek.text}`);let fi=this.parseBindingBehavior();for(hi.push(fi);this.optional(';');)gi=!0;gi&&this.error('Multiple expressions are not allowed.')}return 1===hi.length?hi[0]:new Bt(hi)}parseBindingBehavior(){let gi=this.parseValueConverter();for(;this.optional('&');){let hi=this.peek.text,fi=[];for(this.advance();this.optional(':');)fi.push(this.parseExpression());gi=new zt(gi,hi,fi)}return gi}parseValueConverter(){let gi=this.parseExpression();for(;this.optional('|');){let hi=this.peek.text,fi=[];for(this.advance();this.optional(':');)fi.push(this.parseExpression());gi=new Dt(gi,hi,fi,[gi].concat(fi))}return gi}parseExpression(){let gi=this.peek.index,hi=this.parseConditional();for(;'='===this.peek.text;){if(!hi.isAssignable){let fi=this.index<this.tokens.length?this.peek.index:this.input.length,vi=this.input.substring(gi,fi);this.error(`Expression ${vi} is not assignable`)}this.expect('='),hi=new Ht(hi,this.parseConditional())}return hi}parseConditional(){let gi=this.peek.index,hi=this.parseLogicalOr();if(this.optional('?')){let fi=this.parseExpression();if(!this.optional(':')){let yi=this.index<this.tokens.length?this.peek.index:this.input.length,xi=this.input.substring(gi,yi);this.error(`Conditional expression ${xi} requires all 3 expressions`)}let vi=this.parseExpression();hi=new Ut(hi,fi,vi)}return hi}parseLogicalOr(){let gi=this.parseLogicalAnd();for(;this.optional('||');)gi=new Zt('||',gi,this.parseLogicalAnd());return gi}parseLogicalAnd(){let gi=this.parseEquality();for(;this.optional('&&');)gi=new Zt('&&',gi,this.parseEquality());return gi}parseEquality(){for(let gi=this.parseRelational();;)if(this.optional('=='))gi=new Zt('==',gi,this.parseRelational());else if(this.optional('!='))gi=new Zt('!=',gi,this.parseRelational());else if(this.optional('==='))gi=new Zt('===',gi,this.parseRelational());else if(this.optional('!=='))gi=new Zt('!==',gi,this.parseRelational());else return gi}parseRelational(){for(let gi=this.parseAdditive();;)if(this.optional('<'))gi=new Zt('<',gi,this.parseAdditive());else if(this.optional('>'))gi=new Zt('>',gi,this.parseAdditive());else if(this.optional('<='))gi=new Zt('<=',gi,this.parseAdditive());else if(this.optional('>='))gi=new Zt('>=',gi,this.parseAdditive());else return gi}parseAdditive(){for(let gi=this.parseMultiplicative();;)if(this.optional('+'))gi=new Zt('+',gi,this.parseMultiplicative());else if(this.optional('-'))gi=new Zt('-',gi,this.parseMultiplicative());else return gi}parseMultiplicative(){for(let gi=this.parsePrefix();;)if(this.optional('*'))gi=new Zt('*',gi,this.parsePrefix());else if(this.optional('%'))gi=new Zt('%',gi,this.parsePrefix());else if(this.optional('/'))gi=new Zt('/',gi,this.parsePrefix());else return gi}parsePrefix(){if(this.optional('+'))return this.parsePrefix();return this.optional('-')?new Zt('-',new tn(0),this.parsePrefix()):this.optional('!')?new en('!',this.parsePrefix()):this.parseAccessOrCallMember()}parseAccessOrCallMember(){for(let gi=this.parsePrimary();;)if(this.optional('.')){let hi=this.peek.text;if(this.advance(),this.optional('(')){let fi=this.parseExpressionList(')');this.expect(')'),gi=gi instanceof Wt?new Yt(hi,fi,gi.ancestor):new Xt(gi,hi,fi)}else gi=gi instanceof Wt?new Qt(hi,gi.ancestor):new Kt(gi,hi)}else if(this.optional('[')){let hi=this.parseExpression();this.expect(']'),gi=new Gt(gi,hi)}else if(this.optional('(')){let hi=this.parseExpressionList(')');this.expect(')'),gi=new Jt(gi,hi)}else return gi}parsePrimary(){if(this.optional('(')){let gi=this.parseExpression();return this.expect(')'),gi}if(this.optional('null'))return new tn(null);if(this.optional('undefined'))return new tn(void 0);if(this.optional('true'))return new tn(!0);if(this.optional('false'))return new tn(!1);if(this.optional('[')){let gi=this.parseExpressionList(']');return this.expect(']'),new rn(gi)}if('{'===this.peek.text)return this.parseObject();if(null!==this.peek.key&&void 0!==this.peek.key)return this.parseAccessOrCallScope();if(null!==this.peek.value&&void 0!==this.peek.value){let gi=this.peek.value;return this.advance(),gi instanceof String||'string'==typeof gi?new nn(gi):new tn(gi)}if(this.index>=this.tokens.length)throw new Error(`Unexpected end of expression: ${this.input}`);else this.error(`Unexpected token ${this.peek.text}`)}parseAccessOrCallScope(){let gi=this.peek.key;if(this.advance(),'$this'===gi)return new Wt(0);let hi=0;for(;'$parent'===gi;)if(hi++,this.optional('.'))gi=this.peek.key,this.advance();else{if(this.peek===cr||'('===this.peek.text||')'===this.peek.text||'['===this.peek.text||'}'===this.peek.text||','===this.peek.text)return new Wt(hi);this.error(`Unexpected token ${this.peek.text}`)}if(this.optional('(')){let fi=this.parseExpressionList(')');return this.expect(')'),new Yt(gi,fi,hi)}return new Qt(gi,hi)}parseObject(){let gi=[],hi=[];if(this.expect('{'),'}'!==this.peek.text)do{let fi=this.peek,vi=fi.value;gi.push('string'==typeof vi?vi:fi.text),this.advance(),fi.key&&(','===this.peek.text||'}'===this.peek.text)?(--this.index,hi.push(this.parseAccessOrCallScope())):(this.expect(':'),hi.push(this.parseExpression()))}while(this.optional(','));return this.expect('}'),new an(gi,hi)}parseExpressionList(gi){let hi=[];if(this.peek.text!==gi)do hi.push(this.parseExpression());while(this.optional(','));return hi}optional(gi){return!(this.peek.text!==gi)&&(this.advance(),!0)}expect(gi){this.peek.text===gi?this.advance():this.error(`Missing expected ${gi}`)}advance(){this.index++}error(gi){let hi=this.index<this.tokens.length?`at column ${this.tokens[this.index].index+1} in`:'at the end of the expression';throw new Error(`Parser Error: ${gi} ${hi} [${this.input}]`)}},gr=Map.prototype,hr=class pi extends Pt{constructor(gi,hi){super(gi,hi)}static for(gi,hi){return'__map_observer__'in hi||Reflect.defineProperty(hi,'__map_observer__',{value:pi.create(gi,hi),enumerable:!1,configurable:!1}),hi.__map_observer__}static create(gi,hi){let fi=new pi(gi,hi),vi=gr;return(vi.set!==hi.set||vi.delete!==hi.delete||vi.clear!==hi.clear)&&(vi={set:hi.set,delete:hi.delete,clear:hi.clear}),hi.set=function(){let yi=hi.has(arguments[0]),xi=yi?'update':'add',wi=hi.get(arguments[0]),ki=vi.set.apply(hi,arguments);return yi&&wi===hi.get(arguments[0])||fi.addChangeRecord({type:xi,object:hi,key:arguments[0],oldValue:wi}),ki},hi.delete=function(){let yi=hi.has(arguments[0]),xi=hi.get(arguments[0]),wi=vi.delete.apply(hi,arguments);return yi&&fi.addChangeRecord({type:'delete',object:hi,key:arguments[0],oldValue:xi}),wi},hi.clear=function(){let yi=vi.clear.apply(hi,arguments);return fi.addChangeRecord({type:'clear',object:hi}),yi},fi}},fr=class{constructor(gi){this.eventName=gi,this.count=0}increment(){this.count++,1===this.count&&Te.c.addEventListener(this.eventName,_e,!0)}decrement(){this.count--,0===this.count&&Te.c.removeEventListener(this.eventName,_e,!0)}},vr=class{constructor(gi){this.eventName=gi,this.count=0}increment(){this.count++,1===this.count&&Te.c.addEventListener(this.eventName,Ce,!1)}decrement(){this.count--,0===this.count&&Te.c.removeEventListener(this.eventName,Ce)}},br=class{constructor(){this.delegatedHandlers={},this.capturedHandlers={}}subscribe(gi,hi,fi,vi){let yi,xi,wi;if(vi===yr.bubbling){yi=this.delegatedHandlers,wi=yi[hi]||(yi[hi]=new vr(hi));let ki=gi.delegatedCallbacks||(gi.delegatedCallbacks={});return wi.increment(),ki[hi]=fi,function(){wi.decrement(),ki[hi]=null}}if(vi===yr.capturing){xi=this.capturedHandlers,wi=xi[hi]||(xi[hi]=new fr(hi));let ki=gi.capturedCallbacks||(gi.capturedCallbacks={});return wi.increment(),ki[hi]=fi,function(){wi.decrement(),ki[hi]=null}}return gi.addEventListener(hi,fi,!1),function(){gi.removeEventListener(hi,fi)}}};const yr={none:0,capturing:1,bubbling:2};h.t=yr;let xr=class{constructor(){this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:'input',properties:{value:['change','input'],checked:['change','input'],files:['change','input']}}),this.registerElementConfig({tagName:'textarea',properties:{value:['change','input']}}),this.registerElementConfig({tagName:'select',properties:{value:['change']}}),this.registerElementConfig({tagName:'content editable',properties:{value:['change','input','blur','keyup','paste']}}),this.registerElementConfig({tagName:'scrollable element',properties:{scrollTop:['scroll'],scrollLeft:['scroll']}}),this.defaultEventStrategy=new br}registerElementConfig(gi){let hi=gi.tagName.toLowerCase(),fi=gi.properties,vi;for(vi in this.elementHandlerLookup[hi]={},fi)fi.hasOwnProperty(vi)&&this.registerElementPropertyConfig(hi,vi,fi[vi])}registerElementPropertyConfig(gi,hi,fi){this.elementHandlerLookup[gi][hi]=this.createElementHandler(fi)}createElementHandler(gi){return{subscribe(hi,fi){return gi.forEach((vi)=>{hi.addEventListener(vi,fi,!1)}),function(){gi.forEach((vi)=>{hi.removeEventListener(vi,fi)})}}}}registerElementHandler(gi,hi){this.elementHandlerLookup[gi.toLowerCase()]=hi}registerEventStrategy(gi,hi){this.eventStrategyLookup[gi]=hi}getElementHandler(gi,hi){let fi,vi=this.elementHandlerLookup;if(gi.tagName){if(fi=gi.tagName.toLowerCase(),vi[fi]&&vi[fi][hi])return vi[fi][hi];if('textContent'===hi||'innerHTML'===hi)return vi['content editable'].value;if('scrollTop'===hi||'scrollLeft'===hi)return vi['scrollable element'][hi]}return null}addEventListener(gi,hi,fi,vi){return(this.eventStrategyLookup[hi]||this.defaultEventStrategy).subscribe(gi,hi,fi,vi)}},kr=(We=W(),We(Qe=class{constructor(gi,hi,fi){this.dirtyChecker=gi,this.obj=hi,this.propertyName=fi}getValue(){return this.obj[this.propertyName]}setValue(gi){this.obj[this.propertyName]=gi}call(){let gi=this.oldValue,hi=this.getValue();this.callSubscribers(hi,gi),this.oldValue=hi}isDirty(){return this.oldValue!==this.obj[this.propertyName]}subscribe(gi,hi){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(gi,hi)}unsubscribe(gi,hi){this.removeSubscriber(gi,hi)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)}})||Qe);const _r=Le.getLogger('property-observation'),Cr={getValue:(pi,gi)=>pi[gi],setValue:(pi,gi,hi)=>{gi[hi]=pi}};let Sr=class{constructor(gi,hi){this.doNotCache=!0,this.primitive=gi,this.propertyName=hi}getValue(){return this.primitive[this.propertyName]}setValue(){let gi=typeof this.primitive;throw new Error(`The ${this.propertyName} property of a ${gi} (${this.primitive}) cannot be assigned.`)}subscribe(){}unsubscribe(){}},Nr=(Ke=W(),Ke(Ge=class{constructor(gi,hi,fi){this.taskQueue=gi,this.obj=hi,this.propertyName=fi,this.queued=!1,this.observing=!1}getValue(){return this.obj[this.propertyName]}setValue(gi){this.obj[this.propertyName]=gi}getterValue(){return this.currentValue}setterValue(gi){let hi=this.currentValue;hi!==gi&&(!this.queued&&(this.oldValue=hi,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=gi)}call(){let gi=this.oldValue,hi=this.currentValue;this.queued=!1,this.callSubscribers(hi,gi)}subscribe(gi,hi){this.observing||this.convertProperty(),this.addSubscriber(gi,hi)}unsubscribe(gi,hi){this.removeSubscriber(gi,hi)}convertProperty(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||_r.warn(`Cannot observe property '${this.propertyName}' of object`,this.obj)}})||Ge),Ar=class{constructor(gi,hi,fi){this.element=gi,this.propertyName=hi,this.attributeName=fi}getValue(){return this.element.getAttributeNS('http://www.w3.org/1999/xlink',this.attributeName)}setValue(gi){return this.element.setAttributeNS('http://www.w3.org/1999/xlink',this.attributeName,gi)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "${this.propertyName}" property is not supported.`)}};const Mr={getValue:(pi,gi)=>pi.getAttribute(gi),setValue:(pi,gi,hi)=>gi.setAttribute(hi,pi)};let Pr=class{constructor(gi,hi){this.element=gi,this.propertyName=hi}getValue(){return this.element.getAttribute(this.propertyName)}setValue(gi){return this.element.setAttribute(this.propertyName,gi)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "${this.propertyName}" property is not supported.`)}},Ir=class{constructor(gi,hi){this.element=gi,this.propertyName=hi,this.styles=null,this.version=0}getValue(){return this.element.style.cssText}_setProperty(gi,hi){let fi='';null!==hi&&hi!==void 0&&'function'==typeof hi.indexOf&&-1!==hi.indexOf('!important')&&(fi='important',hi=hi.replace('!important','')),this.element.style.setProperty(gi,hi,fi)}setValue(gi){let hi=this.styles||{},vi=this.version,fi;if(null!==gi&&void 0!==gi)if(gi instanceof Object){let yi;for(fi in gi)gi.hasOwnProperty(fi)&&(yi=gi[fi],fi=fi.replace(/([A-Z])/g,(xi)=>'-'+xi.toLowerCase()),hi[fi]=vi,this._setProperty(fi,yi))}else if(gi.length)for(let yi=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g,xi;null!==(xi=yi.exec(gi));)(fi=xi[1],!!fi)&&(hi[fi]=vi,this._setProperty(fi,xi[2]));if(this.styles=hi,this.version+=1,0!==vi)for(fi in vi-=1,hi)hi.hasOwnProperty(fi)&&hi[fi]===vi&&this.element.style.removeProperty(fi)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "${this.propertyName}" property is not supported.`)}},Er=(Ye=W(),Ye(Xe=class{constructor(gi,hi,fi){this.element=gi,this.propertyName=hi,this.handler=fi,'files'===hi&&(this.setValue=()=>{})}getValue(){return this.element[this.propertyName]}setValue(gi){gi=gi===void 0||null===gi?'':gi,this.element[this.propertyName]!==gi&&(this.element[this.propertyName]=gi,this.notify())}notify(){let gi=this.oldValue,hi=this.getValue();this.callSubscribers(hi,gi),this.oldValue=hi}subscribe(gi,hi){this.hasSubscribers()||(this.oldValue=this.getValue(),this.disposeHandler=this.handler.subscribe(this.element,this.notify.bind(this))),this.addSubscriber(gi,hi)}unsubscribe(gi,hi){this.removeSubscriber(gi,hi)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}})||Xe);const Or='CheckedObserver:array',Rr='CheckedObserver:value';let Lr=(Je=W(),Je(Ze=class{constructor(gi,hi,fi){this.element=gi,this.handler=hi,this.observerLocator=fi}getValue(){return this.value}setValue(gi){this.initialSync&&this.value===gi||(this.arrayObserver&&(this.arrayObserver.unsubscribe(Or,this),this.arrayObserver=null),'checkbox'===this.element.type&&Array.isArray(gi)&&(this.arrayObserver=this.observerLocator.getArrayObserver(gi),this.arrayObserver.subscribe(Or,this)),this.oldValue=this.value,this.value=gi,this.synchronizeElement(),this.notify(),!this.initialSync&&(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))}call(){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe(Rr,this))}synchronizeElement(){let gi=this.value,hi=this.element,fi=hi.hasOwnProperty('model')?hi.model:hi.value,vi='radio'===hi.type,yi=hi.matcher||((xi,wi)=>xi===wi);hi.checked=vi&&!!yi(gi,fi)||!vi&&!0===gi||!vi&&Array.isArray(gi)&&-1!==gi.findIndex((xi)=>!!yi(xi,fi))}synchronizeValue(){let gi=this.value,hi=this.element,fi=hi.hasOwnProperty('model')?hi.model:hi.value,vi,yi=hi.matcher||((xi,wi)=>xi===wi);if('checkbox'===hi.type){if(Array.isArray(gi))return vi=gi.findIndex((xi)=>!!yi(xi,fi)),void(hi.checked&&-1===vi?gi.push(fi):!hi.checked&&-1!==vi&&gi.splice(vi,1));gi=hi.checked}else if(hi.checked)gi=fi;else return;this.oldValue=this.value,this.value=gi,this.notify()}notify(){let gi=this.oldValue,hi=this.value;hi===gi||this.callSubscribers(hi,gi)}subscribe(gi,hi){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(gi,hi)}unsubscribe(gi,hi){this.removeSubscriber(gi,hi)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}unbind(){this.arrayObserver&&(this.arrayObserver.unsubscribe(Or,this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe(Rr,this)}})||Ze);const Tr='SelectValueObserver:array';let Vr=(et=W(),et(tt=class{constructor(gi,hi,fi){this.element=gi,this.handler=hi,this.observerLocator=fi}getValue(){return this.value}setValue(gi){if(null!==gi&&gi!==void 0&&this.element.multiple&&!Array.isArray(gi))throw new Error('Only null or Array instances can be bound to a multi-select.');this.value===gi||(this.arrayObserver&&(this.arrayObserver.unsubscribe(Tr,this),this.arrayObserver=null),Array.isArray(gi)&&(this.arrayObserver=this.observerLocator.getArrayObserver(gi),this.arrayObserver.subscribe(Tr,this)),this.oldValue=this.value,this.value=gi,this.synchronizeOptions(),this.notify(),!this.initialSync&&(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))}call(){this.synchronizeOptions()}synchronizeOptions(){let gi=this.value,hi;Array.isArray(gi)&&(hi=!0);let fi=this.element.options,vi=fi.length,yi=this.element.matcher||((xi,wi)=>xi===wi);for(;vi--;){let xi=fi.item(vi),wi=xi.hasOwnProperty('model')?xi.model:xi.value;if(hi){xi.selected=-1!==gi.findIndex((ki)=>!!yi(wi,ki));continue}xi.selected=!!yi(wi,gi)}}synchronizeValue(){let gi=this.element.options,hi=0,fi=[];for(let vi=0,yi=gi.length,xi;vi<yi;vi++)(xi=gi.item(vi),!!xi.selected)&&(fi.push(xi.hasOwnProperty('model')?xi.model:xi.value),hi++);if(!this.element.multiple)fi=0==hi?null:fi[0];else if(Array.isArray(this.value)){let vi=this.element.matcher||((xi,wi)=>xi===wi),yi=0;for(;yi<this.value.length;){let xi=this.value[yi];-1===fi.findIndex((wi)=>vi(xi,wi))?this.value.splice(yi,1):yi++}for(yi=0;yi<fi.length;){let xi=fi[yi];-1===this.value.findIndex((wi)=>vi(xi,wi))&&this.value.push(xi),yi++}return}fi!==this.value&&(this.oldValue=this.value,this.value=fi,this.notify())}notify(){let gi=this.oldValue,hi=this.value;this.callSubscribers(hi,gi)}subscribe(gi,hi){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(gi,hi)}unsubscribe(gi,hi){this.removeSubscriber(gi,hi)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}bind(){this.domObserver=Te.c.createMutationObserver(()=>{this.synchronizeOptions(),this.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})}unbind(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe(Tr,this),this.arrayObserver=null)}})||tt),jr=class{constructor(gi){this.element=gi,this.doNotCache=!0,this.value='',this.version=0}getValue(){return this.value}setValue(gi){let hi=this.nameIndex||{},fi=this.version,vi,yi;if(null!==gi&&void 0!==gi&&gi.length){vi=gi.split(/\s+/);for(let xi=0,wi=vi.length;xi<wi;xi++)(yi=vi[xi],''!==yi)&&(hi[yi]=fi,this.element.classList.add(yi))}if(this.value=gi,this.nameIndex=hi,this.version+=1,0!==fi)for(yi in fi-=1,hi)hi.hasOwnProperty(yi)&&hi[yi]===fi&&this.element.classList.remove(yi)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "class" property is not supported.`)}},qr=class extends Ft{constructor(gi,hi){super(),this.name=gi,this.dependencies=hi,this.isAssignable=!0}evaluate(gi){return gi.bindingContext[this.name]}assign(gi,hi){gi.bindingContext[this.name]=hi}accept(){throw new Error('not implemented')}connect(gi,hi){let fi=this.dependencies,vi=fi.length;for(;vi--;)fi[vi].connect(gi,hi)}},Fr,Br,zr,Dr;const Qr=Dr||class{isStandardSvgAttribute(){return!1}};h.o=Qr;let Kr=(rt=nt=class{constructor(gi,hi,fi,vi,yi){this.taskQueue=gi,this.eventManager=hi,this.dirtyChecker=fi,this.svgAnalyzer=vi,this.parser=yi,this.adapters=[],this.logger=Le.getLogger('observer-locator')}getObserver(gi,hi){let fi=gi.__observers__,vi;return fi&&hi in fi?fi[hi]:(vi=this.createPropertyObserver(gi,hi),vi.doNotCache||(void 0===fi&&(fi=this.getOrCreateObserversLookup(gi)),fi[hi]=vi),vi)}getOrCreateObserversLookup(gi){return gi.__observers__||this.createObserversLookup(gi)}createObserversLookup(gi){let hi={};return Reflect.defineProperty(gi,'__observers__',{enumerable:!1,configurable:!1,writable:!1,value:hi})||this.logger.warn('Cannot add observers to object',gi),hi}addAdapter(gi){this.adapters.push(gi)}getAdapterObserver(gi,hi,fi){for(let vi=0,yi=this.adapters.length;vi<yi;vi++){let xi=this.adapters[vi],wi=xi.getObserver(gi,hi,fi);if(wi)return wi}return null}createPropertyObserver(gi,hi){let fi,vi,yi;if(!(gi instanceof Object))return new Sr(gi,hi);if(gi instanceof Te.c.Element){if('class'===hi)return new jr(gi);if('style'===hi||'css'===hi)return new Ir(gi,hi);if(vi=this.eventManager.getElementHandler(gi,hi),'value'===hi&&'select'===gi.tagName.toLowerCase())return new Vr(gi,vi,this);if('checked'===hi&&'input'===gi.tagName.toLowerCase())return new Lr(gi,vi,this);if(vi)return new Er(gi,hi,vi);if(yi=/^xlink:(.+)$/.exec(hi),yi)return new Ar(gi,hi,yi[1]);if('role'===hi&&(gi instanceof Te.c.Element||gi instanceof Te.c.SVGElement)||/^\w+:|^data-|^aria-/.test(hi)||gi instanceof Te.c.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(gi.nodeName,hi))return new Pr(gi,hi)}if(fi=Object.getPropertyDescriptor(gi,hi),Se(fi))return Me(gi,hi,fi,this);if(fi){const xi=fi.get||fi.set;if(xi){if(xi.getObserver)return xi.getObserver(gi);let wi=this.getAdapterObserver(gi,hi,fi);return wi?wi:new kr(this.dirtyChecker,gi,hi)}}return gi instanceof Array?'length'===hi?this.getArrayObserver(gi).getLengthObserver():new kr(this.dirtyChecker,gi,hi):gi instanceof Map?'size'===hi?this.getMapObserver(gi).getLengthObserver():new kr(this.dirtyChecker,gi,hi):gi instanceof Set?'size'===hi?this.getSetObserver(gi).getLengthObserver():new kr(this.dirtyChecker,gi,hi):new Nr(this.taskQueue,gi,hi)}getAccessor(gi,hi){if(gi instanceof Te.c.Element){if('class'===hi||'style'===hi||'css'===hi||'value'===hi&&('input'===gi.tagName.toLowerCase()||'select'===gi.tagName.toLowerCase())||'checked'===hi&&'input'===gi.tagName.toLowerCase()||'model'===hi&&'input'===gi.tagName.toLowerCase()||/^xlink:.+$/.exec(hi))return this.getObserver(gi,hi);if(/^\w+:|^data-|^aria-/.test(hi)||gi instanceof Te.c.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(gi.nodeName,hi))return Mr}return Cr}getArrayObserver(gi){return ie(this.taskQueue,gi)}getMapObserver(gi){return ye(this.taskQueue,gi)}getSetObserver(gi){return Oe(this.taskQueue,gi)}},nt.inject=[Ve.a,xr,class{constructor(){this.tracked=[],this.checkDelay=120}addProperty(gi){let hi=this.tracked;hi.push(gi),1===hi.length&&this.scheduleDirtyCheck()}removeProperty(gi){let hi=this.tracked;hi.splice(hi.indexOf(gi),1)}scheduleDirtyCheck(){setTimeout(()=>this.check(),this.checkDelay)}check(){let gi=this.tracked,hi=gi.length;for(;hi--;){let fi=gi[hi];fi.isDirty()&&fi.call()}gi.length&&this.scheduleDirtyCheck()}},Qr,pr],rt),Yr=class{constructor(gi,hi,fi,vi,yi,xi){this.observerLocator=gi,this.targetProperty=hi,this.sourceExpression=fi,this.mode=vi,this.lookupFunctions=yi,this.attribute=xi,this.discrete=!1}createBinding(gi){return new Jr(this.observerLocator,this.sourceExpression,gi,this.targetProperty,this.mode,this.lookupFunctions)}};const Xr='Binding:target';let Jr=(at=V(),at(ot=class{constructor(gi,hi,fi,vi,yi,xi){this.observerLocator=gi,this.sourceExpression=hi,this.target=fi,this.targetProperty=vi,this.mode=yi,this.lookupFunctions=xi}updateTarget(gi){this.targetObserver.setValue(gi,this.target,this.targetProperty)}updateSource(gi){this.sourceExpression.assign(this.source,gi,this.lookupFunctions)}call(gi,hi,fi){if(this.isBound){if(gi===ut)return fi=this.targetObserver.getValue(this.target,this.targetProperty),hi=this.sourceExpression.evaluate(this.source,this.lookupFunctions),hi!==fi&&this.updateTarget(hi),void(this.mode!==ln.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if(gi===Xr)return void(hi!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(hi));throw new Error(`Unexpected call context ${gi}`)}}bind(gi){if(this.isBound){if(this.source===gi)return;this.unbind()}this.isBound=!0,this.source=gi,this.sourceExpression.bind&&this.sourceExpression.bind(this,gi,this.lookupFunctions);let hi=this.mode;if(!this.targetObserver){let vi=hi===ln.twoWay?'getObserver':'getAccessor';this.targetObserver=this.observerLocator[vi](this.target,this.targetProperty)}'bind'in this.targetObserver&&this.targetObserver.bind();let fi=this.sourceExpression.evaluate(gi,this.lookupFunctions);this.updateTarget(fi),hi===ln.oneWay?F(this):hi===ln.twoWay&&(this.sourceExpression.connect(this,gi),this.targetObserver.subscribe(Xr,this))}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,'unbind'in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe(Xr,this),this.unobserve(!0))}connect(gi){if(this.isBound){if(gi){let hi=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(hi)}this.sourceExpression.connect(this,this.source)}}})||ot),Zr=class{constructor(gi,hi,fi,vi){this.observerLocator=gi,this.targetProperty=hi,this.sourceExpression=fi,this.lookupFunctions=vi}createBinding(gi){return new ei(this.observerLocator,this.sourceExpression,gi,this.targetProperty,this.lookupFunctions)}},ei=class{constructor(gi,hi,fi,vi,yi){this.sourceExpression=hi,this.target=fi,this.targetProperty=gi.getObserver(fi,vi),this.lookupFunctions=yi}callSource(gi){let hi=this.source.overrideContext;Object.assign(hi,gi),hi.$event=gi;let vi=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);for(let yi in delete hi.$event,gi)delete hi[yi];return vi}bind(gi){if(this.isBound){if(this.source===gi)return;this.unbind()}this.isBound=!0,this.source=gi,this.sourceExpression.bind&&this.sourceExpression.bind(this,gi,this.lookupFunctions),this.targetProperty.setValue((hi)=>this.callSource(hi))}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))}},ti=class pi{constructor(gi){this.name=gi}static convention(gi){if(gi.endsWith('ValueConverter'))return new pi(w(gi.substring(0,gi.length-14)))}initialize(gi,hi){this.instance=gi.get(hi)}register(gi,hi){gi.registerValueConverter(hi||this.name,this.instance)}load(){}},ni=class pi{constructor(gi){this.name=gi}static convention(gi){if(gi.endsWith('BindingBehavior'))return new pi(w(gi.substring(0,gi.length-15)))}initialize(gi,hi){this.instance=gi.get(hi)}register(gi,hi){gi.registerBindingBehavior(hi||this.name,this.instance)}load(){}},ri=class{constructor(gi,hi,fi,vi,yi,xi){this.eventManager=gi,this.targetEvent=hi,this.sourceExpression=fi,this.delegationStrategy=vi,this.discrete=!0,this.preventDefault=yi,this.lookupFunctions=xi}createBinding(gi){return new ai(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,gi,this.preventDefault,this.lookupFunctions)}},ai=class{constructor(gi,hi,fi,vi,yi,xi,wi){this.eventManager=gi,this.targetEvent=hi,this.delegationStrategy=fi,this.sourceExpression=vi,this.target=yi,this.preventDefault=xi,this.lookupFunctions=wi}callSource(gi){let hi=this.source.overrideContext;hi.$event=gi;let vi=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);return delete hi.$event,!0!==vi&&this.preventDefault&&gi.preventDefault(),vi}bind(gi){if(this.isBound){if(this.source===gi)return;this.unbind()}this.isBound=!0,this.source=gi,this.sourceExpression.bind&&this.sourceExpression.bind(this,gi,this.lookupFunctions),this._disposeListener=this.eventManager.addEventListener(this.target,this.targetEvent,(hi)=>this.callSource(hi),this.delegationStrategy)}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._disposeListener(),this._disposeListener=null)}},oi=class pi{constructor(gi,hi,fi){this.sourceExpression=gi,this.apiName=hi,this.lookupFunctions=fi,this.discrete=!0}createBinding(gi){return new si(this.sourceExpression,pi.locateAPI(gi,this.apiName),this.lookupFunctions)}static locateAPI(gi,hi){switch(hi){case'element':return gi;case'controller':return Ee(gi).controller;case'view-model':return Ee(gi).controller.viewModel;case'view':return Ee(gi).controller.view;default:let fi=Ee(gi)[hi];if(fi===void 0)throw new Error(`Attempted to reference "${hi}", but it was not found amongst the target's API.`);return fi.viewModel;}}},si=class{constructor(gi,hi,fi){this.sourceExpression=gi,this.target=hi,this.lookupFunctions=fi}bind(gi){if(this.isBound){if(this.source===gi)return;this.unbind()}this.isBound=!0,this.source=gi,this.sourceExpression.bind&&this.sourceExpression.bind(this,gi,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)}};const li={bindingBehaviors:()=>null,valueConverters:()=>null};let di=(lt=st=class{constructor(gi,hi){this.observerLocator=gi,this.parser=hi}createBindingExpression(gi,hi,fi=ln.oneWay,vi=li){return new Yr(this.observerLocator,gi,this.parser.parse(hi),fi,vi)}propertyObserver(gi,hi){return{subscribe:(fi)=>{let vi=this.observerLocator.getObserver(gi,hi);return vi.subscribe(fi),{dispose:()=>vi.unsubscribe(fi)}}}}collectionObserver(gi){return{subscribe:(hi)=>{let fi;if(gi instanceof Array)fi=this.observerLocator.getArrayObserver(gi);else if(gi instanceof Map)fi=this.observerLocator.getMapObserver(gi);else if(gi instanceof Set)fi=this.observerLocator.getSetObserver(gi);else throw new Error('collection must be an instance of Array, Map or Set.');return fi.subscribe(hi),{dispose:()=>fi.unsubscribe(hi)}}}}expressionObserver(gi,hi){let fi={bindingContext:gi,overrideContext:N(gi)};return new _t(fi,this.parser.parse(hi),this.observerLocator,li)}parseExpression(gi){return this.parser.parse(gi)}registerAdapter(gi){this.observerLocator.addAdapter(gi)}},st.inject=[Kr,pr],lt),ui=Set.prototype,ci=class pi extends Pt{constructor(gi,hi){super(gi,hi)}static for(gi,hi){return'__set_observer__'in hi||Reflect.defineProperty(hi,'__set_observer__',{value:pi.create(gi,hi),enumerable:!1,configurable:!1}),hi.__set_observer__}static create(gi,hi){let fi=new pi(gi,hi),vi=ui;return(vi.add!==hi.add||vi.delete!==hi.delete||vi.clear!==hi.clear)&&(vi={add:hi.add,delete:hi.delete,clear:hi.clear}),hi.add=function(){let xi=hi.size,wi=vi.add.apply(hi,arguments),ki=hi.size===xi;return ki||fi.addChangeRecord({type:'add',object:hi,value:Array.from(hi).pop()}),wi},hi.delete=function(){let yi=hi.has(arguments[0]),xi=vi.delete.apply(hi,arguments);return yi&&fi.addChangeRecord({type:'delete',object:hi,value:arguments[0]}),xi},hi.clear=function(){let yi=vi.clear.apply(hi,arguments);return fi.addChangeRecord({type:'clear',object:hi}),yi},fi}}},30:function(u,h,y){'use strict';y(0);if(!1,!1,(!_Stringprototype.endsWith||function(){try{return!'ab'.endsWith('a',1)}catch(N){return!0}}())&&(_Stringprototype.endsWith=function(N,A){let M=this.toString();('number'!=typeof A||!isFinite(A)||_Mathfloor(A)!==A||A>M.length)&&(A=M.length),A-=N.length;let I=M.indexOf(N,A);return-1!==I&&I===A}),(!_Stringprototype.startsWith||function(){try{return!'ab'.startsWith('b',1)}catch(N){return!0}}())&&(_Stringprototype.startsWith=function(N,A){return A=A||0,this.substr(A,N.length)===N}),!1,!1,!1,!1,'undefined'==typeof FEATURE_NO_ESNEXT){const N=Object.freeze({}),A='__metadata__';'function'!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(M,I,R){if(I.hasOwnProperty(A))return(I[A][R]||N)[M]}),'function'!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(M,I,R,L){let T=R.hasOwnProperty(A)?R[A]:R[A]={},V=T[L]||(T[L]={});V[M]=I}),'function'!=typeof Reflect.metadata&&(Reflect.metadata=function(M,I){return function(R,L){Reflect.defineMetadata(M,I,R,L)}})}},31:function(u,h,y){'use strict';function w(U,W,Q,K){let $=U;'/'===U.charAt(0)&&($=U.substr(1));let Y=[],X=$.split('/');for(let J=0,Z=X.length;J<Z;++J){let ee=X[J],te=ee.match(/^:([^?]+)(\?)?$/);if(te){let[,ne,re]=te;if(-1!==ne.indexOf('='))throw new Error(`Parameter ${ne} in route ${U} has a default value, which is not supported.`);Y.push(new F(ne,!!re)),W.push(ne),Q.dynamics++;continue}te=ee.match(/^\*(.+)$/),te?(Y.push(new B(te[1])),W.push(te[1]),Q.stars++):''===ee?Y.push(new z):(Y.push(new q(ee,K)),Q.statics++)}return Y}function N(U){return U.sort((W,Q)=>{if(W.types.stars!==Q.types.stars)return W.types.stars-Q.types.stars;if(W.types.stars){if(W.types.statics!==Q.types.statics)return Q.types.statics-W.types.statics;if(W.types.dynamics!==Q.types.dynamics)return Q.types.dynamics-W.types.dynamics}return W.types.dynamics===Q.types.dynamics?W.types.statics===Q.types.statics?0:Q.types.statics-W.types.statics:W.types.dynamics-Q.types.dynamics})}function A(U,W){let Q=[];for(let $=0,Y=U.length,X;$<Y;$++)X=U[$],Q.push(...X.match(W));for(let K=Q.filter(($)=>$.epsilon),$;0<K.length;)$=[],K.forEach((Y)=>{Q.push(...Y.epsilon),$.push(...Y.epsilon)}),K=$.filter((Y)=>Y.epsilon);return Q}function M(U,W,Q){let K=U.handlers,$=U.regex,Y=W.match($),X=1,J=new H(Q);for(let Z=0,ee=K.length;Z<ee;Z++){let te=K[Z],ne=te.names,re={};for(let ie=0,ae=ne.length;ie<ae;ie++)re[ne[ie]]=Y[X++];J.push({handler:te.handler,params:re,isDynamic:!!ne.length})}return J}function I(U,W){let Q=U.put({validChars:'/'});return W.eachChar((K)=>{Q=Q.put(K)}),W.optional&&(U.epsilon=U.epsilon||[],U.epsilon.push(Q)),Q}var R=y(6);y.d(h,'a',function(){return D});let L=class U{constructor(W){this.charSpec=W,this.nextStates=[]}get(W){for(let Q of this.nextStates){let K=Q.charSpec.validChars===W.validChars&&Q.charSpec.invalidChars===W.invalidChars;if(K)return Q}}put(W){let Q=this.get(W);return Q?Q:(Q=new U(W),this.nextStates.push(Q),W.repeat&&Q.nextStates.push(Q),Q)}match(W){let Q=this.nextStates,K=[];for(let $=0,Y=Q.length;$<Y;$++){let X=Q[$],J=X.charSpec;J.validChars===void 0?J.invalidChars!==void 0&&-1===J.invalidChars.indexOf(W)&&K.push(X):-1!==J.validChars.indexOf(W)&&K.push(X)}return K}};const V=new RegExp('(\\'+['/','.','*','+','?','|','(',')','[',']','{','}','\\'].join('|\\')+')','g');let q=class{constructor(W,Q){this.string=W,this.caseSensitive=Q}eachChar(W){let Q=this.string;for(let K=0,$=Q.length,Y;K<$;++K)Y=Q[K],W({validChars:this.caseSensitive?Y:Y.toUpperCase()+Y.toLowerCase()})}regex(){return this.string.replace(V,'\\$1')}generate(){return this.string}},F=class{constructor(W,Q){this.name=W,this.optional=Q}eachChar(W){W({invalidChars:'/',repeat:!0})}regex(){return this.optional?'([^/]+)?':'([^/]+)'}generate(W,Q){return Q[this.name]=!0,W[this.name]}},B=class{constructor(W){this.name=W}eachChar(W){W({invalidChars:'',repeat:!0})}regex(){return'(.+)'}generate(W,Q){return Q[this.name]=!0,W[this.name]}},z=class{eachChar(){}regex(){return''}generate(){return''}},D=class{constructor(){this.rootState=new L,this.names={}}add(W){if(Array.isArray(W))return W.forEach((ne)=>this.add(ne)),void 0;let Q=this.rootState,K='^',$={statics:0,dynamics:0,stars:0},Y=[],X=W.handler.name,J=!0,Z=!0,ee=w(W.path,Y,$,W.caseSensitive);for(let ne=0,re=ee.length,ie;ne<re;ne++)(ie=ee[ne],!(ie instanceof z))&&(J=!1,Z=Z&&ie.optional,Q=I(Q,ie),K+=ie.optional?'/?':'/',K+=ie.regex());if(Z)if(J)Q=Q.put({validChars:'/'}),K+='/';else{let ne=this.rootState.put({validChars:'/'});Q.epsilon=[ne],Q=ne}let te=[{handler:W.handler,names:Y}];if(X){let ne=Array.isArray(X)?X:[X];for(let re=0;re<ne.length;re++)this.names[ne[re]]={segments:ee,handlers:te}}return Q.handlers=te,Q.regex=new RegExp(K+'$',W.caseSensitive?'':'i'),Q.types=$,Q}handlersFor(W){let Q=this.names[W];if(!Q)throw new Error(`There is no route named ${W}`);return[...Q.handlers]}hasRoute(W){return!!this.names[W]}generate(W,Q){let K=this.names[W];if(!K)throw new Error(`There is no route named ${W}`);let $=K.handlers[0].handler;if($.generationUsesHref)return $.href;let Y=Object.assign({},Q),X=K.segments,J={},Z='';for(let te=0,ne=X.length,re;te<ne;te++){if(re=X[te],re instanceof z)continue;let ie=re.generate(Y,J);if(null!==ie&&void 0!==ie)Z+='/',Z+=ie;else if(!re.optional)throw new Error(`A value is required for route parameter '${re.name}' in route '${W}'.`)}for(let te in'/'!==Z.charAt(0)&&(Z='/'+Z),J)delete Y[te];let ee=y.i(R.c)(Y);return Z+=ee?`?${ee}`:'',Z}recognize(W){let Q=[this.rootState],K={},$=!1,Y=W,X=Y.indexOf('?');if(-1!==X){let te=Y.substr(X+1,Y.length);Y=Y.substr(0,X),K=y.i(R.d)(te)}Y=decodeURI(Y),'/'!==Y.charAt(0)&&(Y='/'+Y);let J=Y.length;1<J&&'/'===Y.charAt(J-1)&&(Y=Y.substr(0,J-1),$=!0);for(let te=0,ne=Y.length;te<ne&&(Q=A(Q,Y.charAt(te)),!!Q.length);te++);let Z=[];for(let te=0,ne=Q.length;te<ne;te++)Q[te].handlers&&Z.push(Q[te]);Q=N(Z);let ee=Z[0];return ee&&ee.handlers?($&&'(.+)$'===ee.regex.source.slice(-5)&&(Y+='/'),M(ee,Y,K)):void 0}},H=class{constructor(W){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=W||{}}}},32:function(u,h,y){'use strict';function w(F,B){if('string'!=typeof B)throw new Error(`Failed loading required CSS file: ${F}`);return B.replace(T,(z,D)=>{let H=D.charAt(0);return('\''===H||'"'===H)&&(D=D.substr(1,D.length-2)),'url(\''+y.i(R.a)(D,F)+'\')'})}var A=y(1),M=y(8),I=y(2),R=y(6),L=y(0);h.a=function(F){var B,z;let D=(B=y.i(A.p)(new V(F)),B(z=class extends q{})||z);return D};let T=/url\((?!['"]data)([^)]+)\)/gi,V=class{constructor(B){this.address=B,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}initialize(B,z){this._scoped=new z(this)}register(B,z){'scoped'===z?B.registerViewEngineHooks(this._scoped):this._global=!0}load(B){return B.get(M.a).loadText(this.address).catch(()=>null).then((z)=>{z=w(this.address,z),this._scoped.css=z,this._global&&(this._alreadyGloballyInjected=!0,L.c.injectStyles(z))})}},q=class{constructor(B){this.owner=B,this.css=null}beforeCompile(B,z,D){if(D.targetShadowDOM)L.c.injectStyles(this.css,B,!0);else if(L.d.scopedCSS){let H=L.c.injectStyles(this.css,B,!0);H.setAttribute('scoped','scoped')}else this.owner._alreadyGloballyInjected||(L.c.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)}}},33:function(u,h,y){'use strict';var N=y(1);h.a=function(A,M,I){var R,L,T;let V=(R=y.i(N.g)(A),L=y.i(N.q)(M),R(T=L(T=class{bind(F){this.$parent=F}})||T)||T);for(let q=0,F=I.length;q<F;++q)y.i(N.j)(I[q])(V);return V}},34:function(u,h,y){'use strict';function w(I){return /([^\/^\?]+)\.html/i.exec(I)[1].toLowerCase()}var A=y(1),M=y(33);h.a=function(I){let R=I.container.get(A.f),L=I.aurelia.loader;R.addResourcePlugin('.html',{fetch:function(T){return L.loadTemplate(T).then((V)=>{let q=V.template.getAttribute('bindable'),F=w(T);return q?(q=q.split(',').map((B)=>B.trim()),V.template.removeAttribute('bindable')):q=[],{[F]:y.i(M.a)(F,T,q)}})}})}},35:function(u,h,y){'use strict';function w(F){var B,z,D;let H=/([^\/^\?]+)\.html/i.exec(F)[1],U=(B=y.i(A.g)(H),z=y.i(A.q)(F),B(D=z(D=class{bind(Q){this.$parent=Q}})||D)||D);return U}var N=y(2),A=y(1),M=y(10),I=y(6),R=y(4),L=y('aurelia-templating-router/router-view');y.d(h,'a',function(){return q});var T,V;let q=(T=y.i(N.b)(A.h),T(V=class extends M.a{constructor(B){super(),this.compositionEngine=B}loadRoute(B,z){let D=B.container.createChild(),H=/\.html/.test(z.moduleId)?w(z.moduleId):y.i(I.a)(z.moduleId,R.c.get(B.container.viewModel.constructor).moduleId),U={viewModel:H,childContainer:D,view:z.view||z.viewStrategy,router:B};return D.registerSingleton(L.RouterViewLocator),D.getChildRouter=function(){let W;return D.registerHandler(M.b,()=>{return W||(W=B.createChild(D))}),D.get(M.b)},this.compositionEngine.ensureViewModel(U)}})||V)},36:function(u,h,y){h=u.exports=y(12)(),h.push([u.i,'',''])},37:function(u,h,y){h=u.exports=y(12)(),h.push([u.i,'.ray {\n  font-size: 3em;\n  color: orange; }\n',''])},38:function(u,h,y){h=u.exports=y(12)(),h.push([u.i,'.foo {\n  background-color: paleturquoise; }\n',''])},39:function(u,h,y){(function(w,N){(function(A,M){'use strict';function I(Y){'function'!=typeof Y&&(Y=new Function(''+Y));for(var X=Array(arguments.length-1),J=0;J<X.length;J++)X[J]=arguments[J+1];var Z={callback:Y,args:X};return U[H]=Z,K(H),H++}function R(Y){delete U[Y]}function L(Y){var X=Y.callback,J=Y.args;switch(J.length){case 0:X();break;case 1:X(J[0]);break;case 2:X(J[0],J[1]);break;case 3:X(J[0],J[1],J[2]);break;default:X.apply(M,J);}}function T(Y){if(W)setTimeout(T,0,Y);else{var X=U[Y];if(X){W=!0;try{L(X)}finally{R(Y),W=!1}}}}function V(){K=function(Y){N.nextTick(function(){T(Y)})}}function q(){if(A.postMessage&&!A.importScripts){var Y=!0,X=A.onmessage;return A.onmessage=function(){Y=!1},A.postMessage('','*'),A.onmessage=X,Y}}function F(){var Y='setImmediate$'+Math.random()+'$',X=function(J){J.source===A&&'string'==typeof J.data&&0===J.data.indexOf(Y)&&T(+J.data.slice(Y.length))};A.addEventListener?A.addEventListener('message',X,!1):A.attachEvent('onmessage',X),K=function(J){A.postMessage(Y+J,'*')}}function B(){var Y=new MessageChannel;Y.port1.onmessage=function(X){var J=X.data;T(J)},K=function(X){Y.port2.postMessage(X)}}function z(){var Y=Q.documentElement;K=function(X){var J=Q.createElement('script');J.onreadystatechange=function(){T(X),J.onreadystatechange=null,Y.removeChild(J),J=null},Y.appendChild(J)}}function D(){K=function(Y){setTimeout(T,0,Y)}}if(!A.setImmediate){var H=1,U={},W=!1,Q=A.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(A),K;$=$&&$.setTimeout?$:A,'[object process]'==={}.toString.call(A.process)?V():q()?F():A.MessageChannel?B():Q&&'onreadystatechange'in Q.createElement('script')?z():D(),$.setImmediate=I,$.clearImmediate=R}})('undefined'==typeof self?'undefined'==typeof w?this:w:self)}).call(h,y(26),y(25))},4:function(u,h,y){'use strict';function w(W){return W&&('function'==typeof W||'object'==typeof W)}function I(){return!0}function R(){}function L(W){return void 0===W?W={}:'function'==typeof W&&(W={validate:W}),W.validate||(W.validate=I),W.compose||(W.compose=R),W}function T(W){return function(Q){let K=W(Q);return!0===K}}function V(W,Q){return function(K){let $=Q(K);if(!0!==$)throw new Error($||`${W} was not correctly implemented.`)}}function q(W,Q){Q=L(Q);let K=function($){let Y='function'==typeof $?$.prototype:$;Q.compose(Y),K.assert(Y),Object.defineProperty(Y,'protocol:'+W,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return K.validate=T(Q.validate),K.assert=V(W,Q.validate),K}var F=y(0);y.d(h,'c',function(){return U}),h.d=function(W){const K=Object.keys(W);return function($){let Y=function(X){for(let J='function'==typeof X?X.prototype:X,Z=K.length,ee;Z--;)ee=K[Z],Object.defineProperty(J,ee,{value:W[ee],writable:!0})};return $?Y($):Y}},h.b=q;var B=Object.assign||function(W){for(var Q=1,K;Q<arguments.length;Q++)for(var $ in K=arguments[Q],K)Object.prototype.hasOwnProperty.call(K,$)&&(W[$]=K[$]);return W};const z={resource:'aurelia:resource',paramTypes:'design:paramtypes',propertyType:'design:type',properties:'design:properties',get(W,Q,K){if(w(Q)){let $=z.getOwn(W,Q,K);return void 0===$?z.get(W,Object.getPrototypeOf(Q),K):$}},getOwn(W,Q,K){return w(Q)?Reflect.getOwnMetadata(W,Q,K):void 0},define(W,Q,K,$){Reflect.defineMetadata(W,Q,K,$)},getOrCreateOwn(W,Q,K,$){let Y=z.getOwn(W,K,$);return void 0===Y&&(Y=new Q,Reflect.defineMetadata(W,Y,K,$)),Y}};h.a=z;const D=new Map,H=Object.freeze({moduleId:void 0,moduleMember:void 0});let U=class W{constructor(Q,K){this.moduleId=Q,this.moduleMember=K}static get(Q){let K=D.get(Q);return void 0===K&&F.a.eachModule(($,Y)=>{if('object'==typeof Y)for(let X in Y){let J=Y[X];if(J===Q)return D.set(Q,K=new W($,X)),!0}return Y===Q&&(D.set(Q,K=new W($,'default')),!0)}),K||H}static set(Q,K){D.set(Q,K)}};q.create=function(W,Q){Q=L(Q);let $=function(Y){let X=q(W,Q);return Y?X(Y):X};return $.decorates=function(Y){return!0===Y['protocol:'+W]},$.validate=T(Q.validate),$.assert=V(W,Q.validate),$}},40:function(u,h,y){function w(A,M){this._id=A,this._clearFn=M}var N=Function.prototype.apply;h.setTimeout=function(){return new w(N.call(setTimeout,window,arguments),clearTimeout)},h.setInterval=function(){return new w(N.call(setInterval,window,arguments),clearInterval)},h.clearTimeout=h.clearInterval=function(A){A&&A.close()},w.prototype.unref=w.prototype.ref=function(){},w.prototype.close=function(){this._clearFn.call(window,this._id)},h.enroll=function(A,M){clearTimeout(A._idleTimeoutId),A._idleTimeout=M},h.unenroll=function(A){clearTimeout(A._idleTimeoutId),A._idleTimeout=-1},h._unrefActive=h.active=function(A){clearTimeout(A._idleTimeoutId);var M=A._idleTimeout;0<=M&&(A._idleTimeoutId=setTimeout(function(){A._onTimeout&&A._onTimeout()},M))},y(39),h.setImmediate=setImmediate,h.clearImmediate=clearImmediate},41:function(u){u.exports=function(y){if(!y.webpackPolyfill){var w=Object.create(y);w.children||(w.children=[]),Object.defineProperty(w,'loaded',{enumerable:!0,get:function(){return w.l}}),Object.defineProperty(w,'id',{enumerable:!0,get:function(){return w.i}}),Object.defineProperty(w,'exports',{enumerable:!0}),w.webpackPolyfill=1}return w}},42:function(u,h,y){y(29),y(28),u.exports=y(27)},5:function(u,h,y){'use strict';function w(){return[this,...arguments]}function N(D){const H=V[D];return function(){if(!(this.level<H)){const U=w.apply(this,arguments);for(let W=F.length;W--;)F[W][D](...U)}}}function A(){Object.assign(z.prototype,{debug:N('debug'),info:N('info'),warn:N('warn'),error:N('error')})}Object.defineProperty(h,'__esModule',{value:!0}),h.getLogger=function(D){return q[D]||new z(D)},h.addAppender=function(D){1===F.push(D)&&A()},h.removeAppender=function(D){F=F.filter((H)=>H!==D)},h.setLevel=function(D){for(let H in B=D,q)q[H].setLevel(D)},h.getLevel=function(){return B},y.d(h,'Logger',function(){return z});const V={none:0,error:1,warn:2,info:3,debug:4};h.logLevel=V;let q={},F=[],B=V.none,z=class{constructor(H){let U=q[H];return U?U:void(q[H]=this,this.id=H,this.level=B)}debug(H,...U){}info(H,...U){}warn(H,...U){}error(H,...U){}setLevel(H){this.level=H}}},6:function(u,h){'use strict';function w(F){for(let B=0,z;B<F.length;++B)if(z=F[B],'.'===z)F.splice(B,1),B-=1;else if('..'===z)if(0===B||1===B&&'..'===F[2]||'..'===F[B-1])continue;else 0<B&&(F.splice(B-1,2),B-=2)}function M(F,B,z){let D=[];if(null===B||B===void 0)return D;if(Array.isArray(B)){for(let H=0,U=B.length;H<U;H++)if(z)D.push(`${q(F)}=${V(B[H])}`);else{let W=F+'['+('object'==typeof B[H]&&null!==B[H]?H:'')+']';D=D.concat(M(W,B[H]))}}else if('object'==typeof B&&!z)for(let H in B)D=D.concat(M(F+'['+H+']',B[H]));else D.push(`${q(F)}=${V(B)}`);return D}function R(F,B){return Array.isArray(F)?(F.push(B),F):void 0===F?B:[F,B]}function L(F,B,z){let D=F,H=B.length-1;for(let U=0,W;U<=H;U++)if(W=''===B[U]?D.length:B[U],U<H){let Q=D[W]&&'object'!=typeof D[W]?[D[W]]:D[W];D=D[W]=Q||(isNaN(B[U+1])?{}:[])}else D=D[W]=z}h.a=function(F,B){let z=B&&B.split('/'),D=F.trim().split('/');if('.'===D[0].charAt(0)&&z){let H=z.slice(0,z.length-1);D.unshift(...H)}return w(D),D.join('/')},h.b=function(F,B){if(!F)return B;if(!B)return F;let z=F.match(/^([^/]*?:)\//),D=z&&0<z.length?z[1]:'';F=F.substr(D.length);let H=0===F.indexOf('///')&&'file:'===D?'///':0===F.indexOf('//')?'//':0===F.indexOf('/')?'/':'';let U='/'===B.slice(-1)?'/':'',W=F.split('/'),Q=B.split('/'),K=[];for(let $=0,Y=W.length;$<Y;++$)if('..'===W[$])K.pop();else if('.'===W[$]||''===W[$])continue;else K.push(W[$]);for(let $=0,Y=Q.length;$<Y;++$)if('..'===Q[$])K.pop();else if('.'===Q[$]||''===Q[$])continue;else K.push(Q[$]);return D+H+K.join('/')+U},h.c=function(F,B){let z=[],D=Object.keys(F||{}).sort();for(let H=0,U=D.length,W;H<U;H++)W=D[H],z=z.concat(M(W,F[W],B));return 0===z.length?'':z.join('&')},h.d=function(F){let B={};if(!F||'string'!=typeof F)return B;let z=F;'?'===z.charAt(0)&&(z=z.substr(1));let D=z.replace(/\+/g,' ').split('&');for(let H=0;H<D.length;H++){let U=D[H].split('='),W=decodeURIComponent(U[0]);if(!W)continue;let Q=W.split(']['),K=Q.length-1;if(/\[/.test(Q[0])&&/\]$/.test(Q[K])?(Q[K]=Q[K].replace(/\]$/,''),Q=Q.shift().split('[').concat(Q),K=Q.length-1):K=0,2<=U.length){let $=U[1]?decodeURIComponent(U[1]):'';K?L(B,Q,$):B[W]=R(B[W],$)}else B[W]=!0}return B};let V=encodeURIComponent,q=(F)=>V(F).replace('%24','$')},7:function(u,h,y){'use strict';function A(F,B,z){let D=0===B,H=B===z-1,U=0==B%2;F.$index=B,F.$first=D,F.$last=H,F.$middle=!(D||H),F.$odd=!U,F.$even=U}var V=y(3);h.f=function(F,B){let z=F.length;for(0<B&&--B;B<z;++B)A(F[B].overrideContext,B,z)},h.e=function(F,B,z,D,H){let U={},W=y.i(V.a)(U,F.scope.overrideContext);return'undefined'==typeof H?U[F.local]=B:(U[F.key]=H,U[F.value]=B),A(W,z,D),W},h.h=A,h.a=function(F,B){return F.behaviorInstructions.filter((z)=>z.originalAttrName===B)[0].attributes.items.sourceExpression},h.c=function(F){let B=!1;for(;F instanceof V.i;)F=F.expression;for(;F instanceof V.j;)F=F.expression,B=!0;return B?F:null},h.b=function(F){for(;F instanceof V.i;){if('oneTime'===F.name)return!0;F=F.expression}return!1},h.d=function(F){F.call&&F.mode===q?F.call(V.k):F.updateOneTimeBindings&&F.updateOneTimeBindings()},h.g=function(F,B,z,D){if(!z)return F.indexOf(B);const H=F.length;for(let U=D||0;U<H;U++)if(z(F[U],B))return U;return-1};const q=V.e.oneTime},8:function(u,h,y){'use strict';var w=y(6),N=y(4);y.d(h,'b',function(){return M}),y.d(h,'a',function(){return I});let A=class{constructor(L,T){this.src=L,this.name=T}},M=class{constructor(L){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=L,this.onReady=null,this._template=null,this._factory=null}get template(){return this._template}set template(L){let T=this.address,V,q,F,B;this._template=L,this.templateIsLoaded=!0,V=L.content.querySelectorAll('require'),B=this.dependencies=Array(V.length);for(let z=0,D=V.length;z<D;++z){if(q=V[z],F=q.getAttribute('from'),!F)throw new Error(`<require> element in ${T} has no "from" attribute.`);B[z]=new A(y.i(w.a)(F,T),q.getAttribute('as')),q.parentNode&&q.parentNode.removeChild(q)}}get factory(){return this._factory}set factory(L){this._factory=L,this.factoryIsReady=!0}addDependency(L,T){let V='string'==typeof L?y.i(w.a)(L,this.address):N.c.get(L).moduleId;this.dependencies.push(new A(V,T))}},I=class{constructor(){this.templateRegistry={}}map(){throw new Error('Loaders must implement map(id, source).')}normalizeSync(){throw new Error('Loaders must implement normalizeSync(moduleId, relativeTo).')}normalize(){throw new Error('Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.')}loadModule(){throw new Error('Loaders must implement loadModule(id).')}loadAllModules(){throw new Error('Loader must implement loadAllModules(ids).')}loadTemplate(){throw new Error('Loader must implement loadTemplate(url).')}loadText(){throw new Error('Loader must implement loadText(url).')}applyPluginToUrl(){throw new Error('Loader must implement applyPluginToUrl(url, pluginName).')}addPlugin(){throw new Error('Loader must implement addPlugin(pluginName, implementation).')}getOrCreateTemplateRegistryEntry(L){return this.templateRegistry[L]||(this.templateRegistry[L]=new M(L))}}},9:function(u,h,y){'use strict';(function(w){function N(z){let D=1,H=T.c.createMutationObserver(z),U=T.c.createTextNode('');return H.observe(U,{characterData:!0}),function(){D=-D,U.data=D}}function A(z){return function(){function H(){clearTimeout(U),clearInterval(W),z()}let U=setTimeout(H,0),W=setInterval(H,50)}}function M(z,D,H){H&&D.stack&&'object'==typeof z&&null!==z&&(z.stack=L(z.stack)+D.stack),'onError'in D?D.onError(z):V?w(()=>{throw z}):setTimeout(()=>{throw z},0)}function I(){let z=new Error;if(z.stack)return z.stack;try{throw z}catch(D){return D.stack}}function R(z){return z.replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,'')}function L(z){let D=z.lastIndexOf('flushMicroTaskQueue');return 0>D&&(D=z.lastIndexOf('flushTaskQueue'),0>D)?z:(D=z.lastIndexOf('\n',D),0>D?z:z.substr(0,D))}var T=y(0);y.d(h,'a',function(){return B});let V='function'==typeof w;let B=class{constructor(){this.flushing=!1,this.longStacks=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],this.requestFlushMicroTaskQueue=T.d.mutationObserver?N(()=>this.flushMicroTaskQueue()):A(()=>this.flushMicroTaskQueue()),this.requestFlushTaskQueue=A(()=>this.flushTaskQueue())}queueMicroTask(D){1>this.microTaskQueue.length&&this.requestFlushMicroTaskQueue(),this.longStacks&&(D.stack=this.prepareQueueStack('\nEnqueued in MicroTaskQueue by:\n')),this.microTaskQueue.push(D)}queueTask(D){1>this.taskQueue.length&&this.requestFlushTaskQueue(),this.longStacks&&(D.stack=this.prepareQueueStack('\nEnqueued in TaskQueue by:\n')),this.taskQueue.push(D)}flushTaskQueue(){let D=this.taskQueue,H=0,U;this.taskQueue=[];try{for(this.flushing=!0;H<D.length;)U=D[H],this.longStacks&&(this.stack='string'==typeof U.stack?U.stack:void 0),U.call(),H++}catch(W){M(W,U,this.longStacks)}finally{this.flushing=!1}}flushMicroTaskQueue(){let D=this.microTaskQueue,H=this.microTaskQueueCapacity,U=0,W;try{for(this.flushing=!0;U<D.length;)if(W=D[U],this.longStacks&&(this.stack='string'==typeof W.stack?W.stack:void 0),W.call(),U++,U>H){for(let Q=0,K=D.length-U;Q<K;Q++)D[Q]=D[Q+U];D.length-=U,U=0}}catch(Q){M(Q,W,this.longStacks)}finally{this.flushing=!1}D.length=0}prepareQueueStack(D){let H=D+R(I());return'string'==typeof this.stack&&(H=L(H)+this.stack),H}}}).call(h,y(40).setImmediate)},app:function(u,h){'use strict';Object.defineProperty(h,'__esModule',{value:!0});h.App=class{}},'app.html':function(u){u.exports='<template>\n  <require from="./app.scss"></require>\n  <foo></foo>\n</template>'},'app.scss':function(u,h,y){var w=y(36);'string'==typeof w&&(w=[[u.i,w,'']]);y(13)(w,{});w.locals&&(u.exports=w.locals),!1},'aurelia-event-aggregator':function(u,h,y){'use strict';function w(V,q,F){try{V(q,F)}catch(B){R.error(B)}}function N(V,q){try{V.handle(q)}catch(F){R.error(F)}}function A(V){let q=new T;return V.subscribeOnce=function(F,B){return q.subscribeOnce(F,B)},V.subscribe=function(F,B){return q.subscribe(F,B)},V.publish=function(F,B){q.publish(F,B)},q}var I=y(5);y.d(h,'b',function(){return T}),h.configure=function(V){V.instance(T,A(V.aurelia))};const R=I.getLogger('event-aggregator');let L=class{constructor(q,F){this.messageType=q,this.callback=F}handle(q){q instanceof this.messageType&&this.callback.call(null,q)}},T=class{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(q,F){let B,z;if(!q)throw new Error('Event was invalid.');if('string'!=typeof q)for(B=this.messageHandlers.slice(),z=B.length;z--;)N(B[z],q);else if(B=this.eventLookup[q],B)for(B=B.slice(),z=B.length;z--;)w(B[z],F,q)}subscribe(q,F){let B,z;if(!q)throw new Error('Event channel/type was invalid.');return'string'==typeof q?(B=F,z=this.eventLookup[q]||(this.eventLookup[q]=[])):(B=new L(q,F),z=this.messageHandlers),z.push(B),{dispose(){let D=z.indexOf(B);-1!==D&&z.splice(D,1)}}}subscribeOnce(q,F){let B=this.subscribe(q,(z,D)=>{return B.dispose(),F(z,D)});return B}}},'aurelia-framework':function(u,h,y){'use strict';function w(){F.c.addEventListener('submit',(Y)=>{const X=Y.target,J=X.action;'form'!==X.tagName.toLowerCase()||J||Y.preventDefault()})}function N(Y,X){let J,Z=()=>{return J=X.shift(),J?Promise.resolve(J(Y)).then(Z):Promise.resolve()};return Z()}function A(Y,X,J){function Z(te){return X.loadModule(te).then((ne)=>{return'configure'in ne?Promise.resolve(ne.configure(Y,J.config||{})).then(()=>{Y.resourcesRelativeTo=null,W.debug(`Configured plugin ${J.moduleId}.`)}):void(Y.resourcesRelativeTo=null,W.debug(`Loaded plugin ${J.moduleId}.`))})}W.debug(`Loading plugin ${J.moduleId}.`),Y.resourcesRelativeTo=J.resourcesRelativeTo;let ee=J.moduleId;return 1<J.resourcesRelativeTo.length?X.normalize(J.moduleId,J.resourcesRelativeTo[1]).then((te)=>Z(te)):Z(ee)}function M(Y,X,J){function Z(ie){let ae=ie.moduleId,oe=I(ae);return ee(ae)&&(ae=te(ae)),Y.loader.normalize(ae,ie.relativeTo).then((se)=>{return{name:ie.moduleId,importId:ee(ie.moduleId)?ne(se,oe):se}})}function ee(ie){let ae=I(ie);return!!ae&&''!==ae&&('.js'===ae||'.ts'===ae?!1:!0)}function te(ie){return ie.replace(Q,'')}function ne(ie,ae){return te(ie)+'.'+ae}let re=Y.container.get(q.f);return Promise.all(Object.keys(X).map((ie)=>Z(X[ie]))).then((ie)=>{let ae=[],oe=[];return ie.forEach((se)=>{ae.push(void 0),oe.push(se.importId)}),re.importViewResources(oe,ae,J)})}function I(Y){let X=Y.match(Q);if(X&&0<X.length)return X[0].split('.')[1]}function R(Y){if(Y.processed)throw new Error('This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.')}var L=y(5),T=y(2),V=y(8),q=y(1),F=y(0),B=y(6),z=y(3),D=y(4);y.d(h,'b',function(){return q.q}),y.d(h,'c',function(){return q.g});y(9);y.d(h,'Aurelia',function(){return U});let U=class Y{constructor(X,J,Z){this.loader=X||new F.a.Loader,this.container=J||new T.a().makeGlobal(),this.resources=Z||new q.a,this.use=new K(this),this.logger=L.getLogger('aurelia'),this.hostConfigured=!1,this.host=null,this.use.instance(Y,this),this.use.instance(V.a,this.loader),this.use.instance(q.a,this.resources)}start(){return this._started?this._started:(this.logger.info('Aurelia Starting'),this._started=this.use.apply().then(()=>{if(w(),!this.container.hasResolver(q.b)){let J='You must configure Aurelia with a BindingLanguage implementation.';throw this.logger.error(J),new Error(J)}this.logger.info('Aurelia Started');let X=F.c.createCustomEvent('aurelia-started',{bubbles:!0,cancelable:!0});return F.c.dispatchEvent(X),this}))}enhance(X={},J=null){return this._configureHost(J||F.c.querySelectorAll('body')[0]),new Promise((Z)=>{let ee=this.container.get(q.c);this.root=ee.enhance({container:this.container,element:this.host,resources:this.resources,bindingContext:X}),this.root.attached(),this._onAureliaComposed(),Z(this)})}setRoot(X=null,J=null){let Z={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(J);let ee=this.container.get(q.c),te=this.container.get(q.d);return delete te.initialComposition,X||(this.configModuleId?X=y.i(B.a)('./app',this.configModuleId):X='app'),Z.viewModel=X,Z.container=Z.childContainer=this.container,Z.viewSlot=this.hostSlot,Z.host=this.host,ee.compose(Z).then((ne)=>{return this.root=ne,Z.viewSlot.attached(),this._onAureliaComposed(),this})}_configureHost(X){if(!this.hostConfigured){if(X=X||this.host,this.host=X&&'string'!=typeof X?X:F.c.getElementById(X||'applicationHost'),!this.host)throw new Error('No applicationHost was specified.');this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new q.e(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(F.c.boundary,this.host)}}_onAureliaComposed(){let X=F.c.createCustomEvent('aurelia-composed',{bubbles:!0,cancelable:!0});setTimeout(()=>F.c.dispatchEvent(X),1)}};const W=L.getLogger('aurelia'),Q=/\.[^/.]+$/;let K=class{constructor(X){this.aurelia=X,this.container=X.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(()=>X.loader.normalize('aurelia-bootstrapper').then((J)=>this.bootstrapperName=J)),this.postTask(()=>M(X,this.resourcesToLoad,X.resources))}instance(X,J){return this.container.registerInstance(X,J),this}singleton(X,J){return this.container.registerSingleton(X,J),this}transient(X,J){return this.container.registerTransient(X,J),this}preTask(X){return R(this),this.preTasks.push(X),this}postTask(X){return R(this),this.postTasks.push(X),this}feature(X,J={}){let Z=/\/index$/i.test(X),ee=Z||I(X)?X:X+'/index',te=Z?X.substr(0,X.length-6):X;return this.plugin({moduleId:ee,resourcesRelativeTo:[te,''],config:J})}globalResources(X){R(this);let J=Array.isArray(X)?X:arguments,Z,ee=this.resourcesRelativeTo||['',''];for(let te=0,ne=J.length;te<ne;++te){if(Z=J[te],'string'!=typeof Z)throw new Error(`Invalid resource path [${Z}]. Resources must be specified as relative module IDs.`);let re=ee[0],ie=ee[1],ae=Z;(Z.startsWith('./')||Z.startsWith('../'))&&''!==re&&(ae=y.i(B.b)(re,Z)),this.resourcesToLoad[ae]={moduleId:ae,relativeTo:ie}}return this}globalName(X,J){return R(this),this.resourcesToLoad[X]={moduleId:J,relativeTo:''},this}plugin(X,J){return(R(this),'string'==typeof X)?this.plugin({moduleId:X,resourcesRelativeTo:[X,''],config:J||{}}):(this.info.push(X),this)}_addNormalizedPlugin(X,J){let Z={moduleId:X,resourcesRelativeTo:[X,''],config:J||{}};return this.plugin(Z),this.preTask(()=>{let ee=[X,this.bootstrapperName];return Z.moduleId=X,Z.resourcesRelativeTo=ee,Promise.resolve()}),this}defaultBindingLanguage(){return this._addNormalizedPlugin('aurelia-templating-binding')}router(){return this._addNormalizedPlugin('aurelia-templating-router')}history(){return this._addNormalizedPlugin('aurelia-history-browser')}defaultResources(){return this._addNormalizedPlugin('aurelia-templating-resources')}eventAggregator(){return this._addNormalizedPlugin('aurelia-event-aggregator')}basicConfiguration(){return this.defaultBindingLanguage().defaultResources().eventAggregator()}standardConfiguration(){return this.basicConfiguration().history().router()}developmentLogging(){return this.preTask(()=>{return this.aurelia.loader.normalize('aurelia-logging-console',this.bootstrapperName).then((X)=>{return this.aurelia.loader.loadModule(X).then((J)=>{L.addAppender(new J.ConsoleAppender),L.setLevel(L.logLevel.debug)})})}),this}apply(){return this.processed?Promise.resolve():N(this,this.preTasks).then(()=>{let X=this.aurelia.loader,J=this.info,Z,ee=()=>{return(Z=J.shift(),Z)?A(this,X,Z).then(ee):(this.processed=!0,Promise.resolve())};return ee().then(()=>N(this,this.postTasks))})}}},'aurelia-history-browser':function(u,h,y){'use strict';function N(H,U,W){if(W){let Q=H.href.replace(/(javascript:|#).*$/,'');H.replace(Q+'#'+U)}else H.hash='#'+U}function A(H,U,W){return`${H}//${U}${W?':'+W:''}`}var M=y(0),I=y(14);h.configure=function(H){H.singleton(I.a,q),H.transient(T,V)};var R,L;let T=class{activate(){}deactivate(){}},V=class H extends T{constructor(){super(),this.handler=(U)=>{let{shouldHandleEvent:W,href:Q}=H.getEventInfo(U);W&&(U.preventDefault(),this.history.navigate(Q))}}activate(U){U._hasPushState&&(this.history=U,M.c.addEventListener('click',this.handler,!0))}deactivate(){M.c.removeEventListener('click',this.handler)}static getEventInfo(U){let W={shouldHandleEvent:!1,href:null,anchor:null},Q=H.findClosestAnchor(U.target);if(!Q||!H.targetIsThisWindow(Q))return W;if(U.altKey||U.ctrlKey||U.metaKey||U.shiftKey)return W;let K=Q.getAttribute('href');W.anchor=Q,W.href=K;let $=1===U.which,Y=K&&!('#'===K.charAt(0)||/^[a-z]+:/i.test(K));return W.shouldHandleEvent=$&&Y,W}static findClosestAnchor(U){for(;U;){if('A'===U.tagName)return U;U=U.parentNode}}static targetIsThisWindow(U){let W=U.getAttribute('target'),Q=M.a.global;return!W||W===Q.name||'_self'===W||'top'===W&&Q===Q.top}},q=(L=R=class extends I.a{constructor(U){super(),this._isActive=!1,this._checkUrlCallback=this._checkUrl.bind(this),this.location=M.a.location,this.history=M.a.history,this.linkHandler=U}activate(U){if(this._isActive)throw new Error('History has already been activated.');let W=!!U.pushState;this._isActive=!0,this.options=Object.assign({},{root:'/'},this.options,U),this.root=('/'+this.options.root+'/').replace(B,'/'),this._wantsHashChange=!1!==this.options.hashChange,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);let Q;if(this._hasPushState?Q='popstate':this._wantsHashChange&&(Q='hashchange'),M.a.addEventListener(Q,this._checkUrlCallback),this._wantsHashChange&&W){let K=this.location,$=K.pathname.replace(/[^\/]$/,'$&/')===this.root;if(!this._hasPushState&&!$)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+'#'+this.fragment),!0;this._hasPushState&&$&&K.hash&&(this.fragment=this._getHash().replace(F,''),this.history.replaceState({},M.c.title,this.root+this.fragment+K.search))}return(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)?this._loadUrl():void 0}deactivate(){M.a.removeEventListener('popstate',this._checkUrlCallback),M.a.removeEventListener('hashchange',this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()}getAbsoluteRoot(){let U=A(this.location.protocol,this.location.hostname,this.location.port);return`${U}${this.root}`}navigate(U,{trigger:W=!0,replace:Q=!1}={}){if(U&&D.test(U))return this.location.href=U,!0;if(!this._isActive)return!1;if(U=this._getFragment(U||''),this.fragment===U&&!Q)return!1;this.fragment=U;let K=this.root+U;if(''===U&&'/'!==K&&(K=K.slice(0,-1)),this._hasPushState)K=K.replace('//','/'),this.history[Q?'replaceState':'pushState']({},M.c.title,K);else if(this._wantsHashChange)N(this.location,U,Q);else return this.location.assign(K);return W?this._loadUrl(U):void 0}navigateBack(){this.history.back()}setTitle(U){M.c.title=U}_getHash(){return this.location.hash.substr(1)}_getFragment(U,W){let Q;return U||(this._hasPushState||!this._wantsHashChange||W?(U=this.location.pathname+this.location.search,Q=this.root.replace(z,''),!U.indexOf(Q)&&(U=U.substr(Q.length))):U=this._getHash()),'/'+U.replace(F,'')}_checkUrl(){let U=this._getFragment();U!==this.fragment&&this._loadUrl()}_loadUrl(U){let W=this.fragment=this._getFragment(U);return!!this.options.routeHandler&&this.options.routeHandler(W)}},R.inject=[T],L);const F=/^#?\/*|\s+$/g,B=/^\/+|\/+$/g,z=/\/$/,D=/^([a-z][a-z0-9+\-.]*:)?\/\//i},'aurelia-logging-console':function(u,h,y){'use strict';y(5);y.d(h,'ConsoleAppender',function(){return N});let N=class{debug(M,...I){console.debug(`DEBUG [${M.id}]`,...I)}info(M,...I){console.info(`INFO [${M.id}]`,...I)}warn(M,...I){console.warn(`WARN [${M.id}]`,...I)}error(M,...I){console.error(`ERROR [${M.id}]`,...I)}}},'aurelia-pal-browser':function(u,h,y){'use strict';function w(){(function(){}).name||Object.defineProperty(Function.prototype,'name',{get:function(){let D=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,'name',{value:D}),D}})}function N(){if(!('classList'in document.createElement('_'))||document.createElementNS&&!('classList'in document.createElementNS('http://www.w3.org/2000/svg','g'))){let z='prototype',D=_Stringprototype.trim,H=Array.prototype.indexOf,U=[],W=function(Y,X){this.name=Y,this.code=DOMException[Y],this.message=X},Q=function(Y,X){if(''===X)throw new W('SYNTAX_ERR','An invalid or illegal string was specified');if(/\s/.test(X))throw new W('INVALID_CHARACTER_ERR','String contains an invalid character');return H.call(Y,X)},K=function(Y){let X=D.call(Y.getAttribute('class')||''),J=X?X.split(/\s+/):U;for(let Z=0,ee=J.length;Z<ee;++Z)this.push(J[Z]);this._updateClassName=function(){Y.setAttribute('class',this.toString())}},$=K[z]=[];W[z]=Error[z],$.item=function(Y){return this[Y]||null},$.contains=function(Y){return Y+='',-1!==Q(this,Y)},$.add=function(){let Y=arguments,X=0,J=Y.length,ee=!1,Z;do Z=Y[X]+'',-1===Q(this,Z)&&(this.push(Z),ee=!0);while(++X<J);ee&&this._updateClassName()},$.remove=function(){let Y=arguments,X=0,J=Y.length,ee=!1,Z,te;do for(Z=Y[X]+'',te=Q(this,Z);-1!==te;)this.splice(te,1),ee=!0,te=Q(this,Z);while(++X<J);ee&&this._updateClassName()},$.toggle=function(Y,X){Y+='';let J=this.contains(Y),Z=J?!0!==X&&'remove':!1!==X&&'add';return Z&&this[Z](Y),!0===X||!1===X?X:!J},$.toString=function(){return this.join(' ')},Object.defineProperty(Element.prototype,'classList',{get:function(){return new K(this)},enumerable:!0,configurable:!0})}else{let z=document.createElement('_');if(z.classList.add('c1','c2'),!z.classList.contains('c2')){let D=function(H){let U=DOMTokenList.prototype[H];DOMTokenList.prototype[H]=function(W){for(let Q=0,K=arguments.length;Q<K;++Q)W=arguments[Q],U.call(this,W)}};D('add'),D('remove')}if(z.classList.toggle('c3',!1),z.classList.contains('c3')){let D=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(H,U){return 1 in arguments&&!this.contains(H)==!U?U:D.call(this,H)}}z=null}}function A(){if(!1=='performance'in window&&(window.performance={}),!1=='now'in window.performance){let z=Date.now();performance.timing&&performance.timing.navigationStart&&(z=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-z}}V.performance=window.performance}function M(){if(!window.CustomEvent||'function'!=typeof window.CustomEvent){let z=function(D,H){H=H||{bubbles:!1,cancelable:!1,detail:void 0};let U=document.createEvent('CustomEvent');return U.initCustomEvent(D,H.bubbles,H.cancelable,H.detail),U};z.prototype=window.Event.prototype,window.CustomEvent=z}}function I(){if(Element&&!Element.prototype.matches){let z=Element.prototype;z.matches=z.matchesSelector||z.mozMatchesSelector||z.msMatchesSelector||z.oMatchesSelector||z.webkitMatchesSelector}}function R(){function z(W){return'template'===W.tagName&&'http://www.w3.org/2000/svg'===W.namespaceURI}function D(W){let Q=W.ownerDocument.createElement('template'),K=W.attributes,$=K.length,Y;for(W.parentNode.insertBefore(Q,W);0<$--;)Y=K[$],Q.setAttribute(Y.name,Y.value),W.removeAttribute(Y.name);return W.parentNode.removeChild(W),H(Q)}function H(W){for(let Q=W.content=document.createDocumentFragment(),K;K=W.firstChild;)Q.appendChild(K);return W}q.ensureHTMLTemplateElement=q.htmlTemplateElement?function(W){return W}:function(W){let Q=H(W).content,K=Q.querySelectorAll('template');for(let $=0,Y=K.length,X;$<Y;++$)X=K[$],z(X)?D(X):H(X);return W}}Object.defineProperty(h,'__esModule',{value:!0});var T=y(0);h._ensureFunctionName=w,h._ensureClassList=N,h._ensurePerformance=A,h._ensureCustomEvent=M,h._ensureElementMatches=I,h._ensureHTMLTemplateElement=R,h.initialize=function(){T.b||(M(),w(),R(),I(),N(),A(),y.i(T.f)((z,D,H)=>{Object.assign(z,V),Object.assign(D,q),Object.assign(H,B),function(U){U.console=U.console||{};let W=U.console,Q,K,$={},Y=function(){},X='memory'.split(','),J='assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn'.split(',');for(;Q=X.pop();)W[Q]||(W[Q]=$);for(;K=J.pop();)W[K]||(W[K]=Y)}(z.global),z.global.console&&'object'==typeof console.log&&['log','info','warn','error','assert','dir','clear','profile','profileEnd'].forEach(function(U){console[U]=this.bind(console[U],console)},Function.prototype.call),Object.defineProperty(H,'title',{get:function(){return document.title},set:function(U){document.title=U}}),Object.defineProperty(H,'activeElement',{get:function(){return document.activeElement}}),Object.defineProperty(z,'XMLHttpRequest',{get:function(){return z.global.XMLHttpRequest}})}))};const V={location:window.location,history:window.history,addEventListener(z,D,H){this.global.addEventListener(z,D,H)},removeEventListener(z,D,H){this.global.removeEventListener(z,D,H)},performance:window.performance,requestAnimationFrame(z){return this.global.requestAnimationFrame(z)}};h._PLATFORM=V;const q={};h._FEATURE=q,q.shadowDOM=function(){return!!HTMLElement.prototype.attachShadow}(),q.scopedCSS=function(){return'scoped'in document.createElement('style')}(),q.htmlTemplateElement=function(){return'content'in document.createElement('template')}(),q.mutationObserver=function(){return!!(window.MutationObserver||window.WebKitMutationObserver)}();let F=window.ShadowDOMPolyfill||null;const B={Element:Element,SVGElement:SVGElement,boundary:'aurelia-dom-boundary',addEventListener(z,D,H){document.addEventListener(z,D,H)},removeEventListener(z,D,H){document.removeEventListener(z,D,H)},adoptNode(z){return document.adoptNode(z,!0)},createElement(z){return document.createElement(z)},createTextNode(z){return document.createTextNode(z)},createComment(z){return document.createComment(z)},createDocumentFragment(){return document.createDocumentFragment()},createMutationObserver(z){return new(window.MutationObserver||window.WebKitMutationObserver)(z)},createCustomEvent(z,D){return new window.CustomEvent(z,D)},dispatchEvent(z){document.dispatchEvent(z)},getComputedStyle(z){return window.getComputedStyle(z)},getElementById(z){return document.getElementById(z)},querySelectorAll(z){return document.querySelectorAll(z)},nextElementSibling(z){if(z.nextElementSibling)return z.nextElementSibling;do z=z.nextSibling;while(z&&1!==z.nodeType);return z},createTemplateFromMarkup(z){let D=document.createElement('div');D.innerHTML=z;let H=D.firstElementChild;if(!H||'TEMPLATE'!==H.nodeName)throw new Error('Template markup must be wrapped in a <template> element e.g. <template> <!-- markup here --> </template>');return q.ensureHTMLTemplateElement(H)},appendNode(z,D){(D||document.body).appendChild(z)},replaceNode(z,D,H){D.parentNode?D.parentNode.replaceChild(z,D):null===F?H.replaceChild(z,D):F.unwrap(H).replaceChild(F.unwrap(z),F.unwrap(D))},removeNode(z,D){z.parentNode?z.parentNode.removeChild(z):D&&(null===F?D.removeChild(z):F.unwrap(D).removeChild(F.unwrap(z)))},injectStyles(z,D,H){let U=document.createElement('style');return U.innerHTML=z,U.type='text/css',D=D||document.head,H&&0<D.childNodes.length?D.insertBefore(U,D.childNodes[0]):D.appendChild(U),U}};h._DOM=B},'aurelia-templating-binding':function(u,h,y){'use strict';function w(Y,X){if('style'===X)A.getLogger('templating-binding').info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(Y.parentElement&&'TEXTAREA'===Y.parentElement.nodeName&&'textContent'===X)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}var A=y(5),M=y(3),I=y(1);h.configure=function(Y){Y.container.registerSingleton(I.b,$),Y.container.registerAlias(I.b,$)};var R,L,T,V,q,F,B,z;let D=(L=R=class{constructor(X){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=X,this.registerUniversal('accesskey','accessKey'),this.registerUniversal('contenteditable','contentEditable'),this.registerUniversal('tabindex','tabIndex'),this.registerUniversal('textcontent','textContent'),this.registerUniversal('innerhtml','innerHTML'),this.registerUniversal('scrolltop','scrollTop'),this.registerUniversal('scrollleft','scrollLeft'),this.registerUniversal('readonly','readOnly'),this.register('label','for','htmlFor'),this.register('img','usemap','useMap'),this.register('input','maxlength','maxLength'),this.register('input','minlength','minLength'),this.register('input','formaction','formAction'),this.register('input','formenctype','formEncType'),this.register('input','formmethod','formMethod'),this.register('input','formnovalidate','formNoValidate'),this.register('input','formtarget','formTarget'),this.register('textarea','maxlength','maxLength'),this.register('td','rowspan','rowSpan'),this.register('td','colspan','colSpan'),this.register('th','rowspan','rowSpan'),this.register('th','colspan','colSpan')}register(X,J,Z){X=X.toLowerCase(),J=J.toLowerCase();const ee=this.elements[X]=this.elements[X]||Object.create(null);ee[J]=Z}registerUniversal(X,J){X=X.toLowerCase(),this.allElements[X]=J}map(X,J){if(this.svg.isStandardSvgAttribute(X,J))return J;X=X.toLowerCase(),J=J.toLowerCase();const Z=this.elements[X];return void 0!==Z&&J in Z?Z[J]:J in this.allElements?this.allElements[J]:/(?:^data-)|(?:^aria-)|:/.test(J)?J:y.i(M.n)(J)}},R.inject=[M.o],L),H=class{constructor(X,J,Z,ee,te,ne){this.observerLocator=X,this.targetProperty=J,this.parts=Z,this.mode=ee,this.lookupFunctions=te,this.attribute=this.attrToRemove=ne,this.discrete=!1}createBinding(X){return 3===this.parts.length?new W(X,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new U(this.observerLocator,this.parts,X,this.targetProperty,this.mode,this.lookupFunctions)}},U=class{constructor(X,J,Z,ee,te,ne){w(Z,ee),this.observerLocator=X,this.parts=J,this.target=Z,this.targetProperty=ee,this.targetAccessor=X.getAccessor(Z,ee),this.mode=te,this.lookupFunctions=ne}interpolate(){if(this.isBound){let X='',J=this.parts;for(let Z=0,ee=J.length;Z<ee;Z++)X+=0==Z%2?J[Z]:this[`childBinding${Z}`].value;this.targetAccessor.setValue(X,this.target,this.targetProperty)}}updateOneTimeBindings(){for(let X=1,J=this.parts.length,Z;X<J;X+=2)Z=this[`childBinding${X}`],Z.mode===M.e.oneTime&&Z.call()}bind(X){if(this.isBound){if(this.source===X)return;this.unbind()}this.source=X;let J=this.parts;for(let Z=1,ee=J.length,te;Z<ee;Z+=2)te=new W(this,this.observerLocator,J[Z],this.mode,this.lookupFunctions),te.bind(X),this[`childBinding${Z}`]=te;this.isBound=!0,this.interpolate()}unbind(){if(this.isBound){this.isBound=!1,this.source=null;let X=this.parts;for(let J=1,Z=X.length,ee;J<Z;J+=2)ee=`childBinding${J}`,this[ee].unbind()}}},W=(T=y.i(M.p)(),T(V=class{constructor(X,J,Z,ee,te,ne,re,ie){X instanceof U?this.parent=X:(w(X,ne),this.target=X,this.targetProperty=ne,this.targetAccessor=J.getAccessor(X,ne)),this.observerLocator=J,this.sourceExpression=Z,this.mode=ee,this.lookupFunctions=te,this.left=re,this.right=ie}updateTarget(X){X=null===X||X===void 0?'':X.toString(),X!==this.value&&(this.value=X,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+X+this.right,this.target,this.targetProperty))}call(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==M.e.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))}bind(X){if(this.isBound){if(this.source===X)return;this.unbind()}this.isBound=!0,this.source=X;let J=this.sourceExpression;J.bind&&J.bind(this,X,this.lookupFunctions),this.rawValue=J.evaluate(X,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===M.e.oneWay&&y.i(M.q)(this)}unbind(){if(this.isBound){this.isBound=!1;let X=this.sourceExpression;X.unbind&&X.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}}connect(X){this.isBound&&(X&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))}})||V),Q=(F=q=class{constructor(X,J,Z,ee){this.parser=X,this.observerLocator=J,this.eventManager=Z,this.attributeMap=ee}interpret(X,J,Z,ee,te){return Z.command in this?this[Z.command](X,J,Z,ee,te):this.handleUnknownCommand(X,J,Z,ee,te)}handleUnknownCommand(X,J,Z,ee){return A.getLogger('templating-binding').warn('Unknown binding command.',Z),ee}determineDefaultBindingMode(X,J,Z){let ee=X.tagName.toLowerCase();return'input'===ee&&('value'===J||'files'===J)&&'checkbox'!==X.type&&'radio'!==X.type||'input'===ee&&'checked'===J&&('checkbox'===X.type||'radio'===X.type)||('textarea'===ee||'select'===ee)&&'value'===J||('textcontent'===J||'innerhtml'===J)&&'true'===X.contentEditable||'scrolltop'===J||'scrollleft'===J?M.e.twoWay:Z&&J in Z.attributes&&Z.attributes[J]&&Z.attributes[J].defaultBindingMode>=M.e.oneTime?Z.attributes[J].defaultBindingMode:M.e.oneWay}bind(X,J,Z,ee,te){let ne=ee||I.s.attribute(Z.attrName);return ne.attributes[Z.attrName]=new M.r(this.observerLocator,this.attributeMap.map(J.tagName,Z.attrName),this.parser.parse(Z.attrValue),Z.defaultBindingMode||this.determineDefaultBindingMode(J,Z.attrName,te),X.lookupFunctions),ne}trigger(X,J,Z){return new M.s(this.eventManager,Z.attrName,this.parser.parse(Z.attrValue),M.t.none,!0,X.lookupFunctions)}capture(X,J,Z){return new M.s(this.eventManager,Z.attrName,this.parser.parse(Z.attrValue),M.t.capturing,!0,X.lookupFunctions)}delegate(X,J,Z){return new M.s(this.eventManager,Z.attrName,this.parser.parse(Z.attrValue),M.t.bubbling,!0,X.lookupFunctions)}call(X,J,Z,ee){let te=ee||I.s.attribute(Z.attrName);return te.attributes[Z.attrName]=new M.u(this.observerLocator,Z.attrName,this.parser.parse(Z.attrValue),X.lookupFunctions),te}options(X,J,Z,ee,te){let ne=ee||I.s.attribute(Z.attrName),re=Z.attrValue,ie=this.language,ae=null,oe='',ue=!1,ce=!1,pe=!1,se,le,de;for(le=0,de=re.length;le<de;++le){if(se=re[le],';'===se&&!ue)pe||(ae=this._getPrimaryPropertyName(X,te)),Z=ie.inspectAttribute(X,'?',ae,oe.trim()),ie.createAttributeInstruction(X,J,Z,ne,te),ne.attributes[Z.attrName]||(ne.attributes[Z.attrName]=Z.attrValue),oe='',ae=null;else if(':'===se&&null===ae)pe=!0,ae=oe.trim(),oe='';else if('\\'===se){oe+=se,ce=!0;continue}else oe+=se,null!==ae&&!1==ce&&'\''===se&&(ue=!ue);ce=!1}return pe||(ae=this._getPrimaryPropertyName(X,te)),null!==ae&&(Z=ie.inspectAttribute(X,'?',ae,oe.trim()),ie.createAttributeInstruction(X,J,Z,ne,te),!ne.attributes[Z.attrName]&&(ne.attributes[Z.attrName]=Z.attrValue)),ne}_getPrimaryPropertyName(X,J){let Z=X.getAttribute(J.attributeName);return Z&&Z.primaryProperty?Z.primaryProperty.name:null}'for'(X,J,Z,ee){let te,ne,re,ie,ae;if(ie=Z.attrValue,ae=ie.match(/^ *[[].+[\]]/),te=ae?ie.split('of '):ie.split(' of '),2!==te.length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return re=ee||I.s.attribute(Z.attrName),ae?(ne=te[0].replace(/[[\]]/g,'').replace(/,/g,' ').replace(/\s+/g,' ').trim().split(' '),re.attributes.key=ne[0],re.attributes.value=ne[1]):re.attributes.local=te[0],re.attributes.items=new M.r(this.observerLocator,'items',this.parser.parse(te[1]),M.e.oneWay,X.lookupFunctions),re}'two-way'(X,J,Z,ee){let te=ee||I.s.attribute(Z.attrName);return te.attributes[Z.attrName]=new M.r(this.observerLocator,this.attributeMap.map(J.tagName,Z.attrName),this.parser.parse(Z.attrValue),M.e.twoWay,X.lookupFunctions),te}'one-way'(X,J,Z,ee){let te=ee||I.s.attribute(Z.attrName);return te.attributes[Z.attrName]=new M.r(this.observerLocator,this.attributeMap.map(J.tagName,Z.attrName),this.parser.parse(Z.attrValue),M.e.oneWay,X.lookupFunctions),te}'one-time'(X,J,Z,ee){let te=ee||I.s.attribute(Z.attrName);return te.attributes[Z.attrName]=new M.r(this.observerLocator,this.attributeMap.map(J.tagName,Z.attrName),this.parser.parse(Z.attrValue),M.e.oneTime,X.lookupFunctions),te}},q.inject=[M.v,M.f,M.g,D],F),K={},$=(z=B=class extends I.b{constructor(X,J,Z,ee){super(),this.parser=X,this.observerLocator=J,this.syntaxInterpreter=Z,this.emptyStringExpression=this.parser.parse('\'\''),Z.language=this,this.attributeMap=ee}inspectAttribute(X,J,Z,ee){let te=Z.split('.');if(K.defaultBindingMode=null,2===te.length)K.attrName=te[0].trim(),K.attrValue=ee,K.command=te[1].trim(),'ref'===K.command?(K.expression=new M.w(this.parser.parse(ee),K.attrName,X.lookupFunctions),K.command=null,K.attrName='ref'):K.expression=null;else if('ref'===Z)K.attrName=Z,K.attrValue=ee,K.command=null,K.expression=new M.w(this.parser.parse(ee),'element',X.lookupFunctions);else{K.attrName=Z,K.attrValue=ee,K.command=null;const ne=this.parseInterpolation(X,ee);K.expression=null===ne?null:new H(this.observerLocator,this.attributeMap.map(J,Z),ne,M.e.oneWay,X.lookupFunctions,Z)}return K}createAttributeInstruction(X,J,Z,ee,te){let ne;if(Z.expression){if('ref'===Z.attrName)return Z.expression;ne=ee||I.s.attribute(Z.attrName),ne.attributes[Z.attrName]=Z.expression}else Z.command&&(ne=this.syntaxInterpreter.interpret(X,J,Z,ee,te));return ne}inspectTextContent(X,J){const Z=this.parseInterpolation(X,J);return null===Z?null:new H(this.observerLocator,'textContent',Z,M.e.oneWay,X.lookupFunctions,'textContent')}parseInterpolation(X,J){let Z=J.indexOf('${',0),ee=J.length,ne=0,re=0,ie=null,se=0,te,ae,oe;for(;0<=Z&&Z<ee-2;){re=1,ae=Z,Z+=2;do{if(te=J[Z],Z++,'\''===te||'"'===te){null==ie?ie=te:ie===te&&(ie=null);continue}if('\\'===te){Z++;continue}if(null!==ie)continue;'{'===te?re++:'}'===te&&re--}while(0<re&&Z<ee);if(0==re)oe=oe||[],'\\'===J[ae-1]&&'\\'!==J[ae-2]?(oe[se]=J.substring(ne,ae-1)+J.substring(ae,Z),se++,oe[se]=this.emptyStringExpression,se++):(oe[se]=J.substring(ne,ae),se++,oe[se]=this.parser.parse(J.substring(ae+2,Z-1)),se++),ne=Z,Z=J.indexOf('${',Z);else break}return 0==se?null:(oe[se]=J.substr(ne),oe)}},B.inject=[M.v,M.f,Q,D],z)},'aurelia-templating-resources':function(u,h,y){'use strict';function w(de){y.i(le.a)(),de.globalResources('./compose','./if','./with','./repeat','./show','./hide','./replaceable','./sanitize-html','./focus','./binding-mode-behaviors','./self-binding-behavior','./throttle-binding-behavior','./debounce-binding-behavior','./signal-binding-behavior','./update-trigger-binding-behavior','./attr-binding-behavior'),y.i(ee.a)(de);let ue=de.container.get(B.f);ue.addResourcePlugin('.css',{fetch:function(ce){return{[ce]:y.i(z.a)(ce)}}})}var N=y(0),A=y('aurelia-templating-resources/compose'),M=y('aurelia-templating-resources/if'),I=y('aurelia-templating-resources/with'),R=y('aurelia-templating-resources/repeat'),L=y('aurelia-templating-resources/show'),T=y('aurelia-templating-resources/hide'),V=y('aurelia-templating-resources/sanitize-html'),q=y('aurelia-templating-resources/replaceable'),F=y('aurelia-templating-resources/focus'),B=y(1),z=y(32),D=y(19),H=y('aurelia-templating-resources/attr-binding-behavior'),U=y('aurelia-templating-resources/binding-mode-behaviors'),W=y('aurelia-templating-resources/throttle-binding-behavior'),Q=y('aurelia-templating-resources/debounce-binding-behavior'),K=y('aurelia-templating-resources/self-binding-behavior'),$=y('aurelia-templating-resources/signal-binding-behavior'),Y=y(18),X=y('aurelia-templating-resources/update-trigger-binding-behavior'),J=y(15),Z=y(23),ee=y(34),te=y(21),ne=y(17),re=y(20),ie=y(24),ae=y(22),oe=y(7),se=y(16),le=y(11);y.d(h,'configure',function(){return w})},'aurelia-templating-resources/attr-binding-behavior':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(3);y.d(h,'AttrBindingBehavior',function(){return N});let N=class{bind(M){M.targetObserver=new w.h(M.target,M.targetProperty)}unbind(){}}},'aurelia-templating-resources/binding-mode-behaviors':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(3),N=y(4);y.d(h,'OneTimeBindingBehavior',function(){return q}),y.d(h,'OneWayBindingBehavior',function(){return F}),y.d(h,'TwoWayBindingBehavior',function(){return B});var A,M,I,R,L,T;let V={bind(z){z.originalMode=z.mode,z.mode=this.mode},unbind(z){z.mode=z.originalMode,z.originalMode=null}},q=(A=y.i(N.d)(V),A(M=class{constructor(){this.mode=w.e.oneTime}})||M),F=(I=y.i(N.d)(V),I(R=class{constructor(){this.mode=w.e.oneWay}})||R),B=(L=y.i(N.d)(V),L(T=class{constructor(){this.mode=w.e.twoWay}})||T)},'aurelia-templating-resources/compose':function(u,h,y){'use strict';function w(Y,X,J,Z){J&&Object.defineProperty(Y,X,{enumerable:J.enumerable,configurable:J.configurable,writable:J.writable,value:J.initializer?J.initializer.call(Z):void 0})}function N(Y,X,J,Z,ee){var te={};return Object.keys(Z).forEach(function(ne){te[ne]=Z[ne]}),te.enumerable=!!te.enumerable,te.configurable=!!te.configurable,('value'in te||te.initializer)&&(te.writable=!0),te=J.slice().reverse().reduce(function(ne,re){return re(Y,X,ne)||ne},te),ee&&void 0!==te.initializer&&(te.value=te.initializer?te.initializer.call(ee):void 0,te.initializer=void 0),void 0===te.initializer&&(Object.defineProperty(Y,X,te),te=null),te}function M(Y,X){return Object.assign(X,{bindingContext:Y.bindingContext,overrideContext:Y.overrideContext,owningView:Y.owningView,container:Y.container,viewSlot:Y.viewSlot,viewResources:Y.viewResources,currentController:Y.currentController,host:Y.element,swapOrder:Y.swapOrder})}function I(Y,X){Y.currentInstruction=null,Y.compositionEngine.compose(X).then((J)=>{Y.currentController=J,Y.currentViewModel=J?J.viewModel:null})}Object.defineProperty(h,'__esModule',{value:!0});var R=y(2),L=y(9),T=y(1),V=y(0);y.d(h,'Compose',function(){return $});var q,F,B,H,U,W,Q,K;let $=(q=y.i(T.g)('compose'),F=y.i(R.b)(V.c.Element,R.a,T.h,T.e,T.a,L.a),q(B=y.i(T.i)(B=F(B=(H=class{constructor(X,J,Z,ee,te,ne){w(this,'model',U,this),w(this,'view',W,this),w(this,'viewModel',Q,this),w(this,'swapOrder',K,this),this.element=X,this.container=J,this.compositionEngine=Z,this.viewSlot=ee,this.viewResources=te,this.taskQueue=ne,this.currentController=null,this.currentViewModel=null}created(X){this.owningView=X}bind(X,J){this.bindingContext=X,this.overrideContext=J,I(this,M(this,{view:this.view,viewModel:this.viewModel,model:this.model}))}unbind(){this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)}modelChanged(X){return this.currentInstruction?void(this.currentInstruction.model=X):void this.taskQueue.queueMicroTask(()=>{if(this.currentInstruction)return void(this.currentInstruction.model=X);let Z=this.currentViewModel;Z&&'function'==typeof Z.activate&&Z.activate(X)})}viewChanged(X){let Z=M(this,{view:X,viewModel:this.currentViewModel||this.viewModel,model:this.model});return this.currentInstruction?void(this.currentInstruction=Z):void(this.currentInstruction=Z,this.taskQueue.queueMicroTask(()=>I(this,this.currentInstruction)))}viewModelChanged(X){let Z=M(this,{viewModel:X,view:this.view,model:this.model});return this.currentInstruction?void(this.currentInstruction=Z):void(this.currentInstruction=Z,this.taskQueue.queueMicroTask(()=>I(this,this.currentInstruction)))}},U=N(H.prototype,'model',[T.j],{enumerable:!0,initializer:null}),W=N(H.prototype,'view',[T.j],{enumerable:!0,initializer:null}),Q=N(H.prototype,'viewModel',[T.j],{enumerable:!0,initializer:null}),K=N(H.prototype,'swapOrder',[T.j],{enumerable:!0,initializer:null}),H))||B)||B)||B)},'aurelia-templating-resources/debounce-binding-behavior':function(u,h,y){'use strict';function w(M){let I=this.debounceState;return I.immediate?(I.immediate=!1,void this.debouncedMethod(M)):void(clearTimeout(I.timeoutId),I.timeoutId=setTimeout(()=>this.debouncedMethod(M),I.delay))}Object.defineProperty(h,'__esModule',{value:!0});var N=y(3);y.d(h,'DebounceBindingBehavior',function(){return A});let A=class{bind(I,R,L=200){let T='updateTarget';I.callSource?T='callSource':I.updateSource&&I.mode===N.e.twoWay&&(T='updateSource'),I.debouncedMethod=I[T],I.debouncedMethod.originalName=T,I[T]=w,I.debounceState={delay:L,timeoutId:null,immediate:'updateTarget'==T}}unbind(I){let L=I.debouncedMethod.originalName;I[L]=I.debouncedMethod,I.debouncedMethod=null,clearTimeout(I.debounceState.timeoutId),I.debounceState=null}}},'aurelia-templating-resources/focus':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(1),N=y(3),A=y(2),M=y(9),I=y(0);y.d(h,'Focus',function(){return V});var R,L,T;let V=(R=y.i(w.k)('focus',N.e.twoWay),L=y.i(A.b)(I.c.Element,M.a),R(T=L(T=class{constructor(F,B){this.element=F,this.taskQueue=B,this.isAttached=!1,this.needsApply=!1,this.focusListener=()=>{this.value=!0},this.blurListener=()=>{I.c.activeElement!==this.element&&(this.value=!1)}}valueChanged(){this.isAttached?this._apply():this.needsApply=!0}_apply(){this.value?this.taskQueue.queueMicroTask(()=>{this.value&&this.element.focus()}):this.element.blur()}attached(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener('focus',this.focusListener),this.element.addEventListener('blur',this.blurListener)}detached(){this.isAttached=!1,this.element.removeEventListener('focus',this.focusListener),this.element.removeEventListener('blur',this.blurListener)}})||T)||T)},'aurelia-templating-resources/hide':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(2),N=y(1),A=y(0),M=y(11);y.d(h,'Hide',function(){return T});var I,R,L;let T=(I=y.i(N.k)('hide'),R=y.i(w.b)(A.c.Element,N.o,w.d.of(A.c.boundary,!0)),I(L=R(L=class{constructor(q,F,B){this.element=q,this.animator=F,this.domBoundary=B}created(){y.i(M.b)(this.domBoundary)}valueChanged(q){q?this.animator.addClass(this.element,M.c):this.animator.removeClass(this.element,M.c)}bind(){this.valueChanged(this.value)}})||L)||L)},'aurelia-templating-resources/if':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(1),N=y(2);y.d(h,'If',function(){return R});var A,M,I;let R=(A=y.i(w.k)('if'),M=y.i(N.b)(w.l,w.e),A(I=y.i(w.m)(I=M(I=class{constructor(T,V){this.viewFactory=T,this.viewSlot=V,this.showing=!1,this.view=null,this.bindingContext=null,this.overrideContext=null}bind(T,V){this.bindingContext=T,this.overrideContext=V,this.valueChanged(this.value)}valueChanged(T){if(this.__queuedChanges)return void this.__queuedChanges.push(T);let V=this._runValueChanged(T);if(V instanceof Promise){let q=this.__queuedChanges=[],F=()=>{if(!q.length)return void(this.__queuedChanges=void 0);let B=this._runValueChanged(q.shift())||Promise.resolve();B.then(F)};V.then(F)}}_runValueChanged(T){if(!T){let V;return null!==this.view&&this.showing&&(V=this.viewSlot.remove(this.view),V instanceof Promise?V.then(()=>this.view.unbind()):this.view.unbind()),this.showing=!1,V}return null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),this.showing?void 0:(this.showing=!0,this.viewSlot.add(this.view))}unbind(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing&&(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)),this.view.returnToCache(),this.view=null))}})||I)||I)||I)},'aurelia-templating-resources/repeat':function(u,h,y){'use strict';function w(X,J,Z,ee){Z&&Object.defineProperty(X,J,{enumerable:Z.enumerable,configurable:Z.configurable,writable:Z.writable,value:Z.initializer?Z.initializer.call(ee):void 0})}function N(X,J,Z,ee,te){var ne={};return Object.keys(ee).forEach(function(re){ne[re]=ee[re]}),ne.enumerable=!!ne.enumerable,ne.configurable=!!ne.configurable,('value'in ne||ne.initializer)&&(ne.writable=!0),ne=Z.slice().reverse().reduce(function(re,ie){return ie(X,J,re)||re},ne),te&&void 0!==ne.initializer&&(ne.value=ne.initializer?ne.initializer.call(te):void 0,ne.initializer=void 0),void 0===ne.initializer&&(Object.defineProperty(X,J,ne),ne=null),ne}Object.defineProperty(h,'__esModule',{value:!0});var M=y(2),I=y(3),R=y(1),L=y(23),T=y(7),V=y(16),q=y(15);y.d(h,'Repeat',function(){return Y});var F,B,z,U,W,Q,K,$;let Y=(F=y.i(R.k)('repeat'),B=y.i(M.b)(R.l,R.n,R.e,R.a,I.f,L.a),F(z=y.i(R.m)(z=B(z=(U=class extends q.a{constructor(J,Z,ee,te,ne,re){super({local:'item',viewsRequireLifecycle:y.i(V.a)(J)}),w(this,'items',W,this),w(this,'local',Q,this),w(this,'key',K,this),w(this,'value',$,this),this.viewFactory=J,this.instruction=Z,this.viewSlot=ee,this.lookupFunctions=te.lookupFunctions,this.observerLocator=ne,this.key='key',this.value='value',this.strategyLocator=re,this.ignoreMutation=!1,this.sourceExpression=y.i(T.a)(this.instruction,'repeat.for'),this.isOneTime=y.i(T.b)(this.sourceExpression),this.viewsRequireLifecycle=y.i(V.a)(J)}call(J,Z){this[J](this.items,Z)}bind(J,Z){this.scope={bindingContext:J,overrideContext:Z},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()}unbind(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0),this._unsubscribeCollection()}_unsubscribeCollection(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)}itemsChanged(){if(this._unsubscribeCollection(),!!this.scope){let J=this.items;if(this.strategy=this.strategyLocator.getStrategy(J),!this.strategy)throw new Error(`Value for '${this.sourceExpression}' is non-repeatable`);this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,J)}}_getInnerCollection(){let J=y.i(T.c)(this.sourceExpression);return J?J.evaluate(this.scope,null):null}handleCollectionMutated(J,Z){this.collectionObserver&&this.strategy.instanceMutated(this,J,Z)}handleInnerCollectionMutated(){if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;let ee=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(()=>this.ignoreMutation=!1),ee===this.items?this.itemsChanged():this.items=ee}}_observeInnerCollection(){let J=this._getInnerCollection(),Z=this.strategyLocator.getStrategy(J);return!!Z&&(this.collectionObserver=Z.getCollectionObserver(this.observerLocator,J),!!this.collectionObserver)&&(this.callContext='handleInnerCollectionMutated',this.collectionObserver.subscribe(this.callContext,this),!0)}_observeCollection(){let J=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,J),this.collectionObserver&&(this.callContext='handleCollectionMutated',this.collectionObserver.subscribe(this.callContext,this))}_captureAndRemoveMatcherBinding(){if(this.viewFactory.viewFactory){const J=this.viewFactory.viewFactory.instructions,Z=Object.keys(J);for(let ee=0;ee<Z.length;ee++){const te=J[Z[ee]].expressions;if(te)for(let ne=0;ee<te.length;ee++)if('matcher'===te[ne].targetProperty){const re=te[ne];return te.splice(ne,1),re}}}}viewCount(){return this.viewSlot.children.length}views(){return this.viewSlot.children}view(J){return this.viewSlot.children[J]}matcher(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null}addView(J,Z){let ee=this.viewFactory.create();ee.bind(J,Z),this.viewSlot.add(ee)}insertView(J,Z,ee){let te=this.viewFactory.create();te.bind(Z,ee),this.viewSlot.insert(J,te)}moveView(J,Z){this.viewSlot.move(J,Z)}removeAllViews(J,Z){return this.viewSlot.removeAll(J,Z)}removeViews(J,Z,ee){return this.viewSlot.removeMany(J,Z,ee)}removeView(J,Z,ee){return this.viewSlot.removeAt(J,Z,ee)}updateBindings(J){let Z=J.bindings.length;for(;Z--;)y.i(T.d)(J.bindings[Z]);for(Z=J.controllers.length;Z--;)for(let ee=J.controllers[Z].boundProperties.length,te;ee--;)te=J.controllers[Z].boundProperties[ee].binding,y.i(T.d)(te)}},W=N(U.prototype,'items',[R.j],{enumerable:!0,initializer:null}),Q=N(U.prototype,'local',[R.j],{enumerable:!0,initializer:null}),K=N(U.prototype,'key',[R.j],{enumerable:!0,initializer:null}),$=N(U.prototype,'value',[R.j],{enumerable:!0,initializer:null}),U))||z)||z)||z)},'aurelia-templating-resources/replaceable':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(2),N=y(1);y.d(h,'Replaceable',function(){return R});var A,M,I;let R=(A=y.i(N.k)('replaceable'),M=y.i(w.b)(N.l,N.e),A(I=y.i(N.m)(I=M(I=class{constructor(T,V){this.viewFactory=T,this.viewSlot=V,this.view=null}bind(T,V){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(T,V)}unbind(){this.view.unbind()}})||I)||I)||I)},'aurelia-templating-resources/sanitize-html':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(3),N=y(2),A=y(19);y.d(h,'SanitizeHTMLValueConverter',function(){return L});var M,I,R;let L=(M=y.i(w.m)('sanitizeHTML'),I=y.i(N.b)(A.a),M(R=I(R=class{constructor(V){this.sanitizer=V}toView(V){return null===V||void 0===V?null:this.sanitizer.sanitize(V)}})||R)||R)},'aurelia-templating-resources/self-binding-behavior':function(u,h,y){'use strict';function w(M){return M.path&&M.path[0]||M.deepPath&&M.deepPath[0]||M.target}function N(M){let I=w(M);this.target!==I||this.selfEventCallSource(M)}Object.defineProperty(h,'__esModule',{value:!0}),y.d(h,'SelfBindingBehavior',function(){return A});let A=class{bind(I){if(!I.callSource||!I.targetEvent)throw new Error('Self binding behavior only supports event.');I.selfEventCallSource=I.callSource,I.callSource=N}unbind(I){I.callSource=I.selfEventCallSource,I.selfEventCallSource=null}}},'aurelia-templating-resources/show':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(2),N=y(1),A=y(0),M=y(11);y.d(h,'Show',function(){return T});var I,R,L;let T=(I=y.i(N.k)('show'),R=y.i(w.b)(A.c.Element,N.o,w.d.of(A.c.boundary,!0)),I(L=R(L=class{constructor(q,F,B){this.element=q,this.animator=F,this.domBoundary=B}created(){y.i(M.b)(this.domBoundary)}valueChanged(q){q?this.animator.removeClass(this.element,M.c):this.animator.addClass(this.element,M.c)}bind(){this.valueChanged(this.value)}})||L)||L)},'aurelia-templating-resources/signal-binding-behavior':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(18);y.d(h,'SignalBindingBehavior',function(){return N});let N=class{static inject(){return[w.a]}constructor(M){this.signals=M.signals}bind(M){if(!M.updateTarget)throw new Error('Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.');if(3===arguments.length){let R=arguments[2],L=this.signals[R]||(this.signals[R]=[]);L.push(M),M.signalName=R}else if(3<arguments.length){let R=Array.prototype.slice.call(arguments,2),L=R.length;for(;L--;){let T=R[L],V=this.signals[T]||(this.signals[T]=[]);V.push(M)}M.signalName=R}else throw new Error('Signal name is required.')}unbind(M){let R=M.signalName;if(M.signalName=null,Array.isArray(R)){let L=R,T=L.length;for(;T--;){let V=L[T],q=this.signals[V];q.splice(q.indexOf(M),1)}}else{let L=this.signals[R];L.splice(L.indexOf(M),1)}}}},'aurelia-templating-resources/throttle-binding-behavior':function(u,h,y){'use strict';function w(M){let I=this.throttleState,R=+new Date-I.last;return R>=I.delay?(clearTimeout(I.timeoutId),I.timeoutId=null,I.last=+new Date,void this.throttledMethod(M)):void(I.newValue=M,null===I.timeoutId&&(I.timeoutId=setTimeout(()=>{I.timeoutId=null,I.last=+new Date,this.throttledMethod(I.newValue)},I.delay-R)))}Object.defineProperty(h,'__esModule',{value:!0});var N=y(3);y.d(h,'ThrottleBindingBehavior',function(){return A});let A=class{bind(I,R,L=200){let T='updateTarget';I.callSource?T='callSource':I.updateSource&&I.mode===N.e.twoWay&&(T='updateSource'),I.throttledMethod=I[T],I.throttledMethod.originalName=T,I[T]=w,I.throttleState={delay:L,last:0,timeoutId:null}}unbind(I){let L=I.throttledMethod.originalName;I[L]=I.throttledMethod,I.throttledMethod=null,clearTimeout(I.throttleState.timeoutId),I.throttleState=null}}},'aurelia-templating-resources/update-trigger-binding-behavior':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(3);y.d(h,'UpdateTriggerBindingBehavior',function(){return R});var N,A;const I='The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.';let R=(A=N=class{constructor(T){this.eventManager=T}bind(T,V,...q){if(0===q.length)throw new Error('The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind="firstName & updateTrigger:\'blur\'">');if(T.mode!==w.e.twoWay)throw new Error(I);let F=T.observerLocator.getObserver(T.target,T.targetProperty);if(!F.handler)throw new Error(I);T.targetObserver=F,F.originalHandler=T.targetObserver.handler;let B=this.eventManager.createElementHandler(q);F.handler=B}unbind(T){T.targetObserver.handler=T.targetObserver.originalHandler,T.targetObserver.originalHandler=null}},N.inject=[w.g],A)},'aurelia-templating-resources/with':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(2),N=y(1),A=y(3);y.d(h,'With',function(){return L});var M,I,R;let L=(M=y.i(N.k)('with'),I=y.i(w.b)(N.l,N.e),M(R=y.i(N.m)(R=I(R=class{constructor(V,q){this.viewFactory=V,this.viewSlot=q,this.parentOverrideContext=null,this.view=null}bind(V,q){this.parentOverrideContext=q,this.valueChanged(this.value)}valueChanged(V){let q=y.i(A.a)(V,this.parentOverrideContext);this.view?this.view.bind(V,q):(this.view=this.viewFactory.create(),this.view.bind(V,q),this.viewSlot.add(this.view))}unbind(){this.parentOverrideContext=null,this.view&&this.view.unbind()}})||R)||R)||R)},'aurelia-templating-router':function(u,h,y){'use strict';function w(L){L.singleton(A.a,M.a).singleton(A.b,A.c).globalResources('./router-view','./route-href'),L.container.registerAlias(A.b,A.c)}var N=y(0),A=y(10),M=y(35),I=y('aurelia-templating-router/router-view'),R=y('aurelia-templating-router/route-href');y.d(h,'configure',function(){return w})},'aurelia-templating-router/route-href':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y(1),N=y(2),A=y(10),M=y(0),I=y(5);y.d(h,'RouteHref',function(){return z});var R,L,T,V,q,F;const B=I.getLogger('route-href');let z=(R=y.i(w.k)('route-href'),L=y.i(w.j)({name:'route',changeHandler:'processChange'}),T=y.i(w.j)({name:'params',changeHandler:'processChange'}),V=y.i(w.j)({name:'attribute',defaultValue:'href'}),q=y.i(N.b)(A.b,M.c.Element),R(F=L(F=T(F=V(F=q(F=class{constructor(H,U){this.router=H,this.element=U}bind(){this.isActive=!0,this.processChange()}unbind(){this.isActive=!1}attributeChanged(H,U){U&&this.element.removeAttribute(U),this.processChange()}processChange(){return this.router.ensureConfigured().then(()=>{if(!this.isActive)return null;let H=this.router.generate(this.route,this.params);return this.element.au.controller?this.element.au.controller.viewModel[this.attribute]=H:this.element.setAttribute(this.attribute,H),null}).catch((H)=>{B.error(H)})}})||F)||F)||F)||F)||F)},'aurelia-templating-router/router-view':function(u,h,y){'use strict';function w(X,J,Z,ee){Z&&Object.defineProperty(X,J,{enumerable:Z.enumerable,configurable:Z.configurable,writable:Z.writable,value:Z.initializer?Z.initializer.call(ee):void 0})}function N(X,J,Z,ee,te){var ne={};return Object.keys(ee).forEach(function(re){ne[re]=ee[re]}),ne.enumerable=!!ne.enumerable,ne.configurable=!!ne.configurable,('value'in ne||ne.initializer)&&(ne.writable=!0),ne=Z.slice().reverse().reduce(function(re,ie){return ie(X,J,re)||re},ne),te&&void 0!==ne.initializer&&(ne.value=ne.initializer?ne.initializer.call(te):void 0,ne.initializer=void 0),void 0===ne.initializer&&(Object.defineProperty(X,J,ne),ne=null),ne}Object.defineProperty(h,'__esModule',{value:!0});var M=y(2),I=y(3),R=y(1),L=y(10),T=y(4),V=y(0);y.d(h,'RouterView',function(){return $}),y.d(h,'RouterViewLocator',function(){return Y});var q,F,B,H,U,W,Q,K;let $=(q=y.i(R.g)('router-view'),F=y.i(M.b)(V.c.Element,M.a,R.e,L.b,R.r,R.d,R.h),q(B=y.i(R.i)(B=F(B=(H=class{constructor(J,Z,ee,te,ne,re,ie){w(this,'swapOrder',U,this),w(this,'layoutView',W,this),w(this,'layoutViewModel',Q,this),w(this,'layoutModel',K,this),this.element=J,this.container=Z,this.viewSlot=ee,this.router=te,this.viewLocator=ne,this.compositionTransaction=re,this.compositionEngine=ie,this.router.registerViewPort(this,this.element.getAttribute('name')),'initialComposition'in re||(re.initialComposition=!0,this.compositionTransactionNotifier=re.enlist())}created(J){this.owningView=J}bind(J,Z){this.container.viewModel=J,this.overrideContext=Z}process(J,Z){let ee=J.component,te=ee.childContainer,ne=ee.viewModel,re=ee.viewModelResource,ie=re.metadata,ae=ee.router.currentInstruction.config,oe=ae.viewPorts?ae.viewPorts[J.name]:{};te.get(Y)._notify(this);let se={viewModel:oe.layoutViewModel||ae.layoutViewModel||this.layoutViewModel,view:oe.layoutView||ae.layoutView||this.layoutView,model:oe.layoutModel||ae.layoutModel||this.layoutModel,router:J.component.router,childContainer:te,viewSlot:this.viewSlot},le=this.viewLocator.getViewStrategy(ee.view||ne);return le&&ee.view&&le.makeRelativeTo(T.c.get(ee.router.container.viewModel.constructor).moduleId),ie.load(te,re.value,null,le,!0).then((de)=>{this.compositionTransactionNotifier||(this.compositionTransactionOwnershipToken=this.compositionTransaction.tryCapture()),(se.viewModel||se.view)&&(J.layoutInstruction=se),J.controller=ie.create(te,R.s.dynamic(this.element,ne,de)),Z||this.swap(J)})}swap(J){let Z=J.layoutInstruction,ee=this.view,te=()=>{let re=R.t[this.swapOrder]||R.t.after,ie=this.viewSlot;re(ie,ee,()=>{return Promise.resolve(ie.add(this.view))}).then(()=>{this._notify()})},ne=(re)=>{return J.controller.automate(this.overrideContext,re),this.compositionTransactionOwnershipToken?this.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>{return this.compositionTransactionOwnershipToken=null,te()}):te()};return Z?(Z.viewModel||(Z.viewModel={}),this.compositionEngine.createController(Z).then((re)=>{return R.u.distributeView(J.controller.view,re.slots||re.view.slots),re.automate(y.i(I.a)(Z.viewModel),this.owningView),re.view.children.push(J.controller.view),re.view||re}).then((re)=>{return this.view=re,ne(re)})):(this.view=J.controller.view,ne(this.owningView))}_notify(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)}},U=N(H.prototype,'swapOrder',[R.j],{enumerable:!0,initializer:null}),W=N(H.prototype,'layoutView',[R.j],{enumerable:!0,initializer:null}),Q=N(H.prototype,'layoutViewModel',[R.j],{enumerable:!0,initializer:null}),K=N(H.prototype,'layoutModel',[R.j],{enumerable:!0,initializer:null}),H))||B)||B)||B),Y=class{constructor(){this.promise=new Promise((J)=>this.resolve=J)}findNearest(){return this.promise}_notify(J){this.resolve(J)}}},main:function(u,h,y){'use strict';y(0);h.configure=function(A){A.use.standardConfiguration(),A.use.plugin('my-plugin'),A.start().then(()=>A.setRoot('app'))}},'my-plugin':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});y(0);h.configure=function(A){A.globalResources('./foo')}},'my-plugin/bar/ray':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y('aurelia-framework'),N=y(0);y.d(h,'Ray',function(){return M});var A=this&&this.__decorate||function(I,R,L,T){var V=arguments.length,q=3>V?R:null===T?T=Object.getOwnPropertyDescriptor(R,L):T,F;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)q=Reflect.decorate(I,R,L,T);else for(var B=I.length-1;0<=B;B--)(F=I[B])&&(q=(3>V?F(q):3<V?F(R,L,q):F(R,L))||q);return 3<V&&q&&Object.defineProperty(R,L,q),q};let M=class{constructor(){this.name='Raaaayyy!'}};M=A([y.i(w.b)('./ray.html'),y.i(w.c)('ray')],M)},'my-plugin/bar/ray.html':function(u){u.exports='<template>\n  <require from="./ray.scss"></require>\n  <div class="ray">\n    I\'m ${name}\n  </div>\n</template>'},'my-plugin/bar/ray.scss':function(u,h,y){var w=y(37);'string'==typeof w&&(w=[[u.i,w,'']]);y(13)(w,{});w.locals&&(u.exports=w.locals),!1},'my-plugin/foo':function(u,h,y){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var w=y('aurelia-framework'),N=y(0);y.d(h,'Foo',function(){return M});var A=this&&this.__decorate||function(I,R,L,T){var V=arguments.length,q=3>V?R:null===T?T=Object.getOwnPropertyDescriptor(R,L):T,F;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)q=Reflect.decorate(I,R,L,T);else for(var B=I.length-1;0<=B;B--)(F=I[B])&&(q=(3>V?F(q):3<V?F(R,L,q):F(R,L))||q);return 3<V&&q&&Object.defineProperty(R,L,q),q};let M=class{};M=A([y.i(w.b)('./foo.html'),y.i(w.c)('foo')],M)},'my-plugin/foo.html':function(u){u.exports='<template>\n  <require from="./foo.scss"></require>\n  <require from="./bar/ray"></require>\n  <h1 class="foo">\n    i\'m foo\n  </h1>\n  <ray>\n  </ray>\n</template>'},'my-plugin/foo.scss':function(u,h,y){var w=y(38);'string'==typeof w&&(w=[[u.i,w,'']]);y(13)(w,{});w.locals&&(u.exports=w.locals),!1}});